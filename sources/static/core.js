Po.NS("Utils"),Utils.E={recordId:function(t,i){if(i=Po.F.optional(i,!1),t instanceof RL.Model){var r=parseInt(t.get("id"));return isNaN(r)&&(r=t.get("id")),r}var n=parseInt(t);if(isNaN(n)){if(i)throw"Not an id";return null}return n}};
Po.NS("Utils"),Utils.ConstantList=function(t){Po.merge(this,t)},Utils.ConstantList.prototype.toArray=function(){var t=[];for(prop in this)this.hasOwnProperty(prop)&&t.push({id:prop,text:this[prop].text,value:this[prop].value});return t},Utils.ConstantList.prototype.getByValue=function(t){for(prop in this)if(this.hasOwnProperty(prop)&&this[prop].value==t)return this[prop]},Utils.ConstantList.prototype.getKeyByValue=function(t){for(prop in this)if(this.hasOwnProperty(prop)&&this[prop].value==t)return prop};
Po.NS("Utils"),Utils.Singleton=Ember.Mixin.create({current:function(){return this._current||(this._current=this.createCurrent()),this._current},createCurrent:function(){return this.create({})},currentProp:function(t,r){var e=this.current();if(e)return"undefined"!=typeof r?(e.set(t,r),r):e.get(t)}});
Po.NS("Utils"),Utils.HandlebarsHelpers=Ember.Object.extend({debug:function(e){"use strict";console.log(e)},ucfirst:function(e){return e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e},humanFileSize:function(e){var r=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,r)).toFixed(2)+" "+["B","kB","MB","GB","TB"][r]},renderMarkdown:function(e,r){return e||(e=""),marked.setOptions(Po.merge({gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1},r)),marked(e)},gravatarImg:function(e,r){var t=r.hash.class||"",i=window.location.protocol+"//"+window.location.host,s="mm";-1===i.indexOf(":")&&(s=encodeURIComponent(i+"/static/vaultier/images/icon-avatar-grey.png"));var n="undefined"==typeof r.hash.size?32:r.hash.size,a='<img style="width:'+n+"px; height:"+n+'px;" class="'+t+'" src="http://www.gravatar.com/avatar/'+CryptoJS.MD5(e)+"?s="+n+"&d="+s+'" />';return a},printUser:function(e,r){e||(e={email:"deleteduser@vaultier.org",nickname:"Deleted user"});var t,i=e.email||e.get("email"),s=e.nickname||e.get("nickname"),n=r.hash.size||25,a=r.hash.ellipsis||60,o=r.hash.prefix||"",l=r.hash.disableTooltip||!1,p=r.hash.disableName||!1,d=this.gravatarImg(i,{hash:{size:n}});t=r.hash.email?i:this.ucfirst(s);var h=this.ellipsis(t,a);if(l)u="";else var u='data-toggle="tooltip" title="{prefix} {name} ({email})"'.replace("{prefix}",o).replace("{name}",t).replace("{email}",i);return p&&(h="",t=""),'<span class="vlt-user" {tooltip} >{avatar}{name}</span>'.replace("{tooltip}",u).replace("{name}",h).replace("{avatar}",d)},printAgo:function(e,r){var t,i=r.hash.prefix||"";try{t=moment(e).fromNow()}catch(s){console.error(s.stack)}return i&&(e=i+" "+e),'<span data-toggle=tooltip title="'+e+'">'+t+"</span>"},ellipsis:function(e,r,t){"string"!=typeof t&&(t="..."),e||(e="");var i=e.replace(/(<([^>]+)>)/g,"");if(i.length>r){var s=i.substr(0,r-t.length)+t;return s}return i},ifIndex:function(e){var r=e.data.view.contentIndex+1,t=e.hash.is;return r%t===0?e.fn(this):void 0},times:function(e,r){for(var t="",i=0;e>i;++i)t+=r.fn(i);return t},ifCond:function(v1,operator,v2,options){switch(operator){case"==":return v1==v2?options.fn(this):options.inverse(this);case"!=":return v1!=v2?options.fn(this):options.inverse(this);case"===":return v1===v2?options.fn(this):options.inverse(this);case"!==":return v1!==v2?options.fn(this):options.inverse(this);case"&&":return v1&&v2?options.fn(this):options.inverse(this);case"||":return v1||v2?options.fn(this):options.inverse(this);case"<":return v2>v1?options.fn(this):options.inverse(this);case"<=":return v2>=v1?options.fn(this):options.inverse(this);case">":return v1>v2?options.fn(this):options.inverse(this);case">=":return v1>=v2?options.fn(this):options.inverse(this);default:return eval(""+v1+operator+v2)?options.fn(this):options.inverse(this)}},register:function(){var renderMarkdown=this.renderMarkdown.bind(this);Ember.Handlebars.registerBoundHelper("renderMarkdown",function(e){return new Ember.Handlebars.SafeString(renderMarkdown(e))});var printAgo=this.printAgo.bind(this);Ember.Handlebars.registerBoundHelper("printAgo",function(e,r){return new Ember.Handlebars.SafeString(printAgo(e,r))});var debug=this.debug.bind(this);Ember.Handlebars.registerBoundHelper("debug",debug);var ucfirst=this.ucfirst.bind(this);Ember.Handlebars.registerBoundHelper("ucfirst",ucfirst);var humanFilesize=this.humanFileSize.bind(this);Ember.Handlebars.registerBoundHelper("humanFilesize",humanFilesize);var gravatarImg=this.gravatarImg.bind(this);Ember.Handlebars.registerBoundHelper("gravatarImg",function(e,r){return new Ember.Handlebars.SafeString(gravatarImg(e,r))});var printUser=this.printUser.bind(this);Ember.Handlebars.registerBoundHelper("printUser",function(e,r){return new Ember.Handlebars.SafeString(printUser(e,r))});var ellipsis=this.ellipsis.bind(this);Ember.Handlebars.registerBoundHelper("ellipsis",ellipsis);var times=this.times.bind(this);Ember.Handlebars.registerHelper("times",times);var ifCond=this.ifCond.bind(this);Ember.Handlebars.registerHelper("ifCond",ifCond);var ifIndex=this.ifIndex;Ember.Handlebars.registerHelper("ifIndex",ifIndex),Ember.Handlebars.registerHelper("exp",function(exp,options){var get=function(e){return options.data.view.get("controller."+e)},parseVariable=function(e){return e.object?parseVariable(e.object)+"."+e.property.name:e.name},variables=function(e,r){return r||(r=[]),e&&("MemberExpression"==e.type||"Identifier"==e.type?r.push(parseVariable(e,"")):(variables(e.left,r),variables(e.right,r))),r},result;try{for(var parsed=jsep(exp),vars=variables(parsed),mutated=exp,i=0;i<vars.length;i++)mutated=mutated.replace(vars[i],"get('"+vars[i]+"')");result=!1,eval("result = ("+mutated+")")}catch(e){throw console.error(e.stack),Error("Cannot parse expression: {exp}, parsed as {mutated}".replace("{exp}",exp).replace("{mutated}",mutated))}return result?options.fn(this):options.inverse(this)})}}),Utils.HandlebarsHelpers.reopenClass(Utils.Singleton);
Po.NS("Utils"),Utils.RSVPAjax=function(n){return new Ember.RSVP.Promise(function(i,o){Ember.$.ajax(n).done(function(n){i(n)}).fail(function(n){o(n)})})};
Po.NS("Utils"),Utils.MutableMethodsAdapterMixin=Ember.Mixin.create({getOverride:function(r,e){return e=e.typeKey,this.overrides&&this.overrides[e]&&this.overrides[e][r]?this.overrides[e][r]:void 0},doOverride:function(r,e,i){var t=this.getOverride(r,e);return t?t.apply(this,i):this._super.apply(this,i)},findQuery:function(r,e){return this.doOverride("findQuery",e,arguments)},find:function(r,e){return this.doOverride("find",e,arguments)},updateRecord:function(r,e){return this.doOverride("updateRecord",e,arguments)}}),Utils.MutableUrlsAdapterMixin=Ember.Mixin.create({buildURL:function(r,e){return this.urls[r]?(url=this.urls[r],e&&("/"!==url.charAt(url.length-1)&&(url+="/"),url+=e),url):this._super(r,e)}});
Ember.FEATURES["query-params"]=!0,Ember.MODEL_FACTORY_INJECTIONS=!0,Vaultier=Ember.Application.create({LOG_TRANSITIONS:!0,ready:function(){InitializeConfig(this),LGTM.configure("defer",Ember.RSVP.defer),$.notify.defaults({className:"success",style:"bootstrap",position:"bottom center",autoHideDelay:7e3,css:"vlt-notification"}),Utils.HandlebarsHelpers.current().register(),$.cookie.json=!0,$("body").tooltip({selector:"[data-toggle=tooltip]"}),setInterval(function(){var e=$("body").height(),t=$(window).height(),i=$("#vlt-footer").height();$("#vlt-footer").css(t>e+i?{position:"fixed"}:{position:"relative"})},500),this.keypressBindings(),this.registerDI(this)}}),Vaultier.deferReadiness();
"use strict";Vaultier.keypressBindings=function(){var n=[{keys:"alt s",is_exclusive:!0,on_keydown:function(){var n=$(".vlt-search-box select");return n.length&&n[0].selectize.focus(),!1},on_keyup:function(){},"this":window}],e=function(){keypress.register_many(n)},i=function(){keypress.unregister_many(n)};$(document).on("ApplicationLoaderShow",function(){e()}),$(document).on("ApplicationLoaderHide",function(){i()}),e()};
Vaultier.registerDI=function(e){e.register("config:main",Vaultier.Config),e.inject("route","config","config:main"),e.inject("controller","config","config:main"),e.inject("view","config","config:main"),e.inject("service","config","config:main"),e.register("store:main",Vaultier.Client,{instantiate:!1}),e.inject("route","store","store:main"),e.inject("controller","store","store:main"),RESTless.set("client",Vaultier.Client),e.register("service:errors",Service.Errors),e.inject("route","errors","service:errors"),e.inject("service:errors","errorController","controller:ErrorGeneric"),e.inject("service:errors","router","router:main"),e.register("service:session",Service.Session),e.register("service:storage",Service.Storage),e.register("service:auth",Service.Auth),e.inject("service:auth","coder","service:coder"),e.inject("service:auth","store","store:main"),e.inject("service:auth","router","router:main"),e.inject("service:auth","session","service:session"),e.inject("service:auth","storage","service:storage"),e.inject("route","auth","service:auth"),e.inject("controller","auth","service:auth"),e.register("service:coder",Service.Coder),e.register("service:invitations",Service.Invitations),e.inject("service:invitations","store","store:main"),e.inject("service:invitations","session","service:session"),e.inject("service:invitations","auth","service:auth"),e.inject("service:invitations","router","router:main"),e.inject("route:InvitationUse","invitations","service:invitations"),e.inject("route:InvitationAccept","invitations","service:invitations"),e.inject("route:WorkspaceMemberInvite","invitations","service:invitations"),e.inject("route:VaultMemberInvite","invitations","service:invitations"),e.inject("route:CardMemberInvite","invitations","service:invitations"),e.inject("route:Workspaces","invitations","service:invitations"),e.register("service:keytransfer",Service.KeyTransfer),e.inject("service:keytransfer","store","store:main"),e.inject("service:keytransfer","auth","service:auth"),e.inject("service:keytransfer","coder","service:coder"),e.register("service:workspacekey",Service.WorkspaceKey),e.inject("service:workspacekey","auth","service:auth"),e.inject("service:workspacekey","store","store:main"),e.inject("service:workspacekey","coder","service:coder"),e.inject("service:workspacekey","keytransfer","service:keytransfer"),e.inject("route:WorkspacesCreate","workspacekey","service:workspacekey"),e.inject("route:Workspace","workspacekey","service:workspacekey"),e.inject("route:WorkspaceNoKeys","workspacekey","service:workspacekey"),e.inject("route:WorkspaceMemberApprove","workspacekey","service:workspacekey"),e.register("service:changekey",Service.ChangeKey),e.inject("route:SettingsKeys","changekey","service:changekey"),e.inject("route:AuthLostKeyRecoveryRebuild","changekey","service:changekey"),e.inject("service:changekey","store","store:main"),e.inject("service:changekey","auth","service:auth"),e.inject("service:changekey","coder","service:coder"),e.register("service:newuserinit",Service.NewUserInit),e.inject("service:newuserinit","auth","service:auth"),e.inject("service:newuserinit","router","router:main"),e.inject("service:newuserinit","invitations","service:invitations"),e.inject("route:AuthRegisterCreds","newuserinit","service:newuserinit"),e.inject("component:change-key","changekey","service:changekey"),e.inject("component:member-manager-accordion","store","store:main"),e.register("service:environment",Service.Environment),e.inject("route","environment","service:environment"),e.inject("controller:LayoutWorkspaceBox","environment","service:environment"),e.inject("service:invitations","env","service:environment")};
var router=Vaultier.Router.map(function(){this.resource("AuthRegister",{path:"/auth/register"},function(){this.route("before",{path:"overview"}),this.route("keys",{path:"generate-keys"}),this.route("creds",{path:"submit-credentials"}),this.route("sum",{path:"/registration-done"})}),this.route("AuthLogin",{path:"/auth/login"}),this.resource("AuthLostKey",{path:"/lostkey"},function(){this.route("success",{path:"success"}),this.resource("AuthLostKeyRecovery",{path:"/:id/:hash"},function(){this.route("reset",{path:"reset"}),this.route("rebuild",{path:"rebuild"}),this.route("disable",{path:"disable"}),this.route("success",{path:"success"})})}),this.resource("Invitation",{path:"/invitations"},function(){this.route("use",{path:"/use/:invitation/:hash"}),this.route("anonymous",{path:"/anonymous"}),this.route("accept",{path:"/accept"})}),this.resource("Settings",{path:"/settings"},function(){this.route("personal",{path:"/personal"}),this.route("keys",{path:"/keys"})}),this.resource("Workspaces",{path:"/workspaces"},function(){this.route("create",{path:"/create"}),this.route("select",{path:"/select"}),this.resource("Workspace",{path:"/w/:workspace"},function(){this.route("edit",{path:"/edit"}),this.route("noKeys",{path:"/waiting-for-keys"}),this.route("memberIndex",{path:"/team"}),this.route("memberInvite",{path:"/team/invite"}),this.route("memberManagement",{path:"/team/management"}),this.resource("Vaults",{path:"/vaults"},function(){this.route("create",{path:"/create"}),this.resource("Vault",{path:"/v/:vault"},function(){this.route("edit",{path:"/edit"}),this.route("memberIndex",{path:"/team"}),this.route("memberInvite",{path:"/team/invite"}),this.resource("Cards",{path:"/cards"},function(){this.route("create",{path:"/create"}),this.resource("Card",{path:"/c/:card"},function(){this.route("edit",{path:"/edit"}),this.route("move",{path:"/move"}),this.route("memberIndex",{path:"/team"}),this.route("memberInvite",{path:"/team/invite"}),this.resource("Secret",{path:"/secrets"},function(){this.route("createSelect",{path:"/create/select"}),this.route("createSubmit",{path:"/create/submit/:type"}),this.route("edit",{path:"/edit/:secret"}),this.route("move",{path:"/move/:secret"})})})})})})})}),this.resource("Home",{path:"/home"},function(){}),this.route("ErrorGeneric",{path:"/errors/"}),this.route("Error404",{path:"*path"})});Ember.Route.reopen({activate:function(){this._super(),window.scrollTo(0,0)}}),Vaultier.ApplicationRoute=Ember.Route.extend({actions:{error:function(t){return this.get("errors").processError(t),!1},loading:function(t){ApplicationLoader.showLoader(),t.promise.finally(function(){ApplicationLoader.hideLoader()}.bind(this))}},beforeModel:function(){var t=this.get("auth"),e=t.reload();return e}}),Vaultier.IndexRoute=Ember.Route.extend({redirect:function(){var t=this.get("auth");return this.transitionTo(t.get("isAuthenticated")?"Workspaces.index":"Home.index")}});
Po.NS("Service"),Service.Errors=Ember.Object.extend({errorController:null,router:null,errorRoute:"ErrorGeneric",rendering:!1,init:function(){this._super();var r=this.get("config.FT_FEATURES.raven_key");r&&Raven.config(r,{whitelistUrls:[]}).install()},parseError:function(r){var e={title:"Oooups! Something wrong happen here",message:"Fatal error",template:"ErrorGeneric",error:r};return r&&(r.message||r.detail)&&(e.message=r.message||r.detail),r&&r.title&&(e.title=r.title),r&&403==r.status&&(e.title="Access denied!",e.message="You do not have access to desired area"),r&&404==r.status&&(e.template="Error404"),e},consoleError:function(r,e){e=e||"error",console[e](r.stack?r.stack:r)},renderError:function(r){var e=this.get("errorController"),t=this.parseError(r);e.set("error",r),e.set("content",t);var o=this.get("router"),n=this.get("errorRoute");o.intermediateTransitionTo(n),ApplicationLoader.hideLoader()},logError:function(r){var e=this.get("container");this.consoleError(r),Raven.setUser(null);var t,o=e.lookup("service:auth");o&&(t=o.get("user"))&&(t={email:t.get("email"),id:t.get("id")},Raven.setUser(t));var n=e.lookup("controller:application"),s="";n&&(s=n.get("currentPath"));var i={};i.type=r.type,i.errorDuringRendering=this.get("rendering"),i.currentPath=s,Raven.captureException(r,{extra:i})},processError:function(r){try{this.logError(r)}catch(e){console.error("--CANNOT-CAPTURE-ERROR"),console.log(e.stack)}try{this.renderError(r)}catch(e){console.error("--CANNOT-RENDER-ERROR--"),console.error(e.stack)}}});
"use strict";var Service=Po.NS("Service");Service.Environment=Ember.Object.extend({workspace:null,vault:null,card:null,secret:null,router:null});
Po.NS("Service"),Service.Auth=Ember.Object.extend({init:function(){this._super(arguments),this.promises=Service.AuthPromises.create({store:this.store,coder:this.coder})},store:null,coder:null,router:null,session:null,storage:null,token:null,user:null,checked:!1,privateKey:null,transition:null,isAuthenticated:function(){return null!==this.get("user.id")}.property("user"),isChecked:function(){return 1==this.get("checked")}.property("user","checked"),generateKeys:function(e){this.get("coder");return this.coder.generateKeys(e)},checkPermissions:function(e,t,r){var i=function(e){var r=!1;try{r=t(e)}catch(i){console.error(i.stack)}if(!r){var i=new Error("Missing client permission");throw i.status=403,i}return r}.bind(this);return r?i():i},login:function(e,t,r){return e||(e=""),e=e.toLowerCase(),this.promises.login(e,t).then(function(e){if(this.setAuthenticatedUser(e,t,this.promises.get("token")),r){var i=this.get("transition");i?i.retry():this.get("router").transitionTo("index")}return e}.bind(this),function(){return this.setAuthenticatedUser(null),Ember.RSVP.reject()}.bind(this))},rememberUser:function(e,t,r){e&&r?this.get("storage").set("remember",{email:e,privateKey:t,ttl:r},r):this.get("storage").remove("remember")},getRememberedUser:function(){return this.get("storage").get("remember",null)},reload:function(){var e=this.loadFromSession()||{},t=e.user||null,r=e.privateKey||null,i=e.token||null;return this.promises.user(t,i).then(function(e){return this.setAuthenticatedUser(e,r,i)}.bind(this),function(){return this.setAuthenticatedUser(null)}.bind(this))},logout:function(){return this.promises.logout().then(function(){this.setAuthenticatedUser(null)}.bind(this)).then(function(){window.location="/"})},checkAuthenticatedOrLogin:function(e){return this.get("isAuthenticated")?!0:($.notify("You do not have access to secured area. Please login","error"),e.abort(),this.set("transition",e),this.get("router").transitionTo("AuthLogin"),!1)},setAuthenticatedUser:function(e,t,r){var i;return e&&t&&r?(i=!0,this.setProperties({checked:!0,isAuthenticated:!0,user:e,privateKey:t,token:r})):(i=!1,this.setProperties({checked:!0,isAuthenticated:!1,user:null,privateKey:null,token:null})),this.saveToSession(),i},saveToSession:function(){this.session.set("auth",{token:this.get("token"),email:this.get("user.email"),user:this.get("user.id"),privateKey:this.get("privateKey")})},loadFromSession:function(){return this.session.get("auth")}});
Service.AuthPromises=Ember.Object.extend({token:null,store:null,coder:null,_auth:function(e,t){var r=this.coder,n=r.sign(e,t);return Utils.RSVPAjax({url:"/api/auth/auth",type:"post",data:{email:e,signature:n}})},_retrieveUser:function(e){return e?this.get("store").find("User",e).catch(function(){throw Error("Cannot retrieve user with id {id}".replace("{id}",e))}):Ember.RSVP.reject("User id not specified")},_useToken:function(e){return Ember.$.ajaxSetup({beforeSend:function(t){t.setRequestHeader("X-Vaultier-Token",e)}}),this.set("token",e),Ember.RSVP.resolve()},_resetToken:function(){return Ember.$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-Vaultier-Token","")}}),this.set("token",null),Ember.RSVP.resolve()},_unauth:function(){return Utils.RSVPAjax({url:"/api/auth/logout",type:"post"})},user:function(e,t){return this._useToken(t),this._retrieveUser(e)},logout:function(){return Ember.RSVP.resolve().then(this._unauth()).then(this._resetToken())},login:function(e,t){var r,n;return Ember.RSVP.resolve().then(function(){return this._auth(e,t)}.bind(this)).then(function(e){return r=e.user,n=e.token,this._useToken(n)}.bind(this)).then(function(){return this._retrieveUser(r)}.bind(this))}});
Po.NS("Service"),Service.Session=Ember.CoreObject.extend({init:function(){if(!window.sessionStorage)throw"Vaultier requires sessionStorage to be supported by browser"},prefix:"vaultier.",set:function(e,r){Ember.$(document).sessionStorage(this.prefix+e,r)},get:function(e,r){var t=Ember.$(document).sessionStorage(this.prefix+e);return"undefined"!=typeof t&&null!==t||"undefined"==typeof r?t:r},remove:function(e){return Ember.$(document).sessionStorage(this.prefix+e,null)}});
Po.NS("Service"),Service.Storage=Ember.CoreObject.extend({init:function(){if(!window.localStorage)throw"Vaultier requires localStorage to be supported by browser"},prefix:"vaultier.",set:function(e,t,r){var r=r||0;$.jStorage.set(this.prefix+e,t),$.jStorage.setTTL(this.prefix+e,r)},get:function(e,t){var r=$.jStorage.get(this.prefix+e);return"undefined"!=typeof r&&null!==r||"undefined"==typeof t?r:t},remove:function(e){return $.jStorage.deleteKey(this.prefix+e)}});
Po.NS("Service"),Service.Coder=Ember.Object.extend({TestingGenerator:Ember.Object.extend({getPrivateKey:function(){return this.private},getPublicKey:function(){return this.public},getKey:function(e){return this.private=$("div.vlt-test-private-key").text().trim(),this.public=$("div.vlt-test-public-key").text().trim(),e?e(this):this}}),generateKeys:function(e){if(this.get("config.FT_FEATURES.dev_shared_key"))var t=this.TestingGenerator.create();else var t=new JSEncrypt({default_key_size:2048});var r=function(){return{privateKey:t.getPrivateKey(),publicKey:t.getPublicKey()}};return e?void t.getKey(function(){e(r())}):(t.getKey(),r())},sign:function(e,t){var r=new RSAKey;r.readPrivateKeyFromPEMString(t);var n=hex2b64(r.signString(e,"sha1"));return n},encryptRSA:function(e,t){var r=new JSEncrypt;r.setPublicKey(t);var n=r.encrypt(e);return n},encryptWorkspaceKey:function(e,t){return this.encryptRSA(e,t)},decryptRSA:function(e,t){var r=new JSEncrypt;r.setPrivateKey(t);var n=r.decrypt(e);return n},decryptWorkspaceKey:function(e,t){return this.decryptRSA(e,t)},generateWorkspaceKey:function(){for(var e=32,t="",r=0;e>r;r++)t+=String.fromCharCode(Math.floor(255*Math.random()));return t},decryptAES:function(e,t){return CryptoJS.AES.decrypt(e,t).toString(CryptoJS.enc.Utf8)},encryptAES:function(e,t){return CryptoJS.AES.encrypt(e,t).toString()},decryptWorkspaceData:function(e,t){return this.decryptAES(e,t)},encryptWorkspaceData:function(e,t){return this.encryptAES(e,t)}});
Po.NS("Service"),Service.Invitations=Ember.Object.extend({SESSION_KEY:"invitations",session:null,auth:null,store:null,router:null,init:function(){this._super()},_memberPromise:function(t,n,i,e){var s=n.indexOf("@")<0?parseInt(n):null;return Utils.RSVPAjax(s?{url:"/api/members/"+s+"/",type:"get"}:{url:"/api/members/",type:"post",data:{workspace:Utils.E.recordId(t),email:n,send:i,resend:e}})},_invitePromise:function(t,n,i){var e={member:t.id,level:n,to_workspace:Utils.E.recordId(i.to_workspace),to_vault:Utils.E.recordId(i.to_vault),to_card:Utils.E.recordId(i.to_card)};return Utils.RSVPAjax({url:"/api/roles/",type:"post",data:e})},invite:function(t,n,i,e,s,r){return s=Po.F.optional(s,!1),r=Po.F.optional(r,!1),Ember.RSVP.resolve().then(function(){return this._memberPromise(t,n,s,r)}.bind(this)).then(function(t){return this._invitePromise(t,i,e)}.bind(this))},_storeInvitationToSession:function(t,n){return new Ember.RSVP.Promise(function(i){var e={id:t,hash:n},s=this.get("session").get(this.SESSION_KEY,{});s[t]=e,this.session.set(this.SESSION_KEY,s),i(e)}.bind(this))},hasInvitationsInSession:function(){var t=this.session.get(this.SESSION_KEY,null);return null!==t},acceptInvitationsInSession:function(t){t=t?Ember.RSVP.resolve(t):this.fetchInvitationsInSession();var n=t.then(function(t){var n=[];return t.forEach(function(t){t.set("status",200),n.push(t.saveRecord())}),Ember.RSVP.all(n)});return n},clearInvitationsInSession:function(){this.session.set(this.SESSION_KEY,null)},_validateInvitation:function(){return Ember.RSVP.resolve()},fetchInvitationsInSession:function(){var t=this.session.get(this.SESSION_KEY,{}),n=[],e=this.get("store");for(i in t)t.hasOwnProperty(i)&&n.push(e.find("Invitation",t[i].hash));return Ember.RSVP.all(n)},useInvitation:function(t,n){return Ember.RSVP.resolve().then(function(){return this._validateInvitation(t,n)}.bind(this)).then(function(){return this._storeInvitationToSession(t,n)}.bind(this)).then(function(){return this.get("router").transitionTo(this.get("auth").get("isAuthenticated")?"Invitation.accept":"Invitation.anonymous")}.bind(this))}});
Po.NS("Service"),Service.WorkspaceKeyDecryptSoftError=function(){var e=Error.apply(this,arguments);this.stack=e.stack},Service.WorkspaceKey=Ember.Object.extend(Ember.Evented,{coder:null,auth:null,store:null,keytransfer:null,membersToApprove:null,workspace:null,workspaceKey:null,checkInterval:6e4,checkIntervalId:null,init:function(){this._super(this,arguments)},startChecking:function(e){this.set("checkIntervalId",setInterval(function(){this.checkWorkspaceKey(e)}.bind(this),this.get("checkInterval")))},stopChecking:function(){clearInterval(this.get("checkIntervalId"))},checkWorkspaceKey:function(e){this.get("store").find("Workspace",e.get("id")).then(function(t){t.get("membership.status")==Vaultier.Member.proto().statuses.MEMBER.value&&(this.stopChecking(),e.reloadRecord().then(function(){this.selectWorkspace(e),$.notify(['Keys to workspace "{workspace}" has been transfered to you. ',"You can now fully work with workspace"].join("").replace("{workspace}",e.get("name")),{autoHideDelay:1e4}),this.trigger("keyTransfered",e)}.bind(this)))}.bind(this))},selectWorkspace:function(e){if(this.set("membersToApprove",null),this.set("workspace",e),e){this.stopChecking();var t=e.get("membership.workspace_key"),r=null;if(e.set("keyError",!1),this.hasValidWorkspaceKey()){try{r=this.get("keytransfer").decryptWorkspaceKey(t)}catch(s){console.error(s.stack),e.set("keyError",!0)}this.set("workspaceKey",r)}else this.startChecking(e)}else this.set("workspaceKey",null)},hasValidWorkspaceKey:function(){var e=this.get("workspace");return e.get("membership.status")==Vaultier.Member.proto().statuses.MEMBER.value},transferKeyToCreatedWorkspace:function(e){var t=this.get("keytransfer"),r=t.generateWorkspaceKey();return t.transferKeyToMember(e.get("membership.id"),r)},decryptWorkspaceData:function(e){var t=this.get("coder"),r=this.get("workspace");if(!r)throw new Error("Workspace not selected");if(this.hasValidWorkspaceKey){var s=this.get("workspaceKey");return e=t.decryptWorkspaceData(e,s),e=JSON.parse(e)}throw new Service.WorkspaceKeyDecryptSoftError("Cannot decrypt: workspace.membership.status {status}".replace("{status}",r.get("membership.status")))},encryptWorkspaceData:function(e){var t=this.get("coder"),r=this.get("workspace");if(!r)throw new Error("Workspace not selected");if(this.hasValidWorkspaceKey){var s=this.get("workspaceKey");return e=JSON.stringify(e),t.encryptWorkspaceData(e,s)}throw new Error("Cannot encrypt. workspace.membership.status {status}".replace("{status}",r.get("membership.status")))}});
Po.NS("Service"),Service.KeyTransfer=Ember.Object.extend({coder:null,auth:null,store:null,interval:6e4,_registeredQuery:null,init:function(){this._super.apply(this,arguments),this.register()},destroy:function(){this.unregister(),this._super.apply(this,arguments)},register:function(){if(this._registeredQuery)throw Error("Already registered");var e=this._query.bind(this);this._registeredQuery=setInterval(e,this.interval),e()},unregister:function(){clearInterval(this._registeredQuery),this._registeredQuery=null},_query:function(){this.get("auth.isAuthenticated")&&this.get("store").find("WorkspaceKey").then(function(e){var r=[];return e.forEach(function(e){if(e.get("user")!=this.get("auth.user.id")){var t=e.get("workspace");t?this.get("store").find("Workspace",t).then(function(t){try{var i=t.get("membership.workspace_key"),s=this.decryptWorkspaceKey(i);r.push(this.transferKeyToMember(e,s))}catch(n){console.error("Keytransfer failed for member {id}".replace("{id}",e.get("id"))),console.error(n.stack)}}.bind(this)):console.error("missing workspace id")}}.bind(this)),Ember.RSVP.all(r)}.bind(this))},generateWorkspaceKey:function(){return this.get("coder").generateWorkspaceKey()},decryptWorkspaceKey:function(e){var r=e,t=this.get("coder"),i=this.get("auth.privateKey");if(r=t.decryptWorkspaceKey(r,i),!r)throw new Error("Cannot decrypt workspace key");return r},transferKeyToMember:function(e,r){var t=Utils.E.recordId(e),i=this.get("store"),s=this.get("coder"),n=i.find("WorkspaceKey",t).then(function(e){var t=e.get("public_key"),i=s.encryptWorkspaceKey(r,t);return e.set("workspace_key",i),e.saveRecord()});return n}});
Po.NS("Service"),Service.ChangeKey=Ember.Object.extend({auth:null,store:null,coder:null,generateKeys:function(e){return this.get("auth").generateKeys(e)},changeKey:function(e){if(!this.get("auth.isAuthenticated"))throw Error("Only authenticated user can change his privatekey");var t=this.get("auth.privateKey"),r=e.privateKey,i=e.publicKey,n=this.get("auth.user"),s=this.get("coder"),a=this.get("store").find("UserKey",n.get("id")).then(function(e){return e.set("isDirty",!0),e.set("public_key",i),e.get("membership").forEach(function(e){var r=s.decryptWorkspaceKey(e.workspace_key,t),n=s.encryptWorkspaceKey(r,i);e.workspace_key=n}.bind(this)),e.saveRecord().then(function(){return this.get("auth").login(n.get("email"),r)}.bind(this))}.bind(this));return a}});
Po.NS("Service"),Service.NewUserInit=Ember.Object.extend({auth:null,invitations:null,router:null,createTransitionFunction:function(e,t){var n=this.get("router");return t&&e?function(){n.transitionTo("Vault.index",e,t)}:function(){n.transitionTo("index")}},initializeUser:function(){var e=this.get("auth"),t=this.get("invitations");if(!e.get("isAuthenticated"))throw new Error("User is not authenticated");if(t.hasInvitationsInSession())return Ember.RSVP.resolve(this.createTransitionFunction());var n=Utils.HandlebarsHelpers.create(),r=n.ucfirst(e.get("user.nickname")),i="{nickname}'s workspace",a="{nickname}'s default workspace to store vaults, cards and secrets",s="Default vault",o="{nickname}'s default vault to store cards and secrets",c=new Vaultier.Workspace;c.setProperties({name:i.replace("{nickname}",r),description:a.replace("{nickname}",r)});var u=new Vaultier.Vault;u.setProperties({name:s.replace("{nickname}",r),description:o.replace("{nickname}",r)});var l=Ember.RSVP.resolve().then(function(){return c.saveRecord()}).then(function(){return u.set("workspace",c.get("id")),u.saveRecord()}).then(function(){return new Ember.RSVP.Promise(function(e){e({transitionAfterRegister:this.createTransitionFunction(c,u),defaultWorkspace:c,defaultVault:u})}.bind(this))}.bind(this));return l}});
Vaultier.CreatedUpdatedMixin=Ember.Mixin.create({created_at:RL.attr("date",{readOnly:!0}),updated_at:RL.attr("date",{readOnly:!0}),created_by:RL.attr("object",{readOnly:!0}),updated_ago:function(){var t,e=this.get("updated_at");try{t=moment(e).fromNow()}catch(a){console.error(a.stack)}return t}.property("updated_at"),created_ago:function(){var t,e=this.get("created_at");try{t=moment(e).fromNow()}catch(a){console.error(a.stack)}return t}.property("created_at")});
Vaultier.MutableModel=Vaultier.MutableModel||{},Vaultier.MutableModel.Mixin=Ember.Mixin.create({init:function(){this._super.apply(this,arguments);var e=this.get("mutableModelTypeField");if(!e)throw new Error("mutableModelTypeField must be specified");var i=this.get("mutableModelMapping");if(!i)throw new Error("mutableModelMapping has to be specified ");this.addObserver(e,this,function(){this.applyMutableMixin(this.getMutableType())})},getMutableType:function(){var e=this.get("mutableModelTypeField");return this.get(e)},getMutableClass:function(e){var i=this.get("mutableModelMapping"),t=i[e];if(!t)throw new Error("Mutation mixin class not found for type {type}".replace("{type}",e));return t},applyMutableMixin:function(e){var i=this.getMutableClass(e),t=Ember.get(i);if(!t)throw new Error("Cannot instantiate secret class mixin {mixin} for type {type}".replace("{type}",e).replace("{mixin}",i));var a=t.detect(this);if(a)throw new Error("Cannot apply mixin {mixin}, already applied {applied}".replace("{mixin}",i).replace("{applied}",appliedMixin));t.apply(this),t.mixins.forEach(function(e){e.properties.init&&e.properties.init.apply(this)}.bind(this)),this.set("mutableMixinApplied",i)}});
Vaultier.EncryptedModel=Vaultier.EncryptedModel||{};var getEncryptedDataKey=function(e){return"_decrypted-data-"+e};Vaultier.EncryptedModel.Mixin=Ember.Mixin.create({EncryptedModelMixedIn:!0,workspacekey:null,init:function(){this.workspacekey=Vaultier.__container__.lookup("service:workspacekey"),this._super.apply(this,arguments),this.get("isNew")&&this.set("decrypted",!0)},decryptedFields:Ember.computed(function(){var e=Ember.Map.create();return this.constructor.eachComputedProperty(function(t,r){r.isDecryptedField&&e.set(t,!0)}),e}),encryptedFields:Ember.computed(function(){var e=Ember.meta(this,!1).descs,t=Ember.Map.create();for(var r in e){var i=e[r];i instanceof Ember.ComputedProperty&&i._meta&&i._meta.isDecryptedField&&t.set(i._meta.encryptedField,!0)}return t}),getDirtyEncryptedFields:function(){var e=Ember.Map.create();return this.get("encryptedFields").forEach(function(t){var r=this.getDecryptedData(t);r&&r.isDirty&&e.set(t,!0)}.bind(this)),e},areDecryptedDataDirty:function(e){var t=Ember.keys(e.data),r=Ember.keys(e.cleanData);if(t.length!==r.length)return!0;for(var i=0;i<t.length;i++){var a=t[i];if(Ember.get(e,"data."+a)!=Ember.get(e,"cleanData."+a))return!0}return!1},setDecryptedData:function(e,t,r){var i=getEncryptedDataKey(e),t=t||{},a={cleanData:t.cleanData||{},data:t,isDirty:null};r?(a.cleanData=Ember.merge({},t),a.isDirty=!1):a.isDirty=this.areDecryptedDataDirty(a),this.set(i,a)},clearDecryptedData:function(){this.get("encryptedFields").forEach(function(e){this.setDecryptedData(e)}.bind(this))},getDecryptedData:function(e){var t=getEncryptedDataKey(e),r=this.get(t);return r?r:(this.setDecryptedData(e),this.get(t))},decryptField:function(e){var t,r=this.get(e);t=r?this.workspacekey.decryptWorkspaceData(r)||{}:null,this.setDecryptedData(e,t,!0)},decryptFields:function(){this.get("encryptedFields").forEach(function(e){this.decryptField(e)}.bind(this))},encryptField:function(e){var t=this.getDecryptedData(e),r=this.workspacekey.encryptWorkspaceData(t.data);this.set(e,r)},deserialize:function(){var e=this._super.apply(this,arguments);e.clearDecryptedData(),this.set("decrypted",!1);try{e.decryptFields(),this.set("decrypted",!0)}catch(t){throw this.set("decrypted",!1),console.error("Secret decryption failed"),console.error(t.stack),t}return e},serialize:function(){return this.getDirtyEncryptedFields().forEach(function(e){this.encryptField(e)}.bind(this)),this._super.apply(this,arguments)}}),Vaultier.EncryptedModel.decryptedField=function(e,t){return Ember.computed(function(r,i){if(!Vaultier.EncryptedModel.Mixin.detect(this))throw new Error("Only models with mixin Vaultier.EncryptedModelMixin can have decryptedField");t&&(r=t);var a=this.getDecryptedData(e);return 1===arguments.length?a?Ember.get(a,"data."+r):void 0:(Ember.set(a,"data."+r,i),Ember.set(a,"isDirty",this.areDecryptedDataDirty(a)),this.set("isDirty",!0),this)}).property(getEncryptedDataKey(e)).meta({encryptedField:e,isDecryptedField:!0})};
Vaultier.RollbackMixin=Ember.Mixin.create({init:function(){this._super.apply(this,arguments),this.on("didLoad",function(){this.storeCleanValues()}.bind(this)),this.on("didUpdate",function(){this.storeCleanValues()}.bind(this)),this.on("didCreate",function(){this.storeCleanValues()}.bind(this)),this.storeCleanValues()},cleanValues:{},storeCleanValues:function(){this.set("cleanValues",{}),Ember.get(this.constructor,"fields").forEach(function(t){this.set("cleanValues."+t,this.get(t))}.bind(this))},rollback:function(){if(this.get("isSaving"))throw Error("Cannot rollback. Record is in state isSaving.");Ember.get(this.constructor,"fields").forEach(function(t){this.set(t,this.get("cleanValues."+t))}.bind(this)),this.set("isDirty",!1)}});
Vaultier.JSONSerializer=RESTless.JSONSerializer.extend({serialize:function(e,r){return r=r||{},r.nonEmbedded=!0,this._super.apply(this,[e,r])},keyForResourceName:function(e){return e},attributeNameForKey:function(e,r){return r}}),Vaultier.RESTAdapter=RL.RESTAdapter.extend({url:"/",namespace:"api",serializer:Vaultier.JSONSerializer.create(),buildUrl:function(e,r){var t,a,i=this.resourcePath(Ember.get(e.constructor,"resourceName")),n=Ember.get(e.constructor,"resourceListFormat"),u=Ember.get(e.constructor,"resourceDetailFormat"),o=this.get("rootPath"),c=Ember.get(e.constructor,"primaryKey"),s="",l="";if(r?l=r:e.get(c)&&(l=e.get(c)),this.get("useContentTypeExtension")&&s)var s=this.get("serializer.dataType");n||(n="{rootPath}/{resourcePath}/{dataType}"),u||(u="{rootPath}/{resourcePath}/{id}/{dataType}"),t=l?u:n;var a=t.replace("{rootPath}",o).replace("{resourcePath}",i).replace("{id}",l).replace("{dataType}",s);return a}}).create(),Vaultier.RESTAdapter.registerTransform("object",{deserialize:function(e){return e},serialize:function(e){return e}}),Vaultier.Client=RL.Client.create({adapter:Vaultier.RESTAdapter,createRecord:function(e,r){return Vaultier[e].create(r)},find:function(){var e=arguments[0],r=arguments[1];return Vaultier[e].fetch(r)}});
Vaultier.User=RL.Model.extend(Vaultier.CreatedUpdatedMixin,Vaultier.RollbackMixin,{email:RL.attr("string"),nickname:RL.attr("string"),public_key:RL.attr("string"),saveRecord:function(){var e=this.get("email");return e&&this.set("email",e.toLowerCase()),this._super.apply(this,arguments)}}),Vaultier.UserKey=RL.Model.extend({public_key:RL.attr("string"),membership:RL.attr("object")}),Vaultier.UserKey.reopenClass({resourceDetailFormat:"{rootPath}/users/{id}/key/"});
Vaultier.Workspace=RL.Model.extend(Vaultier.CreatedUpdatedMixin,Vaultier.RollbackMixin,{init:function(){return this.set("workspacekey",Vaultier.__container__.lookup("service:workspacekey")),this._super.apply(this,arguments)},workspacekey:null,keyError:!1,name:RL.attr("string"),slug:RL.attr("string"),description:RL.attr("string"),perms:RL.attr("object",{readOnly:!0}),membership:RL.attr("object",{readOnly:!0}),hasValidKey:function(){return this.get("membership.status")==Vaultier.Member.proto().statuses.MEMBER.value}.property("membership.status"),saveRecord:function(){var e=this.get("isNew"),t=this._super.apply(this,arguments),r=this;return e&&(t=t.then(function(){return this.get("workspacekey").transferKeyToCreatedWorkspace(r)}.bind(this)).then(function(){return r.reloadRecord()}.bind(this))),t}});
Vaultier.WorkspaceKey=RL.Model.extend({public_key:RL.attr("string"),workspace_key:RL.attr("longs"),status:RL.attr("string"),workspace:RL.attr("object"),user:RL.attr("object")});
"use strict";Vaultier.Member=RL.Model.extend(Vaultier.CreatedUpdatedMixin,{status:RL.attr("number"),email:RL.attr("string"),nickname:RL.attr("string"),user:RL.attr("object"),workspace:RL.attr("object"),statuses:new Utils.ConstantList({INVITED:{value:100,text:"INVITED"},MEMBER_WITHOUT_WORKSPACE_KEY:{value:200,text:"MEMBER_WITHOUT_WORKSPACE_KEY"},MEMBER:{value:300,text:"MEMBER"}})});
Vaultier.Invitation=RL.Model.extend(Vaultier.CreatedUpdatedMixin,{invitation_email:RL.attr("string"),invitation_hash:RL.attr("string"),status:RL.attr("number"),roles:RL.hasMany("Vaultier.InvitationRole")}),Vaultier.Invitation.reopenClass({primaryKey:"invitation_hash"}),Vaultier.InvitationRole=RL.Model.extend(Vaultier.CreatedUpdatedMixin,{to_name:RL.attr("string"),to_type:RL.attr("number"),name:function(){var t=Vaultier.Role.proto(),e=this.get("to_type"),a=this.get("to_name");return e==t.types.TO_WORKSPACE.value?'Invited to workspace "{to_name}"'.replace("{to_name}",a):e==t.types.TO_VAULT.value?'Invited to vault "{to_name}"'.replace("{to_name}",a):e==t.types.TO_CARD.value?'Invited to card "{to_name}"'.replace("{to_name}",a):void 0}.property("to_name","to_type")});
Vaultier.Role=RL.Model.extend(Vaultier.CreatedUpdatedMixin,Vaultier.RollbackMixin,{auth:null,init:function(){return this.set("auth",Vaultier.__container__.lookup("service:auth")),this._super.apply(this,arguments)},level:RL.attr("number"),member:RL.attr("object"),to_workspace:RL.attr("object"),to_vault:RL.attr("object"),to_card:RL.attr("object"),roles:new Utils.ConstantList({CREATE:{value:50,text:"Create new",desc:"Can read this object. Can create new child objects. Can modify, delete, invite and grant permissions to created objects"},READ:{value:100,desc:"Can read this object and all child objects",text:"View only"},WRITE:{value:200,text:"Manage",desc:"Can create, modify, delete, invite and grant permissions to this object and all child objects"}}),types:new Utils.ConstantList({TO_WORKSPACE:{value:100,text:"TO_WORKSPACE"},TO_VAULT:{value:200,text:"TO_VAULT"},TO_CARD:{value:300,text:"TO_CARD"}}),isCurrentUser:function(){var e=this.get("auth"),t=e.get("user.id");return this.get("member.user")==t}.property("member.user"),isMember:function(){return this.get("member.status")==Vaultier.Member.proto().statuses.MEMBER.value}.property("member.status"),isInvited:function(){return this.get("member.status")==Vaultier.Member.proto().statuses.INVITED.value}.property("member.status"),isMemberWithoutKeys:function(){return this.get("member.status")==Vaultier.Member.proto().statuses.MEMBER_WITHOUT_WORKSPACE_KEY.value}.property("member.status"),printableDesc:function(){var e=this.roles.getByValue(this.get("level"));return e?e.desc:"Unknown role level"}.property("level"),printableName:function(){var e=this.roles.getByValue(this.get("level"));return e?e.text:"Unknown role level"}.property("level")});
Vaultier.Vault=RL.Model.extend(Vaultier.CreatedUpdatedMixin,Vaultier.RollbackMixin,{name:RL.attr("string"),slug:RL.attr("string"),workspace:RL.attr("number"),description:RL.attr("string"),perms:RL.attr("object")});
Vaultier.Card=RL.Model.extend(Vaultier.CreatedUpdatedMixin,Vaultier.RollbackMixin,{name:RL.attr("string"),slug:RL.attr("string"),description:RL.attr("string"),vault:RL.attr("number"),perms:RL.attr("object")});
var decryptedField=Vaultier.EncryptedModel.decryptedField;Vaultier.Secret=RL.Model.extend(Vaultier.CreatedUpdatedMixin,Vaultier.EncryptedModel.Mixin,Vaultier.MutableModel.Mixin,{mutableModelTypeField:"type",mutableModelMapping:{100:"Vaultier.SecretNoteMixin",200:"Vaultier.SecretPasswordMixin",300:"Vaultier.SecretFileMixin"},types:new Utils.ConstantList({NOTE:{value:100,text:"NOTE"},PASSWORD:{value:200,text:"PASSWORD"},FILE:{value:300,text:"FILE"}}),type:RL.attr("number"),data:RL.attr("string"),blob_meta:RL.attr("string"),card:RL.attr("number"),perms:RL.attr("object"),name:RL.attr("string")}),Vaultier.SecretNoteMixin=Ember.Mixin.create({note:decryptedField("data","note"),isNote:function(){return this.get("type")==this.types.NOTE.value}.property("type")}),Vaultier.SecretPasswordMixin=Ember.Mixin.create({password:decryptedField("data","password"),username:decryptedField("data","username"),url:decryptedField("data","url"),note:decryptedField("data","note"),isPassword:function(){return this.get("type")==this.types.PASSWORD.value}.property("type")}),Vaultier.SecretFileMixin=Ember.Mixin.create({filename:decryptedField("blob_meta","filename"),filesize:decryptedField("blob_meta","filesize"),filetype:decryptedField("blob_meta","filetype"),password:decryptedField("data","password"),username:decryptedField("data","username"),url:decryptedField("data","url"),note:decryptedField("data","note"),blob:null,store:null,init:function(){this.set("store",Vaultier.__container__.lookup("store:main")),this.on("didLoad",this,this.emptyBlob),this.on("didReload",this,this.emptyBlob),this.emptyBlob()},isFile:function(){return this.get("type")==this.types.FILE.value}.property("type"),emptyBlob:function(){this.set("blob",new Vaultier.SecretBlob({id:this.get("id")}))},loadBlob:function(){var e=this.get("blob");if(e.get("isNew")){var t=this.get("store").find("SecretBlob",this.get("id")).then(function(e){return this.set("blob",e),e}.bind(this));return t}return Ember.RSVP.resolve(e)},saveRecord:function(){var e=this.get("blob");return this._super.apply(this,arguments).then(function(){return e.set("id",this.get("id")),e.saveRecord()}.bind(this)).then(this.emptyBlob.bind(this))}}),Vaultier.SecretBlob=RL.Model.extend(Vaultier.EncryptedModel.Mixin,{blob_meta:RL.attr("string"),blob_data:RL.attr("string"),filename:decryptedField("blob_meta","filename"),filesize:decryptedField("blob_meta","filesize"),filetype:decryptedField("blob_meta","filetype"),filedata:decryptedField("blob_data","filedata"),workspacekey:null,serialize:function(){data=this._super.apply(this,arguments);var e=new FormData;return e.append("blob_data",new Blob([data.blob_data],{type:"application/octet-stream"})),e.append("blob_meta",data.blob_meta),e},saveRecord:function(){if(this.get("isDirty")){var e={url:"/api/secret_blobs/"+this.get("id")+"/",type:"PUT",data:this.serialize(),processData:!1,contentType:!1};return Utils.RSVPAjax(e)}return Ember.RSVP.resolve(this)}});
"use strict";Vaultier.LostKey=RL.Model.extend(Vaultier.CreatedUpdatedMixin,{email:RL.attr("string"),recover_type:RL.attr("integer"),hash:RL.attr("string"),public_key:RL.attr("key"),memberships:RL.hasMany("Vaultier.LostKeyMemberships"),recoverType:new Utils.ConstantList({REBUILD:{value:1,text:"REBUILD"},DISABLE:{value:2,text:"DISABLE"}})}),Vaultier.LostKeyMemberships=RL.Model.extend({workspace_name:RL.attr("string"),is_recoverable:RL.attr("boolean")});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkUuanMiLCJDb25zdGFudExpc3QuanMiLCJTaW5nbGV0b24uanMiLCJIYW5kbGViYXJzSGVscGVycy5qcyIsIlJTVlBBamF4LmpzIiwiTXV0YWJsZUFkYXB0ZXJNaXhpbi5qcyIsImFwcGxpY2F0aW9uLmpzIiwia2V5cHJlc3NCaW5kaW5ncy5qcyIsImRpLmpzIiwicm91dGVyLmpzIiwiRXJyb3JzLmpzIiwiRW52aXJvbm1lbnQuanMiLCJBdXRoLmpzIiwiQXV0aFByb21pc2VzLmpzIiwiU2Vzc2lvbi5qcyIsIlN0b3JhZ2UuanMiLCJDb2Rlci5qcyIsIkludml0YXRpb25zLmpzIiwiV29ya3NwYWNlS2V5LmpzIiwiS2V5VHJhbnNmZXIuanMiLCJDaGFuZ2VLZXkuanMiLCJOZXdVc2VySW5pdC5qcyIsIkNyZWF0ZWRVcGRhdGVkTWl4aW4uanMiLCJNdXRhYmxlTW9kZWxNaXhpbi5qcyIsIkVuY3J5cHRlZE1vZGVsTWl4aW4uanMiLCJSb2xsYmFja01peGluLmpzIiwiQWRhcHRlci5qcyIsIlVzZXIuanMiLCJXb3Jrc3BhY2UuanMiLCJNZW1iZXIuanMiLCJJbnZpdGF0aW9uLmpzIiwiUm9sZS5qcyIsIlZhdWx0LmpzIiwiQ2FyZC5qcyIsIlNlY3JldC5qcyIsIkxvc3RLZXkuanMiXSwibmFtZXMiOlsiUG8iLCJOUyIsIlV0aWxzIiwiRSIsInJlY29yZElkIiwicmVjb3JkIiwiZXhjZXB0aW9uIiwiRiIsIm9wdGlvbmFsIiwiUkwiLCJNb2RlbCIsImlkIiwicGFyc2VJbnQiLCJnZXQiLCJpc05hTiIsIm51bSIsIkNvbnN0YW50TGlzdCIsIm9wdGlvbnMiLCJtZXJnZSIsInRoaXMiLCJwcm90b3R5cGUiLCJ0b0FycmF5IiwicmVzdWx0IiwicHJvcCIsImhhc093blByb3BlcnR5IiwicHVzaCIsInRleHQiLCJ2YWx1ZSIsImdldEJ5VmFsdWUiLCJnZXRLZXlCeVZhbHVlIiwiU2luZ2xldG9uIiwiRW1iZXIiLCJNaXhpbiIsImNyZWF0ZSIsImN1cnJlbnQiLCJfY3VycmVudCIsImNyZWF0ZUN1cnJlbnQiLCJjdXJyZW50UHJvcCIsInByb3BlcnR5IiwiaW5zdGFuY2UiLCJzZXQiLCJIYW5kbGViYXJzSGVscGVycyIsIk9iamVjdCIsImV4dGVuZCIsImRlYnVnIiwiY29uc29sZSIsImxvZyIsInVjZmlyc3QiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiaHVtYW5GaWxlU2l6ZSIsInNpemUiLCJpIiwiTWF0aCIsImZsb29yIiwicG93IiwidG9GaXhlZCIsInJlbmRlck1hcmtkb3duIiwic3RyaW5nIiwibWFya2VkIiwic2V0T3B0aW9ucyIsImdmbSIsInRhYmxlcyIsImJyZWFrcyIsInBlZGFudGljIiwic2FuaXRpemUiLCJzbWFydExpc3RzIiwic21hcnR5cGFudHMiLCJncmF2YXRhckltZyIsImVtYWlsIiwiY2xzIiwiaGFzaCIsImNsYXNzIiwic2VydmVyIiwid2luZG93IiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJpbWciLCJpbmRleE9mIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiQ3J5cHRvSlMiLCJNRDUiLCJwcmludFVzZXIiLCJ1c2VyIiwibmlja25hbWUiLCJuYW1lIiwibGVuZ3RoIiwiZWxsaXBzaXMiLCJwcmVmaXgiLCJkaXNhYmxlVG9vbHRpcCIsImRpc2FibGVOYW1lIiwiYXZhdGFyIiwic2hvcnQiLCJ0b29sdGlwIiwicmVwbGFjZSIsInByaW50QWdvIiwidCIsImEiLCJtb21lbnQiLCJmcm9tTm93IiwiZSIsImVycm9yIiwic3RhY2siLCJzdHIiLCJsaW1pdCIsImFwcGVuZCIsInNhbml0aXplZCIsInIiLCJzdWJzdHIiLCJpZkluZGV4IiwiaW5kZXgiLCJkYXRhIiwidmlldyIsImNvbnRlbnRJbmRleCIsIm50aCIsImlzIiwiZm4iLCJ0aW1lcyIsIm4iLCJibG9jayIsImFjY3VtIiwiaWZDb25kIiwidjEiLCJvcGVyYXRvciIsInYyIiwiaW52ZXJzZSIsImV2YWwiLCJyZWdpc3RlciIsImJpbmQiLCJIYW5kbGViYXJzIiwicmVnaXN0ZXJCb3VuZEhlbHBlciIsInMiLCJTYWZlU3RyaW5nIiwiaHVtYW5GaWxlc2l6ZSIsInJlZ2lzdGVySGVscGVyIiwiZXhwIiwicGF0aCIsInBhcnNlVmFyaWFibGUiLCJub2RlIiwib2JqZWN0IiwidmFyaWFibGVzIiwidmFycyIsInR5cGUiLCJsZWZ0IiwicmlnaHQiLCJwYXJzZWQiLCJqc2VwIiwibXV0YXRlZCIsIkVycm9yIiwicmVvcGVuQ2xhc3MiLCJSU1ZQQWpheCIsIlJTVlAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIiQiLCJhamF4IiwiZG9uZSIsInJlc3BvbnNlIiwiZmFpbCIsIk11dGFibGVNZXRob2RzQWRhcHRlck1peGluIiwiZ2V0T3ZlcnJpZGUiLCJ0eXBlS2V5Iiwib3ZlcnJpZGVzIiwiZG9PdmVycmlkZSIsImFyZ3MiLCJvdmVycmlkZSIsImFwcGx5IiwiX3N1cGVyIiwiZmluZFF1ZXJ5Iiwic3RvcmUiLCJhcmd1bWVudHMiLCJmaW5kIiwidXBkYXRlUmVjb3JkIiwiTXV0YWJsZVVybHNBZGFwdGVyTWl4aW4iLCJidWlsZFVSTCIsInVybHMiLCJ1cmwiLCJGRUFUVVJFUyIsIk1PREVMX0ZBQ1RPUllfSU5KRUNUSU9OUyIsIlZhdWx0aWVyIiwiQXBwbGljYXRpb24iLCJMT0dfVFJBTlNJVElPTlMiLCJyZWFkeSIsIkluaXRpYWxpemVDb25maWciLCJMR1RNIiwiY29uZmlndXJlIiwiZGVmZXIiLCJub3RpZnkiLCJkZWZhdWx0cyIsImNsYXNzTmFtZSIsInN0eWxlIiwicG9zaXRpb24iLCJhdXRvSGlkZURlbGF5IiwiY3NzIiwiY29va2llIiwianNvbiIsInNlbGVjdG9yIiwic2V0SW50ZXJ2YWwiLCJib2R5IiwiaGVpZ2h0Iiwid2luIiwiZm9vdGVyIiwia2V5cHJlc3NCaW5kaW5ncyIsInJlZ2lzdGVyREkiLCJkZWZlclJlYWRpbmVzcyIsImtleXMiLCJpc19leGNsdXNpdmUiLCJvbl9rZXlkb3duIiwiJHNlYXJjaGJveCIsInNlbGVjdGl6ZSIsImZvY3VzIiwib25fa2V5dXAiLCJzZXRLZXlwcmVzc0JpbmRpbmdzIiwia2V5cHJlc3MiLCJyZWdpc3Rlcl9tYW55IiwidW5zZXRLZXlwcmVzc0JpbmRpbmdzIiwidW5yZWdpc3Rlcl9tYW55IiwiZG9jdW1lbnQiLCJvbiIsImFwcCIsIkNvbmZpZyIsImluamVjdCIsIkNsaWVudCIsImluc3RhbnRpYXRlIiwiUkVTVGxlc3MiLCJTZXJ2aWNlIiwiRXJyb3JzIiwiU2Vzc2lvbiIsIlN0b3JhZ2UiLCJBdXRoIiwiQ29kZXIiLCJJbnZpdGF0aW9ucyIsIktleVRyYW5zZmVyIiwiV29ya3NwYWNlS2V5IiwiQ2hhbmdlS2V5IiwiTmV3VXNlckluaXQiLCJFbnZpcm9ubWVudCIsInJvdXRlciIsIlJvdXRlciIsIm1hcCIsInJlc291cmNlIiwicm91dGUiLCJSb3V0ZSIsInJlb3BlbiIsImFjdGl2YXRlIiwic2Nyb2xsVG8iLCJBcHBsaWNhdGlvblJvdXRlIiwiYWN0aW9ucyIsInByb2Nlc3NFcnJvciIsImxvYWRpbmciLCJ0cmFuc2l0aW9uIiwiQXBwbGljYXRpb25Mb2FkZXIiLCJzaG93TG9hZGVyIiwicHJvbWlzZSIsImZpbmFsbHkiLCJoaWRlTG9hZGVyIiwiYmVmb3JlTW9kZWwiLCJhdXRoIiwic3RhdHVzIiwicmVsb2FkIiwiSW5kZXhSb3V0ZSIsInJlZGlyZWN0IiwidHJhbnNpdGlvblRvIiwiZXJyb3JDb250cm9sbGVyIiwiZXJyb3JSb3V0ZSIsInJlbmRlcmluZyIsImluaXQiLCJyYXZlbktleSIsIlJhdmVuIiwiY29uZmlnIiwid2hpdGVsaXN0VXJscyIsImluc3RhbGwiLCJwYXJzZUVycm9yIiwidGl0bGUiLCJtZXNzYWdlIiwidGVtcGxhdGUiLCJkZXRhaWwiLCJjb25zb2xlRXJyb3IiLCJsZXZlbCIsInJlbmRlckVycm9yIiwiY3RybCIsImludGVybWVkaWF0ZVRyYW5zaXRpb25UbyIsImxvZ0Vycm9yIiwiYyIsInNldFVzZXIiLCJsb29rdXAiLCJjdXJyZW50UGF0aCIsInRhZ3MiLCJjYXB0dXJlRXhjZXB0aW9uIiwiZXh0cmEiLCJ3b3Jrc3BhY2UiLCJ2YXVsdCIsImNhcmQiLCJzZWNyZXQiLCJwcm9taXNlcyIsIkF1dGhQcm9taXNlcyIsImNvZGVyIiwic2Vzc2lvbiIsInN0b3JhZ2UiLCJ0b2tlbiIsImNoZWNrZWQiLCJwcml2YXRlS2V5IiwiaXNBdXRoZW50aWNhdGVkIiwiaXNDaGVja2VkIiwiZ2VuZXJhdGVLZXlzIiwiY2FsbGJhY2siLCJjaGVja1Blcm1pc3Npb25zIiwiY2hlY2siLCJub1Byb21pc2UiLCJtb2RlbCIsImxvZ2luIiwidHJhbnNpdGlvbkFmdGVyTG9naW4iLCJ0b0xvd2VyQ2FzZSIsInRoZW4iLCJzZXRBdXRoZW50aWNhdGVkVXNlciIsInJldHJ5IiwicmVtZW1iZXJVc2VyIiwidHRsIiwicmVtb3ZlIiwiZ2V0UmVtZW1iZXJlZFVzZXIiLCJsb2FkRnJvbVNlc3Npb24iLCJzZXNzaW9uVXNlciIsInNlc3Npb25Qcml2YXRlS2V5Iiwic2Vzc2lvblRva2VuIiwibG9nb3V0IiwiY2hlY2tBdXRoZW50aWNhdGVkT3JMb2dpbiIsImFib3J0Iiwic2V0UHJvcGVydGllcyIsInNhdmVUb1Nlc3Npb24iLCJfYXV0aCIsInNpZ25hdHVyZSIsInNpZ24iLCJfcmV0cmlldmVVc2VyIiwiY2F0Y2giLCJfdXNlVG9rZW4iLCJhamF4U2V0dXAiLCJiZWZvcmVTZW5kIiwieGhyIiwic2V0UmVxdWVzdEhlYWRlciIsIl9yZXNldFRva2VuIiwiX3VuYXV0aCIsIkNvcmVPYmplY3QiLCJzZXNzaW9uU3RvcmFnZSIsImtleSIsImRlZiIsInZhbCIsImxvY2FsU3RvcmFnZSIsImpTdG9yYWdlIiwic2V0VFRMIiwiZGVsZXRlS2V5IiwiVGVzdGluZ0dlbmVyYXRvciIsImdldFByaXZhdGVLZXkiLCJwcml2YXRlIiwiZ2V0UHVibGljS2V5IiwicHVibGljIiwiZ2V0S2V5IiwidHJpbSIsImdlbmVyYXRvciIsIkpTRW5jcnlwdCIsImRlZmF1bHRfa2V5X3NpemUiLCJidWlsZCIsInB1YmxpY0tleSIsInJzYSIsIlJTQUtleSIsInJlYWRQcml2YXRlS2V5RnJvbVBFTVN0cmluZyIsImhleDJiNjQiLCJzaWduU3RyaW5nIiwiZW5jcnlwdFJTQSIsImRlY29kZXIiLCJzZXRQdWJsaWNLZXkiLCJlbmNyeXB0IiwiZW5jcnlwdFdvcmtzcGFjZUtleSIsImRlY3J5cHRSU0EiLCJzZXRQcml2YXRlS2V5IiwiZGVjcnlwdCIsImRlY3J5cHRXb3Jrc3BhY2VLZXkiLCJnZW5lcmF0ZVdvcmtzcGFjZUtleSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInJhbmRvbSIsImRlY3J5cHRBRVMiLCJwYXNzUGhyYXNlIiwiQUVTIiwidG9TdHJpbmciLCJlbmMiLCJVdGY4IiwiZW5jcnlwdEFFUyIsImRlY3J5cHRXb3Jrc3BhY2VEYXRhIiwid29ya3NwYWNlS2V5IiwiZW5jcnlwdFdvcmtzcGFjZURhdGEiLCJTRVNTSU9OX0tFWSIsIl9tZW1iZXJQcm9taXNlIiwiZW1haWxPcklkIiwic2VuZCIsInJlc2VuZCIsIl9pbnZpdGVQcm9taXNlIiwibWVtYmVyIiwicm9sZSIsInBhcmFtcyIsInRvX3dvcmtzcGFjZSIsInRvX3ZhdWx0IiwidG9fY2FyZCIsImludml0ZSIsIl9zdG9yZUludml0YXRpb25Ub1Nlc3Npb24iLCJpbnZpdGF0aW9uIiwiaW52aXRhdGlvbnMiLCJoYXNJbnZpdGF0aW9uc0luU2Vzc2lvbiIsImFjY2VwdEludml0YXRpb25zSW5TZXNzaW9uIiwiZmV0Y2hJbnZpdGF0aW9uc0luU2Vzc2lvbiIsImZvckVhY2giLCJzYXZlUmVjb3JkIiwiYWxsIiwiY2xlYXJJbnZpdGF0aW9uc0luU2Vzc2lvbiIsIl92YWxpZGF0ZUludml0YXRpb24iLCJ1c2VJbnZpdGF0aW9uIiwiV29ya3NwYWNlS2V5RGVjcnlwdFNvZnRFcnJvciIsIkV2ZW50ZWQiLCJrZXl0cmFuc2ZlciIsIm1lbWJlcnNUb0FwcHJvdmUiLCJjaGVja0ludGVydmFsIiwiY2hlY2tJbnRlcnZhbElkIiwic3RhcnRDaGVja2luZyIsImNoZWNrV29ya3NwYWNlS2V5Iiwic3RvcENoZWNraW5nIiwiY2xlYXJJbnRlcnZhbCIsIndvcmtzcGFjZUNoZWNrIiwiTWVtYmVyIiwicHJvdG8iLCJzdGF0dXNlcyIsInJlbG9hZFJlY29yZCIsInNlbGVjdFdvcmtzcGFjZSIsImpvaW4iLCJ0cmlnZ2VyIiwiY3J5cHRlZEtleSIsImhhc1ZhbGlkV29ya3NwYWNlS2V5IiwidHJhbnNmZXJLZXlUb0NyZWF0ZWRXb3Jrc3BhY2UiLCJkZWNyeXB0ZWRLZXkiLCJ0cmFuc2ZlcktleVRvTWVtYmVyIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiaW50ZXJ2YWwiLCJfcmVnaXN0ZXJlZFF1ZXJ5IiwiZGVzdHJveSIsInVucmVnaXN0ZXIiLCJxdWVyeSIsIl9xdWVyeSIsIm1lbWJlcnMiLCJ3b3Jrc3BhY2VJZCIsImVuY3J5cHRlZEtleSIsIndrIiwiY2hhbmdlS2V5IiwiaW5jb21pbmdQUEsiLCJjdXJyZW50UHJpdmF0ZUtleSIsImluY29taW5nUHJpdmF0ZUtleSIsImluY29taW5nUHVibGljS2V5IiwiY3VycmVudFVzZXIiLCJ3b3Jrc3BhY2Vfa2V5IiwiaW5jb21pbmdXb3Jrc3BhY2VLZXkiLCJjcmVhdGVUcmFuc2l0aW9uRnVuY3Rpb24iLCJpbml0aWFsaXplVXNlciIsImhlbHBlcnMiLCJ3b3Jrc3BhY2VOYW1lIiwid29ya3NwYWNlRGVzY3JpcHRpb24iLCJ2YXVsdE5hbWUiLCJ2YXVsdERlc2NyaXB0aW9uIiwidyIsIldvcmtzcGFjZSIsImRlc2NyaXB0aW9uIiwidiIsIlZhdWx0IiwidHJhbnNpdGlvbkFmdGVyUmVnaXN0ZXIiLCJkZWZhdWx0V29ya3NwYWNlIiwiZGVmYXVsdFZhdWx0IiwiQ3JlYXRlZFVwZGF0ZWRNaXhpbiIsImNyZWF0ZWRfYXQiLCJhdHRyIiwicmVhZE9ubHkiLCJ1cGRhdGVkX2F0IiwiY3JlYXRlZF9ieSIsInVwZGF0ZWRfYWdvIiwidSIsImNyZWF0ZWRfYWdvIiwiTXV0YWJsZU1vZGVsIiwidHlwZUZpZWxkIiwibWFwcGluZyIsImFkZE9ic2VydmVyIiwiYXBwbHlNdXRhYmxlTWl4aW4iLCJnZXRNdXRhYmxlVHlwZSIsImdldE11dGFibGVDbGFzcyIsImNsc05hbWUiLCJhcHBsaWVkIiwiZGV0ZWN0IiwiYXBwbGllZE1peGluIiwibWl4aW5zIiwibWl4aW4iLCJwcm9wZXJ0aWVzIiwiRW5jcnlwdGVkTW9kZWwiLCJnZXRFbmNyeXB0ZWREYXRhS2V5IiwiZW5jcnlwdGVkRmllbGQiLCJFbmNyeXB0ZWRNb2RlbE1peGVkSW4iLCJ3b3Jrc3BhY2VrZXkiLCJfX2NvbnRhaW5lcl9fIiwiZGVjcnlwdGVkRmllbGRzIiwiY29tcHV0ZWQiLCJNYXAiLCJjb25zdHJ1Y3RvciIsImVhY2hDb21wdXRlZFByb3BlcnR5IiwibWV0YSIsImlzRGVjcnlwdGVkRmllbGQiLCJlbmNyeXB0ZWRGaWVsZHMiLCJwcm9wcyIsImRlc2NzIiwiayIsInAiLCJDb21wdXRlZFByb3BlcnR5IiwiX21ldGEiLCJnZXREaXJ0eUVuY3J5cHRlZEZpZWxkcyIsImdldERlY3J5cHRlZERhdGEiLCJpc0RpcnR5IiwiYXJlRGVjcnlwdGVkRGF0YURpcnR5IiwiZGVjcnlwdGVkRGF0YSIsImRhdGFLZXlzIiwiY2xlYW5EYXRhS2V5cyIsInNldERlY3J5cHRlZERhdGEiLCJpbml0aWFsIiwiY2xlYW5EYXRhIiwiY2xlYXJEZWNyeXB0ZWREYXRhIiwiZGVjcnlwdEZpZWxkIiwiZW5jcnlwdGVkRGF0YSIsImRlY3J5cHRGaWVsZHMiLCJlbmNyeXB0RmllbGQiLCJkZXNlcmlhbGl6ZSIsImRlc2VyaWFsaXplZCIsInNlcmlhbGl6ZSIsImRlY3J5cHRlZEZpZWxkIiwidW5kZWZpbmVkIiwiUm9sbGJhY2tNaXhpbiIsInN0b3JlQ2xlYW5WYWx1ZXMiLCJjbGVhblZhbHVlcyIsImZpZWxkIiwicm9sbGJhY2siLCJKU09OU2VyaWFsaXplciIsIm5vbkVtYmVkZGVkIiwia2V5Rm9yUmVzb3VyY2VOYW1lIiwiYXR0cmlidXRlTmFtZUZvcktleSIsImtsYXNzIiwiUkVTVEFkYXB0ZXIiLCJuYW1lc3BhY2UiLCJzZXJpYWxpemVyIiwiYnVpbGRVcmwiLCJyZXNvdXJjZUZvcm1hdCIsInJlc291cmNlUGF0aCIsInJlc291cmNlTGlzdEZvcm1hdCIsInJlc291cmNlRGV0YWlsRm9ybWF0Iiwicm9vdFBhdGgiLCJwcmltYXJ5S2V5TmFtZSIsImRhdGFUeXBlIiwicmVnaXN0ZXJUcmFuc2Zvcm0iLCJuYXRpdmUiLCJhZGFwdGVyIiwiY3JlYXRlUmVjb3JkIiwiZmV0Y2giLCJVc2VyIiwicHVibGljX2tleSIsIlVzZXJLZXkiLCJtZW1iZXJzaGlwIiwia2V5RXJyb3IiLCJzbHVnIiwicGVybXMiLCJoYXNWYWxpZEtleSIsImlzTmV3IiwiSU5WSVRFRCIsIk1FTUJFUl9XSVRIT1VUX1dPUktTUEFDRV9LRVkiLCJNRU1CRVIiLCJJbnZpdGF0aW9uIiwiaW52aXRhdGlvbl9lbWFpbCIsImludml0YXRpb25faGFzaCIsInJvbGVzIiwiaGFzTWFueSIsInByaW1hcnlLZXkiLCJJbnZpdGF0aW9uUm9sZSIsInRvX25hbWUiLCJ0b190eXBlIiwiUm9sZSIsInR5cGVzIiwiQ1JFQVRFIiwiZGVzYyIsIlJFQUQiLCJXUklURSIsIlRPX1dPUktTUEFDRSIsIlRPX1ZBVUxUIiwiVE9fQ0FSRCIsImlzQ3VycmVudFVzZXIiLCJpc01lbWJlciIsImlzSW52aXRlZCIsImlzTWVtYmVyV2l0aG91dEtleXMiLCJwcmludGFibGVEZXNjIiwicHJpbnRhYmxlTmFtZSIsIkNhcmQiLCJTZWNyZXQiLCJtdXRhYmxlTW9kZWxUeXBlRmllbGQiLCJtdXRhYmxlTW9kZWxNYXBwaW5nIiwxMDAsMjAwLDMwMCwiTk9URSIsIlBBU1NXT1JEIiwiRklMRSIsImJsb2JfbWV0YSIsIlNlY3JldE5vdGVNaXhpbiIsIm5vdGUiLCJpc05vdGUiLCJTZWNyZXRQYXNzd29yZE1peGluIiwicGFzc3dvcmQiLCJ1c2VybmFtZSIsImlzUGFzc3dvcmQiLCJTZWNyZXRGaWxlTWl4aW4iLCJmaWxlbmFtZSIsImZpbGVzaXplIiwiZmlsZXR5cGUiLCJibG9iIiwiZW1wdHlCbG9iIiwiaXNGaWxlIiwiU2VjcmV0QmxvYiIsImxvYWRCbG9iIiwiYmxvYl9kYXRhIiwiZmlsZWRhdGEiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiQmxvYiIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJMb3N0S2V5IiwicmVjb3Zlcl90eXBlIiwibWVtYmVyc2hpcHMiLCJyZWNvdmVyVHlwZSIsIlJFQlVJTEQiLCJESVNBQkxFIiwiTG9zdEtleU1lbWJlcnNoaXBzIiwid29ya3NwYWNlX25hbWUiLCJpc19yZWNvdmVyYWJsZSJdLCJtYXBwaW5ncyI6IkFBQUFBLEdBQUdDLEdBQUcsU0FFTkMsTUFBTUMsR0FFRkMsU0FBVSxTQUFVQyxFQUFRQyxHQUd4QixHQUZBQSxFQUFZTixHQUFHTyxFQUFFQyxTQUFTRixHQUFXLEdBRWpDRCxZQUFrQkksSUFBR0MsTUFBTyxDQUM1QixHQUFJQyxHQUFLQyxTQUFTUCxFQUFPUSxJQUFJLE1BSTdCLE9BSElDLE9BQU1ILEtBQ05BLEVBQUtOLEVBQU9RLElBQUksT0FFYkYsRUFFWCxHQUFJSSxHQUFNSCxTQUFTUCxFQUNuQixJQUFJUyxNQUFNQyxHQUFNLENBQ1osR0FBSVQsRUFDQSxLQUFNLFdBRU4sT0FBTyxNQUdmLE1BQU9TO0FDdEJmZixHQUFHQyxHQUFHLFNBRU5DLE1BQU1jLGFBQWUsU0FBU0MsR0FDMUJqQixHQUFHa0IsTUFBTUMsS0FBTUYsSUFHbkJmLE1BQU1jLGFBQWFJLFVBQVVDLFFBQVUsV0FDbkMsR0FBSUMsS0FDSixLQUFLQyxPQUFRSixNQUNMQSxLQUFLSyxlQUFlRCxPQUNwQkQsRUFBT0csTUFDSGQsR0FBSVksS0FDSkcsS0FBTVAsS0FBS0ksTUFBTUcsS0FDakJDLE1BQU9SLEtBQUtJLE1BQU1JLE9BSTlCLE9BQU9MLElBR1hwQixNQUFNYyxhQUFhSSxVQUFVUSxXQUFhLFNBQVNELEdBQy9DLElBQUtKLE9BQVFKLE1BQ1QsR0FBSUEsS0FBS0ssZUFBZUQsT0FDaEJKLEtBQUtJLE1BQU1JLE9BQVNBLEVBQ3BCLE1BQU9S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QUFHc2QsS0FBSyxVQUNmOEosYUFBY3BuQixHQUFHc2QsS0FBSyxXQUN0QnZaLEtBQU0vRCxHQUFHc2QsS0FBSyxVQUNkd0YsV0FBWTlpQixHQUFHc2QsS0FBSyxPQUNwQitKLFlBQWFybkIsR0FBRzZqQixRQUFRLCtCQUN4QnlELFlBQWEsR0FBSTduQixPQUFNYyxjQUNuQmduQixTQUNJcm1CLE1BQU8sRUFDUEQsS0FBTSxXQUVWdW1CLFNBQ0l0bUIsTUFBTyxFQUNQRCxLQUFNLGVBS3RCNEosU0FBUzRjLG1CQUFxQnpuQixHQUFHQyxNQUFNaUMsUUFDbkN3bEIsZUFBZ0IxbkIsR0FBR3NkLEtBQUssVUFDeEJxSyxlQUFnQjNuQixHQUFHc2QsS0FBSyIsImZpbGUiOiJjb3JlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiUG8uTlMoJ1V0aWxzJyk7XG5cblV0aWxzLkUgPSB7XG5cbiAgICByZWNvcmRJZDogZnVuY3Rpb24gKHJlY29yZCwgZXhjZXB0aW9uKSB7XG4gICAgICAgIGV4Y2VwdGlvbiA9IFBvLkYub3B0aW9uYWwoZXhjZXB0aW9uLCBmYWxzZSlcblxuICAgICAgICBpZiAocmVjb3JkIGluc3RhbmNlb2YgUkwuTW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHBhcnNlSW50KHJlY29yZC5nZXQoJ2lkJykpO1xuICAgICAgICAgICAgaWYgKGlzTmFOKGlkKSkge1xuICAgICAgICAgICAgICAgIGlkID0gcmVjb3JkLmdldCgnaWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQocmVjb3JkKTtcbiAgICAgICAgaWYgKGlzTmFOKG51bSkpIHtcbiAgICAgICAgICAgIGlmIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIk5vdCBhbiBpZFwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bVxuICAgIH1cblxufSIsIlBvLk5TKCdVdGlscycpO1xyXG5cclxuVXRpbHMuQ29uc3RhbnRMaXN0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgUG8ubWVyZ2UodGhpcywgb3B0aW9ucyk7XHJcbn1cclxuXHJcblV0aWxzLkNvbnN0YW50TGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgZm9yIChwcm9wIGluIHRoaXMpIHtcclxuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBpZDogcHJvcCxcclxuICAgICAgICAgICAgICAgIHRleHQ6IHRoaXNbcHJvcF0udGV4dCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzW3Byb3BdLnZhbHVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG5VdGlscy5Db25zdGFudExpc3QucHJvdG90eXBlLmdldEJ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgZm9yIChwcm9wIGluIHRoaXMpIHtcclxuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpc1twcm9wXS52YWx1ZSA9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbcHJvcF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuVXRpbHMuQ29uc3RhbnRMaXN0LnByb3RvdHlwZS5nZXRLZXlCeVZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGZvciAocHJvcCBpbiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXNbcHJvcF0udmFsdWUgPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJQby5OUygnVXRpbHMnKVxyXG5cclxuLyoqXHJcbiAgVGhpcyBtaXhpbiBhbGxvd3MgYSBjbGFzcyB0byByZXR1cm4gYSBzaW5nbGV0b24sIGFzIHdlbGwgYXMgYSBtZXRob2QgdG8gcXVpY2tseVxyXG4gIHJlYWQvd3JpdGUgYXR0cmlidXRlcyBvbiB0aGUgc2luZ2xldG9uLlxyXG5cclxuXHJcbiAgRXhhbXBsZSB1c2FnZTpcclxuXHJcbiAgYGBgamF2YXNjcmlwdFxyXG5cclxuICAgIC8vIERlZmluZSB5b3VyIGNsYXNzIGFuZCBhcHBseSB0aGUgTWl4aW5cclxuICAgIFVzZXIgPSBFbWJlci5PYmplY3QuZXh0ZW5kKHt9KTtcclxuICAgIFVzZXIucmVvcGVuQ2xhc3MoRGlzY291cnNlLlNpbmdsZXRvbik7XHJcblxyXG4gICAgLy8gUmV0cmlldmUgdGhlIGN1cnJlbnQgaW5zdGFuY2U6XHJcbiAgICB2YXIgaW5zdGFuY2UgPSBVc2VyLmN1cnJlbnQoKTtcclxuXHJcbiAgYGBgXHJcblxyXG4gIENvbW1vbmx5IHlvdSB3YW50IHRvIHJlYWQgb3Igd3JpdGUgYSBwcm9wZXJ0eSBvbiB0aGUgc2luZ2xldG9uLiBUaGVyZSdzIGFcclxuICBoZWxwZXIgbWV0aG9kIHdoaWNoIGlzIGEgbGl0dGxlIG5pY2VyIHRoYW4gYC5jdXJyZW50KCkuZ2V0KClgOlxyXG5cclxuICBgYGBqYXZhc2NyaXB0XHJcblxyXG4gICAgLy8gU2V0cyB0aGUgYWdlIHRvIDM0XHJcbiAgICBVc2VyLmN1cnJlbnRQcm9wKCdhZ2UnLCAzNCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coVXNlci5jdXJyZW50UHJvcCgnYWdlJykpOyAvLyAzNFxyXG5cclxuICBgYGBcclxuXHJcbiAgSWYgeW91IHdhbnQgdG8gY3VzdG9taXplIGhvdyB0aGUgc2luZ2xldG9uIGlzIGNyZWF0ZWQsIHJlZGVmaW5lIHRoZSBgY3JlYXRlQ3VycmVudGBcclxuICBtZXRob2Q6XHJcblxyXG4gIGBgYGphdmFzY3JpcHRcclxuXHJcbiAgICAvLyBEZWZpbmUgeW91ciBjbGFzcyBhbmQgYXBwbHkgdGhlIE1peGluXHJcbiAgICBGb290ID0gRW1iZXIuT2JqZWN0LmV4dGVuZCh7fSk7XHJcbiAgICBGb290LnJlb3BlbkNsYXNzKERpc2NvdXJzZS5TaW5nbGV0b24sIHtcclxuICAgICAgY3JlYXRlQ3VycmVudDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIEZvb3QuY3JlYXRlKHt0b2VzOiA1fSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKEZvb3QuY3VycmVudFByb3AoJ3RvZXMnKSk7IC8vIDVcclxuXHJcbiAgYGBgXHJcblxyXG4gIEBjbGFzcyBEaXNjb3Vyc2UuU2luZ2xldG9uXHJcbiAgQGV4dGVuZHMgRW1iZXIuTWl4aW5cclxuICBAbmFtZXNwYWNlIERpc2NvdXJzZVxyXG4gIEBtb2R1bGUgRGlzY291cnNlXHJcbioqL1xyXG5VdGlscy5TaW5nbGV0b24gPSBFbWJlci5NaXhpbi5jcmVhdGUoe1xyXG5cclxuICAvKipcclxuICAgIFJldHVybnMgdGhlIGN1cnJlbnQgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBjbGFzcy5cclxuXHJcbiAgICBAbWV0aG9kIGN1cnJlbnRcclxuICAgIEByZXR1cm5zIHtFbWJlci5PYmplY3R9IHRoZSBpbnN0YW5jZSBvZiB0aGUgc2luZ2xldG9uXHJcbiAgKiovXHJcbiAgY3VycmVudDogZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoIXRoaXMuX2N1cnJlbnQpIHtcclxuICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuY3JlYXRlQ3VycmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xyXG4gIH0sXHJcblxyXG5cclxuICAvKipcclxuICAgIEhvdyB0aGUgc2luZ2xldG9uIGluc3RhbmNlIGlzIGNyZWF0ZWQuIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW5cclxuICAgIHdpdGggbG9naWMgZm9yIGNyZWF0aW5nIChvciBldmVuIHJldHVybmluZyBudWxsKSB5b3VyIGluc3RhbmNlLlxyXG5cclxuICAgIEJ5IGRlZmF1bHQgaXQganVzdCBjYWxscyBgY3JlYXRlYCB3aXRoIGFuIGVtcHR5IG9iamVjdC5cclxuXHJcbiAgICBAbWV0aG9kIGNyZWF0ZUN1cnJlbnRcclxuICAgIEByZXR1cm5zIHtFbWJlci5PYmplY3R9IHRoZSBpbnN0YW5jZSB0aGF0IHdpbGwgYmUgeW91ciBzaW5nbGV0b25cclxuICAqKi9cclxuICBjcmVhdGVDdXJyZW50OiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7fSk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICBSZXR1cm5zIG9yIHNldHMgYSBwcm9wZXJ0eSBvbiB0aGUgc2luZ2xldG9uIGluc3RhbmNlLlxyXG5cclxuICAgIEBtZXRob2QgY3VycmVudFByb3BcclxuICAgIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSB0aGUgcHJvcGVydHkgd2Ugd2FudCB0byBnZXQgb3Igc2V0XHJcbiAgICBAcGFyYW0ge1N0cmluZ30gdmFsdWUgdGhlIG9wdGlvbmFsIHZhbHVlIHRvIHNldCB0aGUgcHJvcGVydHkgdG9cclxuICAgIEByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcclxuICAqKi9cclxuICBjdXJyZW50UHJvcDogZnVuY3Rpb24ocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmN1cnJlbnQoKTtcclxuICAgIGlmICghaW5zdGFuY2UpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgaWYgKHR5cGVvZih2YWx1ZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgaW5zdGFuY2Uuc2V0KHByb3BlcnR5LCB2YWx1ZSk7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBpbnN0YW5jZS5nZXQocHJvcGVydHkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pOyIsIlBvLk5TKCdVdGlscycpXHJcblxyXG5VdGlscy5IYW5kbGViYXJzSGVscGVycyA9IEVtYmVyLk9iamVjdC5leHRlbmQoe1xyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIGRlYnVnOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHVjZmlyc3Q6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdmFsdWUuc2xpY2UoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgaHVtYW5GaWxlU2l6ZTogZnVuY3Rpb24gKHNpemUpIHtcclxuICAgICAgICB2YXIgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coc2l6ZSkgLyBNYXRoLmxvZygxMDI0KSk7XHJcbiAgICAgICAgcmV0dXJuICggc2l6ZSAvIE1hdGgucG93KDEwMjQsIGkpICkudG9GaXhlZCgyKSAqIDEgKyAnICcgKyBbJ0InLCAna0InLCAnTUInLCAnR0InLCAnVEInXVtpXTtcclxuICAgIH0sXHJcblxyXG4gICAgcmVuZGVyTWFya2Rvd246IGZ1bmN0aW9uIChzdHJpbmcsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgaWYgKCFzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtYXJrZWQuc2V0T3B0aW9ucyhQby5tZXJnZSh7XHJcbiAgICAgICAgICAgIGdmbTogdHJ1ZSxcclxuICAgICAgICAgICAgdGFibGVzOiB0cnVlLFxyXG4gICAgICAgICAgICBicmVha3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBwZWRhbnRpYzogZmFsc2UsXHJcbiAgICAgICAgICAgIHNhbml0aXplOiB0cnVlLFxyXG4gICAgICAgICAgICBzbWFydExpc3RzOiB0cnVlLFxyXG4gICAgICAgICAgICBzbWFydHlwYW50czogZmFsc2VcclxuICAgICAgICB9LCBvcHRpb25zKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBtYXJrZWQoc3RyaW5nKTtcclxuICAgIH0sXHJcblxyXG4gICAgZ3JhdmF0YXJJbWc6IGZ1bmN0aW9uIChlbWFpbCwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBjbHMgPSBvcHRpb25zLmhhc2guY2xhc3MgfHwgJyc7XHJcbiAgICAgICAgdmFyIHNlcnZlciA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdDtcclxuICAgICAgICB2YXIgaW1nID0gJ21tJztcclxuICAgICAgICBpZiAoc2VydmVyLmluZGV4T2YoJzonKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgaW1nID0gZW5jb2RlVVJJQ29tcG9uZW50KHNlcnZlciArICcvc3RhdGljL3ZhdWx0aWVyL2ltYWdlcy9pY29uLWF2YXRhci1ncmV5LnBuZycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNpemUgPSAoIHR5cGVvZihvcHRpb25zLmhhc2guc2l6ZSkgPT09IFwidW5kZWZpbmVkXCIpID8gMzIgOiBvcHRpb25zLmhhc2guc2l6ZTtcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9ICc8aW1nIHN0eWxlPVwid2lkdGg6JyArIHNpemUgKyAncHg7IGhlaWdodDonICsgc2l6ZSArICdweDtcIiBjbGFzcz1cIicgKyBjbHMgKyAnXCIgc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyLycgKyBDcnlwdG9KUy5NRDUoZW1haWwpICsgJz9zPScgKyBzaXplICsgJyZkPScgKyBpbWcgKyAnXCIgLz4nO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBwcmludFVzZXI6IGZ1bmN0aW9uICh1c2VyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgIHVzZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBlbWFpbDogJ2RlbGV0ZWR1c2VyQHZhdWx0aWVyLm9yZycsXHJcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogJ0RlbGV0ZWQgdXNlcidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGVtYWlsID0gdXNlci5lbWFpbCB8fCB1c2VyLmdldCgnZW1haWwnKTtcclxuICAgICAgICB2YXIgbmlja25hbWUgPSB1c2VyLm5pY2tuYW1lIHx8IHVzZXIuZ2V0KCduaWNrbmFtZScpO1xyXG4gICAgICAgIHZhciBzaXplID0gb3B0aW9ucy5oYXNoLnNpemUgfHwgMjU7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IG9wdGlvbnMuaGFzaC5lbGxpcHNpcyB8fCA2MDtcclxuICAgICAgICB2YXIgcHJlZml4ID0gb3B0aW9ucy5oYXNoLnByZWZpeCB8fCAnJztcclxuICAgICAgICB2YXIgZGlzYWJsZVRvb2x0aXAgPSBvcHRpb25zLmhhc2guZGlzYWJsZVRvb2x0aXAgfHwgZmFsc2U7XHJcbiAgICAgICAgdmFyIGRpc2FibGVOYW1lID0gb3B0aW9ucy5oYXNoLmRpc2FibGVOYW1lIHx8IGZhbHNlXHJcblxyXG4gICAgICAgIHZhciBhdmF0YXIgPSB0aGlzLmdyYXZhdGFySW1nKGVtYWlsLCB7aGFzaDoge3NpemU6IHNpemV9fSk7XHJcblxyXG4gICAgICAgIHZhciBuYW1lO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc2guZW1haWwpIHtcclxuICAgICAgICAgICAgbmFtZSA9IGVtYWlsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSB0aGlzLnVjZmlyc3Qobmlja25hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc2hvcnQgPSB0aGlzLmVsbGlwc2lzKG5hbWUsIGxlbmd0aCk7XHJcblxyXG5cclxuICAgICAgICBpZiAoIWRpc2FibGVUb29sdGlwKSB7XHJcbiAgICAgICAgICAgIHZhciB0b29sdGlwID0gJ2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwie3ByZWZpeH0ge25hbWV9ICh7ZW1haWx9KVwiJ1xyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3twcmVmaXh9JywgcHJlZml4KVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3tuYW1lfScsIG5hbWUpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgne2VtYWlsfScsIGVtYWlsKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXAgPSAnJ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpc2FibGVOYW1lKSB7XHJcbiAgICAgICAgICAgIHNob3J0ID0gJyc7XHJcbiAgICAgICAgICAgIG5hbWUgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJ2bHQtdXNlclwiIHt0b29sdGlwfSA+e2F2YXRhcn17bmFtZX08L3NwYW4+J1xyXG4gICAgICAgICAgICAucmVwbGFjZSgne3Rvb2x0aXB9JywgdG9vbHRpcClcclxuICAgICAgICAgICAgLnJlcGxhY2UoJ3tuYW1lfScsIHNob3J0KVxyXG4gICAgICAgICAgICAucmVwbGFjZSgne2F2YXRhcn0nLCBhdmF0YXIpXHJcbiAgICB9LFxyXG5cclxuICAgIHByaW50QWdvOiBmdW5jdGlvbiAodCwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBwcmVmaXggPSBvcHRpb25zLmhhc2gucHJlZml4IHx8ICcnO1xyXG4gICAgICAgIHZhciBhO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhID0gbW9tZW50KHQpLmZyb21Ob3coKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZWZpeCkge1xyXG4gICAgICAgICAgICB0ID0gcHJlZml4ICsgJyAnICsgdFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJzxzcGFuIGRhdGEtdG9nZ2xlPXRvb2x0aXAgdGl0bGU9XCInICsgdCArICdcIj4nICsgYSArICc8L3NwYW4+JztcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7e2VsbGlwc2lzfX1cclxuICAgICAqIEBhdXRob3I6IEpvbiBTY2hsaW5rZXJ0IDxodHRwOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0PlxyXG4gICAgICogVHJ1bmNhdGUgdGhlIGlucHV0IHN0cmluZyBhbmQgcmVtb3ZlcyBhbGwgSFRNTCB0YWdzXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHN0ciAgICAgIFRoZSBpbnB1dCBzdHJpbmcuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxpbWl0ICAgIFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyB0byBsaW1pdCB0aGUgc3RyaW5nLlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBhcHBlbmQgICBUaGUgc3RyaW5nIHRvIGFwcGVuZCBpZiBjaGFyYXRlcnMgYXJlIG9taXR0ZWQuXHJcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgICAgIFRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBlbGxpcHNpczogZnVuY3Rpb24gKHN0ciwgbGltaXQsIGFwcGVuZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXBwZW5kICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBhcHBlbmQgPSAnLi4uJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzdHIpIHtcclxuICAgICAgICAgICAgc3RyID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzYW5pdGl6ZWQgPSBzdHIucmVwbGFjZSgvKDwoW14+XSspPikvZywgJycpO1xyXG4gICAgICAgIGlmIChzYW5pdGl6ZWQubGVuZ3RoID4gbGltaXQpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBzYW5pdGl6ZWQuc3Vic3RyKDAsIGxpbWl0IC0gYXBwZW5kLmxlbmd0aCkgKyBhcHBlbmQ7XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzYW5pdGl6ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBpZkluZGV4OiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBpbmRleCA9IG9wdGlvbnMuZGF0YS52aWV3LmNvbnRlbnRJbmRleCArIDEsXHJcbiAgICAgICAgICAgIG50aCA9IG9wdGlvbnMuaGFzaC5pcztcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ICUgbnRoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdGltZXM6IGZ1bmN0aW9uIChuLCBibG9jaykge1xyXG4gICAgICAgIHZhciBhY2N1bSA9ICcnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxyXG4gICAgICAgICAgICBhY2N1bSArPSBibG9jay5mbihpKTtcclxuICAgICAgICByZXR1cm4gYWNjdW07XHJcbiAgICB9LFxyXG5cclxuICAgIGlmQ29uZDogZnVuY3Rpb24gKHYxLCBvcGVyYXRvciwgdjIsIG9wdGlvbnMpIHtcclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdG9yKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCI9PVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh2MSA9PSB2MikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcIiE9XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHYxICE9IHYyKSA/IG9wdGlvbnMuZm4odGhpcykgOiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiPT09XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHYxID09PSB2MikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcIiE9PVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh2MSAhPT0gdjIpID8gb3B0aW9ucy5mbih0aGlzKSA6IG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCImJlwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh2MSAmJiB2MikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInx8XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHYxIHx8IHYyKSA/IG9wdGlvbnMuZm4odGhpcykgOiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiPFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh2MSA8IHYyKSA/IG9wdGlvbnMuZm4odGhpcykgOiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiPD1cIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAodjEgPD0gdjIpID8gb3B0aW9ucy5mbih0aGlzKSA6IG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCI+XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHYxID4gdjIpID8gb3B0aW9ucy5mbih0aGlzKSA6IG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCI+PVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh2MSA+PSB2MikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBldmFsKFwiXCIgKyB2MSArIG9wZXJhdG9yICsgdjIpID8gb3B0aW9ucy5mbih0aGlzKSA6IG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHZhciByZW5kZXJNYXJrZG93biA9IHRoaXMucmVuZGVyTWFya2Rvd24uYmluZCh0aGlzKVxyXG4gICAgICAgIEVtYmVyLkhhbmRsZWJhcnMucmVnaXN0ZXJCb3VuZEhlbHBlcigncmVuZGVyTWFya2Rvd24nLCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVtYmVyLkhhbmRsZWJhcnMuU2FmZVN0cmluZyhyZW5kZXJNYXJrZG93bihzKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cclxuICAgICAgICB2YXIgcHJpbnRBZ28gPSB0aGlzLnByaW50QWdvLmJpbmQodGhpcylcclxuICAgICAgICBFbWJlci5IYW5kbGViYXJzLnJlZ2lzdGVyQm91bmRIZWxwZXIoJ3ByaW50QWdvJywgZnVuY3Rpb24gKHQsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbWJlci5IYW5kbGViYXJzLlNhZmVTdHJpbmcocHJpbnRBZ28odCwgb3B0aW9ucykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIHZhciBkZWJ1ZyA9IHRoaXMuZGVidWcuYmluZCh0aGlzKTtcclxuICAgICAgICBFbWJlci5IYW5kbGViYXJzLnJlZ2lzdGVyQm91bmRIZWxwZXIoJ2RlYnVnJywgZGVidWcpO1xyXG5cclxuICAgICAgICB2YXIgdWNmaXJzdCA9IHRoaXMudWNmaXJzdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIEVtYmVyLkhhbmRsZWJhcnMucmVnaXN0ZXJCb3VuZEhlbHBlcigndWNmaXJzdCcsIHVjZmlyc3QpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICB2YXIgaHVtYW5GaWxlc2l6ZSA9IHRoaXMuaHVtYW5GaWxlU2l6ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIEVtYmVyLkhhbmRsZWJhcnMucmVnaXN0ZXJCb3VuZEhlbHBlcignaHVtYW5GaWxlc2l6ZScsIGh1bWFuRmlsZXNpemUpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICB2YXIgZ3JhdmF0YXJJbWcgPSB0aGlzLmdyYXZhdGFySW1nLmJpbmQodGhpcyk7XHJcbiAgICAgICAgRW1iZXIuSGFuZGxlYmFycy5yZWdpc3RlckJvdW5kSGVscGVyKCdncmF2YXRhckltZycsIGZ1bmN0aW9uIChlbWFpbCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVtYmVyLkhhbmRsZWJhcnMuU2FmZVN0cmluZyhncmF2YXRhckltZyhlbWFpbCwgb3B0aW9ucykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICB2YXIgcHJpbnRVc2VyID0gdGhpcy5wcmludFVzZXIuYmluZCh0aGlzKTtcclxuICAgICAgICBFbWJlci5IYW5kbGViYXJzLnJlZ2lzdGVyQm91bmRIZWxwZXIoJ3ByaW50VXNlcicsIGZ1bmN0aW9uICh1c2VyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRW1iZXIuSGFuZGxlYmFycy5TYWZlU3RyaW5nKHByaW50VXNlcih1c2VyLCBvcHRpb25zKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cclxuICAgICAgICB2YXIgZWxsaXBzaXMgPSB0aGlzLmVsbGlwc2lzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgRW1iZXIuSGFuZGxlYmFycy5yZWdpc3RlckJvdW5kSGVscGVyKCdlbGxpcHNpcycsIGVsbGlwc2lzKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgdmFyIHRpbWVzID0gdGhpcy50aW1lcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIEVtYmVyLkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3RpbWVzJywgdGltZXMpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGlmQ29uZCA9IHRoaXMuaWZDb25kLmJpbmQodGhpcyk7XHJcbiAgICAgICAgRW1iZXIuSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcImlmQ29uZFwiLCBpZkNvbmQpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGlmSW5kZXggPSB0aGlzLmlmSW5kZXg7XHJcbiAgICAgICAgRW1iZXIuSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZJbmRleCcsIGlmSW5kZXgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBFbWJlci5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdleHAnLCBmdW5jdGlvbiAoZXhwLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2V0ID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRhdGEudmlldy5nZXQoJ2NvbnRyb2xsZXIuJyArIHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFyc2VWYXJpYWJsZSA9IGZ1bmN0aW9uIChub2RlLCBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5vYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIHBhcnNlVmFyaWFibGUobm9kZS5vYmplY3QpICsgJy4nICsgbm9kZS5wcm9wZXJ0eS5uYW1lXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHZhcmlhYmxlcyA9IGZ1bmN0aW9uIChub2RlLCB2YXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXJzID0gW11cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50eXBlID09ICdNZW1iZXJFeHByZXNzaW9uJyB8fCBub2RlLnR5cGUgPT0gJ0lkZW50aWZpZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcnMucHVzaChwYXJzZVZhcmlhYmxlKG5vZGUsICcnKSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXMobm9kZS5sZWZ0LCB2YXJzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXMobm9kZS5yaWdodCwgdmFycylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhcnNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0ganNlcChleHApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhcnMgPSB2YXJpYWJsZXMocGFyc2VkKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbXV0YXRlZCA9IGV4cDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG11dGF0ZWQgPSBtdXRhdGVkLnJlcGxhY2UodmFyc1tpXSwgXCJnZXQoJ1wiICsgdmFyc1tpXSArIFwiJylcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBldmFsKCdyZXN1bHQgPSAoJyArIG11dGF0ZWQgKyAnKScpO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBwYXJzZSBleHByZXNzaW9uOiB7ZXhwfSwgcGFyc2VkIGFzIHttdXRhdGVkfSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3tleHB9JywgZXhwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgne211dGF0ZWR9JywgbXV0YXRlZClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcylcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxufSlcclxuO1xyXG5cclxuVXRpbHMuSGFuZGxlYmFyc0hlbHBlcnMucmVvcGVuQ2xhc3MoVXRpbHMuU2luZ2xldG9uKTtcclxuIiwiUG8uTlMoJ1V0aWxzJyk7XHJcbi8qKlxyXG4gKiBXcmFwcyBqcXVlcnkgYWpheCB0byBFbWJlci5SU1ZQIGNvbXBhdGliaWxlIHByb21pc2VcclxuICogQHBhcmFtIG9wdGlvbnMgJC5hamF4IG9wdGlvbnNcclxuICogQHJldHVybnMge0VtYmVyLlJTVlAuUHJvbWlzZX1cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5VdGlscy5SU1ZQQWpheCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gbmV3IEVtYmVyLlJTVlAuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgRW1iZXIuJC5hamF4KG9wdGlvbnMpXHJcbiAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9KTtcclxufSIsIlBvLk5TKCdVdGlscycpO1xuXG5cbi8qKlxuICogVXNhZ2U6XG4gKlxuICogICAgIG92ZXJyaWRlczoge1xuICogICAgICAgICAnV29ya3NwYWNlJzoge1xuICogICAgICAgICAgICAgZmluZDogZnVuY3Rpb24gKHN0b3JlLCB0eXBlLCBpZCkge1xuICogICAgICAgICAgICAgICAgICAvLyB5b3VyIG93biBjb2RlIGhlcmVcbiAqICAgICAgICAgICAgIH1cbiAqICAgICAgICB9XG4gKiAgICAgfSxcbiAqXG4gKlxuICovXG5VdGlscy5NdXRhYmxlTWV0aG9kc0FkYXB0ZXJNaXhpbiA9IEVtYmVyLk1peGluLmNyZWF0ZSh7XG5cbiAgICBnZXRPdmVycmlkZTogZnVuY3Rpb24gKG5hbWUsIHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHR5cGUudHlwZUtleTtcbiAgICAgICAgaWYgKHRoaXMub3ZlcnJpZGVzICYmIHRoaXMub3ZlcnJpZGVzW3R5cGVdICYmIHRoaXMub3ZlcnJpZGVzW3R5cGVdW25hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vdmVycmlkZXNbdHlwZV1bbmFtZV07XG4gICAgICAgIH1cbiAgICB9LFxuXG5cbiAgICBkb092ZXJyaWRlOiBmdW5jdGlvbiAobmFtZSwgdHlwZSwgYXJncykge1xuICAgICAgICB2YXIgb3ZlcnJpZGUgPSB0aGlzLmdldE92ZXJyaWRlKG5hbWUsIHR5cGUpO1xuICAgICAgICBpZiAob3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvdmVycmlkZS5hcHBseSh0aGlzLCBhcmdzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluZFF1ZXJ5OiBmdW5jdGlvbiAoc3RvcmUsIHR5cGUsIHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvT3ZlcnJpZGUoJ2ZpbmRRdWVyeScsIHR5cGUsIGFyZ3VtZW50cylcbiAgICB9LFxuXG4gICAgZmluZDogZnVuY3Rpb24gKHN0b3JlLCB0eXBlLCBpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb092ZXJyaWRlKCdmaW5kJywgdHlwZSwgYXJndW1lbnRzKVxuICAgIH0sXG5cbiAgICB1cGRhdGVSZWNvcmQ6IGZ1bmN0aW9uIChzdG9yZSwgdHlwZSwgcmVjb3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvT3ZlcnJpZGUoJ3VwZGF0ZVJlY29yZCcsICB0eXBlLCBhcmd1bWVudHMpXG4gICAgfVxuXG59KVxuXG5cbi8qKlxuICogVXNhZ2U6XG4gKlxuICogICAgIHVybHM6IHtcbiAqICAgICAgICAgJ1dvcmtzcGFjZSc6ICdodHRwOi8vbXkuc3BlY2lhbC51cmwnXG4gKiAgICAgfSxcbiAqXG4gKi9cblV0aWxzLk11dGFibGVVcmxzQWRhcHRlck1peGluID0gRW1iZXIuTWl4aW4uY3JlYXRlKHtcbiAgICAgYnVpbGRVUkw6IGZ1bmN0aW9uICh0eXBlLCBpZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudXJsc1t0eXBlXSkge1xuICAgICAgICAgICAgICAgIHVybCA9IHRoaXMudXJsc1t0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVybC5jaGFyQXQodXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsICsgaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdXBlcih0eXBlLCBpZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxufSk7IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBFbWJlclxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqL1xyXG5cclxuRW1iZXIuRkVBVFVSRVNbXCJxdWVyeS1wYXJhbXNcIl0gPSB0cnVlXHJcbkVtYmVyLk1PREVMX0ZBQ1RPUllfSU5KRUNUSU9OUyA9IHRydWU7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIEFwcGxpY2F0aW9uXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICovXHJcblxyXG5WYXVsdGllciA9IEVtYmVyLkFwcGxpY2F0aW9uLmNyZWF0ZSh7XHJcbiAgICBMT0dfVFJBTlNJVElPTlM6IHRydWUsXHJcbiAgICAvLyBMT0dfVFJBTlNJVElPTlNfSU5URVJOQUw6IHRydWUsXHJcblxyXG4gICAgcmVhZHk6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICogSW5pdGlhbGl6ZSBjb25maWdcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKi9cclxuICAgICAgICBJbml0aWFsaXplQ29uZmlnKHRoaXMpO1xyXG5cclxuXHJcbiAgICAgICAgTEdUTS5jb25maWd1cmUoJ2RlZmVyJywgRW1iZXIuUlNWUC5kZWZlcik7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqIE5vdGlmaWNhdGlvbnNcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgJC5ub3RpZnkuZGVmYXVsdHMoe1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdzdWNjZXNzJyxcclxuICAgICAgICAgICAgc3R5bGU6ICdib290c3RyYXAnLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbSBjZW50ZXInLFxyXG4gICAgICAgICAgICBhdXRvSGlkZURlbGF5OiA3MDAwLFxyXG4gICAgICAgICAgICBjc3M6IFwidmx0LW5vdGlmaWNhdGlvblwiXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICogSGFuZGxlYmFyc1xyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFV0aWxzLkhhbmRsZWJhcnNIZWxwZXJzLmN1cnJlbnQoKS5yZWdpc3RlcigpO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKiBDb29raWVzXHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJC5jb29raWUuanNvbiA9IHRydWU7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqIFRvb2x0aXBzXHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgICQoJ2JvZHknKS50b29sdGlwKHtcclxuICAgICAgICAgICAgc2VsZWN0b3I6ICdbZGF0YS10b2dnbGU9dG9vbHRpcF0nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqIFN0aWNreSBmb290ZXJcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBib2R5ID0gJCgnYm9keScpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICB2YXIgd2luID0gJCh3aW5kb3cpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICB2YXIgZm9vdGVyID0gJCgnI3ZsdC1mb290ZXInKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgaWYgKCBib2R5ICsgZm9vdGVyIDwgd2luKSAge1xyXG4gICAgICAgICAgICAgICAgJCgnI3ZsdC1mb290ZXInKS5jc3Moe3Bvc2l0aW9uOiAnZml4ZWQnfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyN2bHQtZm9vdGVyJykuY3NzKHtwb3NpdGlvbjogJ3JlbGF0aXZlJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDApXHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqIEdsb2JhbCBVSSBiaW5kaW5nc1xyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqL1xyXG5cclxuICAgICAgICAvLyBpbnN0ZWFkIGNzcyBvdmVyZmxvdy15OnNjcm9sbFxyXG4vLyAgICAgICAgdmFyIG1pbkhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAkKCdodG1sJykuY3NzKCdoZWlnaHQnLCAkKHdpbmRvdykuaGVpZ2h0KCkrMSk7XHJcbi8vICAgICAgICB9XHJcbi8vICAgICAgICAkKHdpbmRvdykucmVzaXplKG1pbkhlaWdodCgpKTtcclxuLy8gICAgICAgIG1pbkhlaWdodCgpO1xyXG5cclxuICAgICAgICB0aGlzLmtleXByZXNzQmluZGluZ3MoKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyREkodGhpcyk7XHJcblxyXG4gICAgfVxyXG59KTtcclxuXHJcblZhdWx0aWVyLmRlZmVyUmVhZGluZXNzKCk7XHJcbiIsIid1c2Ugc3RyaWN0JztcblxuVmF1bHRpZXIua2V5cHJlc3NCaW5kaW5ncyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBrZXlwcmVzc0JpbmRpbmdzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBcImtleXNcIjogXCJhbHQgc1wiLFxuICAgICAgICAgICAgXCJpc19leGNsdXNpdmVcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwib25fa2V5ZG93blwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyICRzZWFyY2hib3ggPSAkKCcudmx0LXNlYXJjaC1ib3ggc2VsZWN0Jyk7XG4gICAgICAgICAgICAgICAgaWYgKCRzZWFyY2hib3gubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzZWFyY2hib3hbMF0uc2VsZWN0aXplLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwib25fa2V5dXBcIjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAvL3Bhc3NcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInRoaXNcIjogd2luZG93XG4gICAgICAgIH1cbiAgICBdO1xuICAgIHZhciBzZXRLZXlwcmVzc0JpbmRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBrZXlwcmVzcy5yZWdpc3Rlcl9tYW55KGtleXByZXNzQmluZGluZ3MpO1xuICAgIH07XG5cbiAgICB2YXIgdW5zZXRLZXlwcmVzc0JpbmRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBrZXlwcmVzcy51bnJlZ2lzdGVyX21hbnkoa2V5cHJlc3NCaW5kaW5ncyk7XG4gICAgfTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdBcHBsaWNhdGlvbkxvYWRlclNob3cnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgc2V0S2V5cHJlc3NCaW5kaW5ncygpO1xuICAgIH0pO1xuICAgICQoZG9jdW1lbnQpLm9uKCdBcHBsaWNhdGlvbkxvYWRlckhpZGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdW5zZXRLZXlwcmVzc0JpbmRpbmdzKCk7XG4gICAgfSk7XG5cbiAgICBzZXRLZXlwcmVzc0JpbmRpbmdzKCk7XG59O1xuIiwiVmF1bHRpZXIucmVnaXN0ZXJESSA9IGZ1bmN0aW9uIChhcHApIHtcblxuICAgIC8vIHNlcnZpY2U6Y29uZmlnXG4gICAgYXBwLnJlZ2lzdGVyKCdjb25maWc6bWFpbicsIFZhdWx0aWVyLkNvbmZpZylcbiAgICBhcHAuaW5qZWN0KCdyb3V0ZScsICdjb25maWcnLCAnY29uZmlnOm1haW4nKTtcbiAgICBhcHAuaW5qZWN0KCdjb250cm9sbGVyJywgJ2NvbmZpZycsICdjb25maWc6bWFpbicpO1xuICAgIGFwcC5pbmplY3QoJ3ZpZXcnLCAnY29uZmlnJywgJ2NvbmZpZzptYWluJyk7XG4gICAgYXBwLmluamVjdCgnc2VydmljZScsICdjb25maWcnLCAnY29uZmlnOm1haW4nKTtcblxuICAgIC8vIHNlcnZpY2U6c3RvcmVcbiAgICBhcHAucmVnaXN0ZXIoJ3N0b3JlOm1haW4nLCBWYXVsdGllci5DbGllbnQsIHtpbnN0YW50aWF0ZTogZmFsc2V9KTtcbiAgICBhcHAuaW5qZWN0KCdyb3V0ZScsICdzdG9yZScsICdzdG9yZTptYWluJyk7XG4gICAgYXBwLmluamVjdCgnY29udHJvbGxlcicsICdzdG9yZScsICdzdG9yZTptYWluJyk7XG4gICAgLy9hbHNvIHRoZXJlIGxhenkgbG9hZGluZyBkb2VzIG5vdCB3b3JrIHByb3Blcmx5IHdpdGggZW1iZXIgaW5pdGlhbGl6ZTpcbiAgICBSRVNUbGVzcy5zZXQoJ2NsaWVudCcsIFZhdWx0aWVyLkNsaWVudCk7XG5cbiAgICAvLyBzZXJ2aWNlOmVycm9yc1xuICAgIGFwcC5yZWdpc3Rlcignc2VydmljZTplcnJvcnMnLCBTZXJ2aWNlLkVycm9ycyk7XG4gICAgYXBwLmluamVjdCgncm91dGUnLCAnZXJyb3JzJywgJ3NlcnZpY2U6ZXJyb3JzJyk7XG4gICAgYXBwLmluamVjdCgnc2VydmljZTplcnJvcnMnLCAnZXJyb3JDb250cm9sbGVyJywgJ2NvbnRyb2xsZXI6RXJyb3JHZW5lcmljJyk7XG4gICAgYXBwLmluamVjdCgnc2VydmljZTplcnJvcnMnLCAncm91dGVyJywgJ3JvdXRlcjptYWluJylcblxuICAgIC8vIHNlcnZpY2U6c2Vzc2lvbiBhbmQgc2VydmljZTpzdG9yYWdlXG4gICAgYXBwLnJlZ2lzdGVyKCdzZXJ2aWNlOnNlc3Npb24nLCBTZXJ2aWNlLlNlc3Npb24pO1xuICAgIGFwcC5yZWdpc3Rlcignc2VydmljZTpzdG9yYWdlJywgU2VydmljZS5TdG9yYWdlKTtcblxuICAgIC8vIHNlcnZpY2U6YXV0aFxuICAgIGFwcC5yZWdpc3Rlcignc2VydmljZTphdXRoJywgU2VydmljZS5BdXRoKVxuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6YXV0aCcsICdjb2RlcicsICdzZXJ2aWNlOmNvZGVyJylcbiAgICBhcHAuaW5qZWN0KCdzZXJ2aWNlOmF1dGgnLCAnc3RvcmUnLCAnc3RvcmU6bWFpbicpXG4gICAgYXBwLmluamVjdCgnc2VydmljZTphdXRoJywgJ3JvdXRlcicsICdyb3V0ZXI6bWFpbicpXG4gICAgYXBwLmluamVjdCgnc2VydmljZTphdXRoJywgJ3Nlc3Npb24nLCAnc2VydmljZTpzZXNzaW9uJylcbiAgICBhcHAuaW5qZWN0KCdzZXJ2aWNlOmF1dGgnLCAnc3RvcmFnZScsICdzZXJ2aWNlOnN0b3JhZ2UnKVxuXG4gICAgYXBwLmluamVjdCgncm91dGUnLCAnYXV0aCcsICdzZXJ2aWNlOmF1dGgnKTtcbiAgICBhcHAuaW5qZWN0KCdjb250cm9sbGVyJywgJ2F1dGgnLCAnc2VydmljZTphdXRoJyk7XG5cbiAgICAvLyBzZXJ2aWNlOmNvZGVyXG4gICAgYXBwLnJlZ2lzdGVyKCdzZXJ2aWNlOmNvZGVyJywgU2VydmljZS5Db2RlcilcblxuICAgIC8vIHNlcnZpY2U6aW52aXRhdGlvbnNcbiAgICBhcHAucmVnaXN0ZXIoJ3NlcnZpY2U6aW52aXRhdGlvbnMnLCBTZXJ2aWNlLkludml0YXRpb25zKVxuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6aW52aXRhdGlvbnMnLCAnc3RvcmUnLCAnc3RvcmU6bWFpbicpXG4gICAgYXBwLmluamVjdCgnc2VydmljZTppbnZpdGF0aW9ucycsICdzZXNzaW9uJywgJ3NlcnZpY2U6c2Vzc2lvbicpXG4gICAgYXBwLmluamVjdCgnc2VydmljZTppbnZpdGF0aW9ucycsICdhdXRoJywgJ3NlcnZpY2U6YXV0aCcpO1xuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6aW52aXRhdGlvbnMnLCAncm91dGVyJywgJ3JvdXRlcjptYWluJyk7XG5cbiAgICBhcHAuaW5qZWN0KCdyb3V0ZTpJbnZpdGF0aW9uVXNlJywgJ2ludml0YXRpb25zJywgJ3NlcnZpY2U6aW52aXRhdGlvbnMnKVxuICAgIGFwcC5pbmplY3QoJ3JvdXRlOkludml0YXRpb25BY2NlcHQnLCAnaW52aXRhdGlvbnMnLCAnc2VydmljZTppbnZpdGF0aW9ucycpXG4gICAgYXBwLmluamVjdCgncm91dGU6V29ya3NwYWNlTWVtYmVySW52aXRlJywgJ2ludml0YXRpb25zJywgJ3NlcnZpY2U6aW52aXRhdGlvbnMnKVxuICAgIGFwcC5pbmplY3QoJ3JvdXRlOlZhdWx0TWVtYmVySW52aXRlJywgJ2ludml0YXRpb25zJywgJ3NlcnZpY2U6aW52aXRhdGlvbnMnKVxuICAgIGFwcC5pbmplY3QoJ3JvdXRlOkNhcmRNZW1iZXJJbnZpdGUnLCAnaW52aXRhdGlvbnMnLCAnc2VydmljZTppbnZpdGF0aW9ucycpO1xuICAgIGFwcC5pbmplY3QoJ3JvdXRlOldvcmtzcGFjZXMnLCAnaW52aXRhdGlvbnMnLCAnc2VydmljZTppbnZpdGF0aW9ucycpO1xuXG4gICAgLy8gc2VydmljZTprZXl0cmFuc2ZlclxuICAgIGFwcC5yZWdpc3Rlcignc2VydmljZTprZXl0cmFuc2ZlcicsIFNlcnZpY2UuS2V5VHJhbnNmZXIpXG4gICAgYXBwLmluamVjdCgnc2VydmljZTprZXl0cmFuc2ZlcicsICdzdG9yZScsICdzdG9yZTptYWluJyk7XG4gICAgYXBwLmluamVjdCgnc2VydmljZTprZXl0cmFuc2ZlcicsICdhdXRoJywgJ3NlcnZpY2U6YXV0aCcpO1xuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6a2V5dHJhbnNmZXInLCAnY29kZXInLCAnc2VydmljZTpjb2RlcicpO1xuXG4gICAgLy8gc2VydmljZTp3b3Jrc3BhY2VrZXlcbiAgICBhcHAucmVnaXN0ZXIoJ3NlcnZpY2U6d29ya3NwYWNla2V5JywgU2VydmljZS5Xb3Jrc3BhY2VLZXkpO1xuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6d29ya3NwYWNla2V5JywgJ2F1dGgnLCAnc2VydmljZTphdXRoJyk7XG4gICAgYXBwLmluamVjdCgnc2VydmljZTp3b3Jrc3BhY2VrZXknLCAnc3RvcmUnLCAnc3RvcmU6bWFpbicpO1xuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6d29ya3NwYWNla2V5JywgJ2NvZGVyJywgJ3NlcnZpY2U6Y29kZXInKTtcbiAgICBhcHAuaW5qZWN0KCdzZXJ2aWNlOndvcmtzcGFjZWtleScsICdrZXl0cmFuc2ZlcicsICdzZXJ2aWNlOmtleXRyYW5zZmVyJyk7XG5cbiAgICBhcHAuaW5qZWN0KCdyb3V0ZTpXb3Jrc3BhY2VzQ3JlYXRlJywgJ3dvcmtzcGFjZWtleScsICdzZXJ2aWNlOndvcmtzcGFjZWtleScpO1xuICAgIGFwcC5pbmplY3QoJ3JvdXRlOldvcmtzcGFjZScsICd3b3Jrc3BhY2VrZXknLCAnc2VydmljZTp3b3Jrc3BhY2VrZXknKTtcbiAgICBhcHAuaW5qZWN0KCdyb3V0ZTpXb3Jrc3BhY2VOb0tleXMnLCAnd29ya3NwYWNla2V5JywgJ3NlcnZpY2U6d29ya3NwYWNla2V5Jyk7XG4gICAgYXBwLmluamVjdCgncm91dGU6V29ya3NwYWNlTWVtYmVyQXBwcm92ZScsICd3b3Jrc3BhY2VrZXknLCAnc2VydmljZTp3b3Jrc3BhY2VrZXknKTtcblxuICAgIC8vIHNlcnZpY2U6Y2hhbmdla2V5XG4gICAgYXBwLnJlZ2lzdGVyKCdzZXJ2aWNlOmNoYW5nZWtleScsIFNlcnZpY2UuQ2hhbmdlS2V5KTtcbiAgICBhcHAuaW5qZWN0KCdyb3V0ZTpTZXR0aW5nc0tleXMnLCAnY2hhbmdla2V5JywgJ3NlcnZpY2U6Y2hhbmdla2V5Jyk7XG4gICAgYXBwLmluamVjdCgncm91dGU6QXV0aExvc3RLZXlSZWNvdmVyeVJlYnVpbGQnLCAnY2hhbmdla2V5JywgJ3NlcnZpY2U6Y2hhbmdla2V5Jyk7XG4gICAgYXBwLmluamVjdCgnc2VydmljZTpjaGFuZ2VrZXknLCAnc3RvcmUnLCAnc3RvcmU6bWFpbicpO1xuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6Y2hhbmdla2V5JywgJ2F1dGgnLCAnc2VydmljZTphdXRoJyk7XG4gICAgYXBwLmluamVjdCgnc2VydmljZTpjaGFuZ2VrZXknLCAnY29kZXInLCAnc2VydmljZTpjb2RlcicpO1xuXG4gICAgLy8gc2VydmljZTpuZXd1c2VyaW5pdFxuICAgIGFwcC5yZWdpc3Rlcignc2VydmljZTpuZXd1c2VyaW5pdCcsIFNlcnZpY2UuTmV3VXNlckluaXQpO1xuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6bmV3dXNlcmluaXQnLCAnYXV0aCcsICdzZXJ2aWNlOmF1dGgnKTtcbiAgICBhcHAuaW5qZWN0KCdzZXJ2aWNlOm5ld3VzZXJpbml0JywgJ3JvdXRlcicsICdyb3V0ZXI6bWFpbicpO1xuICAgIGFwcC5pbmplY3QoJ3NlcnZpY2U6bmV3dXNlcmluaXQnLCAnaW52aXRhdGlvbnMnLCAnc2VydmljZTppbnZpdGF0aW9ucycpO1xuICAgIGFwcC5pbmplY3QoJ3JvdXRlOkF1dGhSZWdpc3RlckNyZWRzJywgJ25ld3VzZXJpbml0JywgJ3NlcnZpY2U6bmV3dXNlcmluaXQnKVxuXG5cbiAgICAvLyBjb21wb25lbnRzIGluamVjdGlvbnNcbiAgICBhcHAuaW5qZWN0KCdjb21wb25lbnQ6Y2hhbmdlLWtleScsICdjaGFuZ2VrZXknLCAnc2VydmljZTpjaGFuZ2VrZXknKTtcblxuICAgIGFwcC5pbmplY3QoJ2NvbXBvbmVudDptZW1iZXItbWFuYWdlci1hY2NvcmRpb24nLCAnc3RvcmUnLCAnc3RvcmU6bWFpbicpO1xuXG4gICAgLy8gc2VydmljZTplbnZpcm9ubWVudFxuICAgIGFwcC5yZWdpc3Rlcignc2VydmljZTplbnZpcm9ubWVudCcsIFNlcnZpY2UuRW52aXJvbm1lbnQpO1xuICAgIGFwcC5pbmplY3QoJ3JvdXRlJywgJ2Vudmlyb25tZW50JywgJ3NlcnZpY2U6ZW52aXJvbm1lbnQnKTtcbiAgICBhcHAuaW5qZWN0KCdjb250cm9sbGVyOkxheW91dFdvcmtzcGFjZUJveCcsICdlbnZpcm9ubWVudCcsICdzZXJ2aWNlOmVudmlyb25tZW50Jyk7XG4gICAgYXBwLmluamVjdCgnc2VydmljZTppbnZpdGF0aW9ucycsICdlbnYnLCAnc2VydmljZTplbnZpcm9ubWVudCcpO1xuXG4gICAgLy8gbW9kZWwgaW5qZWN0aW9ucyAtIGl0IGlzIGRvbmUgaW4gbW9kZWwgaW5pdHNcbn0iLCJ2YXIgcm91dGVyID0gVmF1bHRpZXIuUm91dGVyLm1hcChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICogUkVHSVNUUkFUSU9OXHJcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgIHRoaXMucmVzb3VyY2UoJ0F1dGhSZWdpc3RlcicsIHtwYXRoOiAnL2F1dGgvcmVnaXN0ZXInfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucm91dGUoJ2JlZm9yZScsIHsgcGF0aDogJ292ZXJ2aWV3JyB9KTtcclxuICAgICAgICB0aGlzLnJvdXRlKCdrZXlzJywgeyBwYXRoOiAnZ2VuZXJhdGUta2V5cycgfSk7XHJcbiAgICAgICAgdGhpcy5yb3V0ZSgnY3JlZHMnLCB7IHBhdGg6ICdzdWJtaXQtY3JlZGVudGlhbHMnIH0pO1xyXG4gICAgICAgIHRoaXMucm91dGUoJ3N1bScsIHsgcGF0aDogJy9yZWdpc3RyYXRpb24tZG9uZScgfSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICogTG9naW5cclxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgdGhpcy5yb3V0ZSgnQXV0aExvZ2luJywge3BhdGg6ICcvYXV0aC9sb2dpbid9KTtcclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICogUmVjb3ZlcnkgS2V5XHJcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICB0aGlzLnJlc291cmNlKCdBdXRoTG9zdEtleScsIHtwYXRoOiAnL2xvc3RrZXknfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucm91dGUoJ3N1Y2Nlc3MnLCB7cGF0aDogJ3N1Y2Nlc3MnfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVzb3VyY2UoJ0F1dGhMb3N0S2V5UmVjb3ZlcnknLCB7cGF0aDogJy86aWQvOmhhc2gnfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlKCdyZXNldCcsIHtwYXRoOiAncmVzZXQnfSk7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGUoJ3JlYnVpbGQnLCB7cGF0aDogJ3JlYnVpbGQnfSk7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGUoJ2Rpc2FibGUnLCB7cGF0aDogJ2Rpc2FibGUnfSk7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGUoJ3N1Y2Nlc3MnLCB7cGF0aDogJ3N1Y2Nlc3MnfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgKiBpbnZpdGF0aW9uc1xyXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICB0aGlzLnJlc291cmNlKCdJbnZpdGF0aW9uJywge3BhdGg6ICcvaW52aXRhdGlvbnMnfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGF1dG9tYXRpYyBJbnZpdGF0aW9uLmluZGV4XHJcbiAgICAgICAgdGhpcy5yb3V0ZSgndXNlJywgeyBwYXRoOiAnL3VzZS86aW52aXRhdGlvbi86aGFzaCcgfSk7XHJcbiAgICAgICAgdGhpcy5yb3V0ZSgnYW5vbnltb3VzJywgeyBwYXRoOiAnL2Fub255bW91cycgfSk7XHJcbiAgICAgICAgdGhpcy5yb3V0ZSgnYWNjZXB0JywgeyBwYXRoOiAnL2FjY2VwdCcgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgKiBTZXR0aW5nc1xyXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICB0aGlzLnJlc291cmNlKCdTZXR0aW5ncycsIHtwYXRoOiAnL3NldHRpbmdzJ30sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBhdXRvbWF0aWMgU2V0dGluZ3MuaW5kZXhcclxuICAgICAgICB0aGlzLnJvdXRlKCdwZXJzb25hbCcsIHsgcGF0aDogJy9wZXJzb25hbCcgfSk7XHJcbiAgICAgICAgdGhpcy5yb3V0ZSgna2V5cycsIHsgcGF0aDogJy9rZXlzJyB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICogV29ya3NwYWNlc1xyXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHRoaXMucmVzb3VyY2UoJ1dvcmtzcGFjZXMnLCB7cGF0aDogJy93b3Jrc3BhY2VzJ30sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBhdXRvbWF0aWMgV29ya3NwYWNlcy5pbmRleFxyXG4gICAgICAgIHRoaXMucm91dGUoJ2NyZWF0ZScsIHsgcGF0aDogJy9jcmVhdGUnfSk7XHJcbiAgICAgICAgdGhpcy5yb3V0ZSgnc2VsZWN0JywgeyBwYXRoOiAnL3NlbGVjdCd9KTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqIFdvcmtzcGFjZVxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZSgnV29ya3NwYWNlJywge3BhdGg6ICcvdy86d29ya3NwYWNlJ30sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gYXV0b21hdGljIFdvcmtzcGFjZS5pbmRleFxyXG5cclxuICAgICAgICAgICAgLy8gZWRpdFxyXG4gICAgICAgICAgICB0aGlzLnJvdXRlKCdlZGl0JywgeyBwYXRoOiAnL2VkaXQnfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBubyBrZXlzXHJcbiAgICAgICAgICAgIHRoaXMucm91dGUoJ25vS2V5cycsIHsgcGF0aDogJy93YWl0aW5nLWZvci1rZXlzJ30pO1xyXG5cclxuICAgICAgICAgICAgLy8gbWVtYmVyXHJcbiAgICAgICAgICAgIHRoaXMucm91dGUoJ21lbWJlckluZGV4JywgeyBwYXRoOiAnL3RlYW0nfSk7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGUoJ21lbWJlckludml0ZScsIHsgcGF0aDogJy90ZWFtL2ludml0ZSd9KTtcclxuICAgICAgICAgICAgdGhpcy5yb3V0ZSgnbWVtYmVyTWFuYWdlbWVudCcsIHtwYXRoOiAnL3RlYW0vbWFuYWdlbWVudCd9KTtcclxuXHJcbiAgICAgICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICogVmF1bHRzXHJcbiAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UoJ1ZhdWx0cycsIHtwYXRoOiAnL3ZhdWx0cyd9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWMgVmF1bHRzLmluZGV4XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdjcmVhdGUnLCB7IHBhdGg6ICcvY3JlYXRlJ30pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICAgICAqIFZhdWx0XHJcbiAgICAgICAgICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSgnVmF1bHQnLCB7cGF0aDogJy92Lzp2YXVsdCd9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXV0b21hdGljIFZhdWx0LmluZGV4XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVkaXRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdlZGl0JywgeyBwYXRoOiAnL2VkaXQnfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lbWJlcnNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdtZW1iZXJJbmRleCcsIHsgcGF0aDogJy90ZWFtJ30pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm91dGUoJ21lbWJlckludml0ZScsIHsgcGF0aDogJy90ZWFtL2ludml0ZSd9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIENhcmRzXHJcbiAgICAgICAgICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlKCdDYXJkcycsIHtwYXRoOiAnL2NhcmRzJ30sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXV0b21hdGljIENhcmRzLmluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm91dGUoJ2NyZWF0ZScsIHsgcGF0aDogJy9jcmVhdGUnfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSgnQ2FyZCcsIHtwYXRoOiAnL2MvOmNhcmQnfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXV0b21hdGljIENhcmQuaW5kZXhcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlZGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdlZGl0JywgeyBwYXRoOiAnL2VkaXQnfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3V0ZSgnbW92ZScsIHsgcGF0aDogJy9tb3ZlJ30pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1lbWJlcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm91dGUoJ21lbWJlckluZGV4JywgeyBwYXRoOiAnL3RlYW0nfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdtZW1iZXJJbnZpdGUnLCB7IHBhdGg6ICcvdGVhbS9pbnZpdGUnfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSgnU2VjcmV0Jywge3BhdGg6ICcvc2VjcmV0cyd9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXV0b21hdGljIFNlY3JldHMuaW5kZXhcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VjcmV0cyBtYW5pcHVsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdjcmVhdGVTZWxlY3QnLCB7IHBhdGg6ICcvY3JlYXRlL3NlbGVjdCd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdjcmVhdGVTdWJtaXQnLCB7IHBhdGg6ICcvY3JlYXRlL3N1Ym1pdC86dHlwZSd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdlZGl0JywgeyBwYXRoOiAnL2VkaXQvOnNlY3JldCd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlKCdtb3ZlJywgeyBwYXRoOiAnL21vdmUvOnNlY3JldCd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICogU3lzdGVtIGFuZCBlcnJvciByb3V0ZXNcclxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgdGhpcy5yZXNvdXJjZSgnSG9tZScsIHtwYXRoOiAnL2hvbWUnfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vdGhpcy5yb3V0ZSgnYWJvdXQnLCB7IHBhdGg6ICcvYWJvdXQnfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJvdXRlKFwiRXJyb3JHZW5lcmljXCIsIHsgcGF0aDogXCIvZXJyb3JzL1wifSk7XHJcbiAgICB0aGlzLnJvdXRlKFwiRXJyb3I0MDRcIiwgeyBwYXRoOiBcIipwYXRoXCJ9KTsgLy9hbHNvIHJlZmVycmVkIGFzIC9lcnJvcnMvZXJyb3ItNDA0XHJcblxyXG59KTtcclxuXHJcbkVtYmVyLlJvdXRlLnJlb3Blbih7XHJcbiAgICBhY3RpdmF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX3N1cGVyKCk7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblZhdWx0aWVyLkFwcGxpY2F0aW9uUm91dGUgPSBFbWJlci5Sb3V0ZS5leHRlbmQoXHJcbiAgICB7XHJcbiAgICAgICAgYWN0aW9uczoge1xyXG5cclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvciwgdHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXQoJ2Vycm9ycycpLnByb2Nlc3NFcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBsb2FkaW5nOiBmdW5jdGlvbiAodHJhbnNpdGlvbiwgb3JpZ2luUm91dGUpIHtcclxuICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uTG9hZGVyLnNob3dMb2FkZXIoKTtcclxuLy8gICAgICAgICAgICAgICAgRW1iZXIucnVuLnNjaGVkdWxlT25jZSgnYWZ0ZXJSZW5kZXInLCB0aGlzLCBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICBBcHBsaWNhdGlvbkxvYWRlci5oaWRlTG9hZGVyKCk7XHJcbi8vICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLnByb21pc2UuZmluYWxseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQXBwbGljYXRpb25Mb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGJlZm9yZU1vZGVsOiBmdW5jdGlvbiAocGFyYW1zLCB0cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbG9hZCBhdXRoZW50aWNhdGVkIHVzZXIgZnJvbSBzZXJ2ZXJcclxuICAgICAgICAgICAgdmFyIGF1dGggPSB0aGlzLmdldCgnYXV0aCcpO1xyXG4gICAgICAgICAgICB2YXIgc3RhdHVzID0gYXV0aC5yZWxvYWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuO1xyXG5cclxuVmF1bHRpZXIuSW5kZXhSb3V0ZSA9IEVtYmVyLlJvdXRlLmV4dGVuZChcclxuICAgIHtcclxuICAgICAgICByZWRpcmVjdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXV0aCA9IHRoaXMuZ2V0KCdhdXRoJyk7XHJcbiAgICAgICAgICAgIGlmIChhdXRoLmdldCgnaXNBdXRoZW50aWNhdGVkJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25UbygnV29ya3NwYWNlcy5pbmRleCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvblRvKCdIb21lLmluZGV4Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiIsIlBvLk5TKCdTZXJ2aWNlJyk7XG5cblNlcnZpY2UuRXJyb3JzID0gRW1iZXIuT2JqZWN0LmV4dGVuZCh7XG5cbiAgICAvKipcbiAgICAgKiBAREkgRXJyb3JDb250cm9sbGVyXG4gICAgICovXG4gICAgZXJyb3JDb250cm9sbGVyOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQERJIHJvdXRlcjptYWluXG4gICAgICovXG4gICAgcm91dGVyOiBudWxsLFxuICAgIGVycm9yUm91dGU6ICdFcnJvckdlbmVyaWMnLFxuXG4gICAgcmVuZGVyaW5nOiBmYWxzZSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fc3VwZXIoKTtcbiAgICAgICAgdmFyIHJhdmVuS2V5ID0gdGhpcy5nZXQoJ2NvbmZpZy5GVF9GRUFUVVJFUy5yYXZlbl9rZXknKTtcbiAgICAgICAgaWYgKHJhdmVuS2V5KSB7XG4gICAgICAgICAgICBSYXZlbi5jb25maWcocmF2ZW5LZXksIHtcbiAgICAgICAgICAgICAgICB3aGl0ZWxpc3RVcmxzOiBbXVxuICAgICAgICAgICAgfSkuaW5zdGFsbCgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHBhcnNlRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnT29vdXBzISBTb21ldGhpbmcgd3JvbmcgaGFwcGVuIGhlcmUnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0ZhdGFsIGVycm9yJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnRXJyb3JHZW5lcmljJyxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChlcnJvciAmJiAoZXJyb3IubWVzc2FnZSB8fCBlcnJvci5kZXRhaWwpKSB7XG4gICAgICAgICAgICBkYXRhLm1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IGVycm9yLmRldGFpbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciAmJiBlcnJvci50aXRsZSkge1xuICAgICAgICAgICAgZGF0YS50aXRsZSA9IGVycm9yLnRpdGxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLnN0YXR1cyA9PSA0MDMpIHtcbiAgICAgICAgICAgIGRhdGEudGl0bGUgPSAnQWNjZXNzIGRlbmllZCEnO1xuICAgICAgICAgICAgZGF0YS5tZXNzYWdlID0gJ1lvdSBkbyBub3QgaGF2ZSBhY2Nlc3MgdG8gZGVzaXJlZCBhcmVhJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5zdGF0dXMgPT0gNDA0KSB7XG4gICAgICAgICAgICBkYXRhLnRlbXBsYXRlID0gJ0Vycm9yNDA0JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICBjb25zb2xlRXJyb3I6IGZ1bmN0aW9uIChlcnJvciwgbGV2ZWwpIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbCB8fCAnZXJyb3InO1xuICAgICAgICAvLyBsb2cgZXJyb3JcbiAgICAgICAgaWYgKGVycm9yLnN0YWNrKSB7XG4gICAgICAgICAgICBjb25zb2xlW2xldmVsXShlcnJvci5zdGFjaylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGVbbGV2ZWxdKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgfSxcblxuICAgIHJlbmRlckVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdmFyIGN0cmwgPSB0aGlzLmdldCgnZXJyb3JDb250cm9sbGVyJyk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5wYXJzZUVycm9yKGVycm9yKTtcbiAgICAgICAgY3RybC5zZXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICBjdHJsLnNldCgnY29udGVudCcsIGRhdGEpO1xuXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmdldCgncm91dGVyJyk7XG4gICAgICAgIHZhciBlcnJvclJvdXRlID0gdGhpcy5nZXQoJ2Vycm9yUm91dGUnKTtcbiAgICAgICAgcm91dGVyLmludGVybWVkaWF0ZVRyYW5zaXRpb25UbyhlcnJvclJvdXRlKTtcbiAgICAgICAgQXBwbGljYXRpb25Mb2FkZXIuaGlkZUxvYWRlcigpO1xuICAgIH0sXG5cbiAgICBsb2dFcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHZhciBjID0gdGhpcy5nZXQoJ2NvbnRhaW5lcicpO1xuXG4gICAgICAgIHRoaXMuY29uc29sZUVycm9yKGVycm9yKTtcblxuICAgICAgICAvLyBjYXB0dXJlIHVzZXJcbiAgICAgICAgUmF2ZW4uc2V0VXNlcihudWxsKTtcbiAgICAgICAgdmFyIGF1dGggPSBjLmxvb2t1cCgnc2VydmljZTphdXRoJyk7XG4gICAgICAgIHZhciB1c2VyO1xuICAgICAgICBpZiAoYXV0aCAmJiAodXNlciA9IGF1dGguZ2V0KCd1c2VyJykpKSB7XG4gICAgICAgICAgICB1c2VyID0ge1xuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmdldCgnZW1haWwnKSxcbiAgICAgICAgICAgICAgICBpZDogdXNlci5nZXQoJ2lkJylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSYXZlbi5zZXRVc2VyKHVzZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhcHR1cmUgY3VycmVudCBwYXRoXG4gICAgICAgIHZhciBhID0gYy5sb29rdXAoJ2NvbnRyb2xsZXI6YXBwbGljYXRpb24nKTtcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gJyc7XG4gICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICBjdXJyZW50UGF0aCA9IGEuZ2V0KCdjdXJyZW50UGF0aCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9jYXB0dXJlIHRhZ3NcbiAgICAgICAgdmFyIHRhZ3MgPSB7fTtcbiAgICAgICAgdGFnc1sndHlwZSddID0gZXJyb3IudHlwZTtcbiAgICAgICAgdGFnc1snZXJyb3JEdXJpbmdSZW5kZXJpbmcnXSA9IHRoaXMuZ2V0KCdyZW5kZXJpbmcnKTtcbiAgICAgICAgdGFnc1snY3VycmVudFBhdGgnXSA9IGN1cnJlbnRQYXRoO1xuXG4gICAgICAgIFJhdmVuLmNhcHR1cmVFeGNlcHRpb24oZXJyb3IsIHtleHRyYTogdGFnc30pO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2dFcnJvcihlcnJvcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJy0tQ0FOTk9ULUNBUFRVUkUtRVJST1InKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckVycm9yKGVycm9yKVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCctLUNBTk5PVC1SRU5ERVItRVJST1ItLScpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxufSk7IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIFNlcnZpY2UgPSBQby5OUygnU2VydmljZScpO1xyXG5cclxuU2VydmljZS5FbnZpcm9ubWVudCA9IEVtYmVyLk9iamVjdC5leHRlbmQoe1xyXG5cclxuICAgIHdvcmtzcGFjZTogbnVsbCxcclxuICAgIHZhdWx0OiBudWxsLFxyXG4gICAgY2FyZDogbnVsbCxcclxuICAgIHNlY3JldDogbnVsbCxcclxuICAgIHJvdXRlcjogbnVsbFxyXG5cclxufSk7IiwiUG8uTlMoJ1NlcnZpY2UnKTtcclxuXHJcblNlcnZpY2UuQXV0aCA9IEVtYmVyLk9iamVjdC5leHRlbmQoe1xyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9zdXBlcihhcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMucHJvbWlzZXMgPSBTZXJ2aWNlLkF1dGhQcm9taXNlcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBzdG9yZTogdGhpcy5zdG9yZSxcclxuICAgICAgICAgICAgY29kZXI6IHRoaXMuY29kZXJcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAREkgc3RvcmU6bWFpblxyXG4gICAgICovXHJcbiAgICBzdG9yZTogbnVsbCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBESSBzZXJ2aWNlOmNvZGVyXHJcbiAgICAgKi9cclxuICAgIGNvZGVyOiBudWxsLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQERJIHJvdXRlcjptYWluXHJcbiAgICAgKi9cclxuICAgIHJvdXRlcjogbnVsbCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBESSBzZXJ2aWNlOnNlc3Npb25cclxuICAgICAqL1xyXG4gICAgc2Vzc2lvbjogbnVsbCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBESSBzZXJ2aWNlOnN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgc3RvcmFnZTogbnVsbCxcclxuXHJcbiAgICB0b2tlbjogbnVsbCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEN1cnJlbnQgYXV0aGVudGljYXRlZCB1c2VyIG1vZGVsXHJcbiAgICAgKi9cclxuICAgIHVzZXI6IG51bGwsXHJcbiAgICBjaGVja2VkOiBmYWxzZSxcclxuICAgIHByaXZhdGVLZXk6IG51bGwsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2l0aW9uIHRvIGJlIHJldHJpZWQgYWZ0ZXIgc3VjY2Vzc2Z1bGwgbG9naW5cclxuICAgICAqL1xyXG4gICAgdHJhbnNpdGlvbjogbnVsbCxcclxuXHJcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3VzZXIuaWQnKSAhPT0gbnVsbFxyXG4gICAgfS5wcm9wZXJ0eSgndXNlcicpLFxyXG5cclxuICAgIGlzQ2hlY2tlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnY2hlY2tlZCcpID09IHRydWVcclxuICAgIH0ucHJvcGVydHkoJ3VzZXInLCAnY2hlY2tlZCcpLFxyXG5cclxuICAgIGdlbmVyYXRlS2V5czogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGNvZGVyID0gdGhpcy5nZXQoJ2NvZGVyJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZXIuZ2VuZXJhdGVLZXlzKGNhbGxiYWNrKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIGNoZWNrUGVybWlzc2lvbnM6IGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBjaGVjaywgbm9Qcm9taXNlKSB7XHJcbiAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24gKG1vZGVsKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNoZWNrKG1vZGVsKVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignTWlzc2luZyBjbGllbnQgcGVybWlzc2lvbicpO1xyXG4gICAgICAgICAgICAgICAgZS5zdGF0dXMgPSA0MDNcclxuICAgICAgICAgICAgICAgIHRocm93IGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpXHJcblxyXG4gICAgICAgIGlmIChub1Byb21pc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZm5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2dzIGluIHVzZXIgcHJvbWlzZVxyXG4gICAgICpcclxuICAgICAqIGlmIHN1Y2Nlc3MgcHJvbWlzZSByZXR1cm5zIFZhdWx0aWVyLlVzZXIgbW9kZWxcclxuICAgICAqIGlmIGVycm9yIHByb21pc2UgcmV0dXJucyBudWxsXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVtYWlsXHJcbiAgICAgKiBAcGFyYW0gcHJpdmF0ZUtleVxyXG4gICAgICogQHBhcmFtIGJvb2wgdHJhbnNpdGlvbkFmdGVyTG9naW5cclxuICAgICAqIEByZXR1cm5zIHtFbWJlci5SU1ZQLlByb21pc2V9XHJcbiAgICAgKi9cclxuICAgIGxvZ2luOiBmdW5jdGlvbiAoZW1haWwsIHByaXZhdGVLZXksIHRyYW5zaXRpb25BZnRlckxvZ2luKSB7XHJcbiAgICAgICAgLy8gZW5zdXJlICBlbWFpbCBpcyBub3QgdW5kZWZpbmVkXHJcbiAgICAgICAgLy8gbG93ZXJjYXNlIGVtYWlsIChidHc6IGxvd2VyY2FzZSBkb25lIGFsc28gYnkgc2VydmVyKVxyXG4gICAgICAgIGlmICghZW1haWwpIHtcclxuICAgICAgICAgICAgZW1haWwgPSAnJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbWFpbCA9IGVtYWlsLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2VzLmxvZ2luKGVtYWlsLCBwcml2YXRlS2V5KVxyXG4gICAgICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgICAgIC8vIHN1Y2Nlc3NmdWxsIGxvZ2luXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgY3JlZGVudGlhbHNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF1dGhlbnRpY2F0ZWRVc2VyKHVzZXIsIHByaXZhdGVLZXksIHRoaXMucHJvbWlzZXMuZ2V0KCd0b2tlbicpKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2l0aW9uIHRvIHByZXZpb3VzbHkgcmVxdWVzdGVkIHBhZ2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbkFmdGVyTG9naW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb24gPSB0aGlzLmdldCgndHJhbnNpdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5yZXRyeSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldCgncm91dGVyJykudHJhbnNpdGlvblRvKCdpbmRleCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyXHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdW5zdWNjZXNzZnVsbCBsb2dpblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXV0aGVudGljYXRlZFVzZXIobnVsbClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5yZWplY3QoKVxyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgfSxcclxuXHJcbiAgICByZW1lbWJlclVzZXI6IGZ1bmN0aW9uIChlbWFpbCxwcml2YXRlS2V5LCB0dGwpIHtcclxuICAgICAgICBpZiAoZW1haWwgJiYgdHRsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0KCdzdG9yYWdlJykuc2V0KCdyZW1lbWJlcicsIHtcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgIHByaXZhdGVLZXk6IHByaXZhdGVLZXksXHJcbiAgICAgICAgICAgICAgICB0dGw6IHR0bFxyXG4gICAgICAgICAgICB9LCB0dGwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0KCdzdG9yYWdlJykucmVtb3ZlKCdyZW1lbWJlcicpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZ2V0UmVtZW1iZXJlZFVzZXI6IGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzdG9yYWdlJykuZ2V0KCdyZW1lbWJlcicsIG51bGwpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgdG8gcmVsb2FkIHVzZXIgYnkgdG9rZW4gZnJvbSBzZXJ2ZXJcclxuICAgICAqIHJldHVybnMgdHJ1ZSBvciBmYWxzZSAtIHVzZXIgdG9rZW4gaXMgdmFsaWQgLyB1c2VyIHRva2VuIGlzIGludmFsaWRcclxuICAgICAqIEByZXR1cm5zIHtFbWJlci5SU1ZQLlByb21pc2V9XHJcbiAgICAgKi9cclxuICAgIHJlbG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5sb2FkRnJvbVNlc3Npb24oKSB8fCB7fTtcclxuICAgICAgICB2YXIgc2Vzc2lvblVzZXIgPSBzZXNzaW9uLnVzZXIgfHwgbnVsbFxyXG4gICAgICAgIHZhciBzZXNzaW9uUHJpdmF0ZUtleSA9IHNlc3Npb24ucHJpdmF0ZUtleSB8fCBudWxsO1xyXG4gICAgICAgIHZhciBzZXNzaW9uVG9rZW4gPSBzZXNzaW9uLnRva2VuIHx8IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2VzLnVzZXIoc2Vzc2lvblVzZXIsIHNlc3Npb25Ub2tlbilcclxuICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAvL3N1Y2Nlc3NcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QXV0aGVudGljYXRlZFVzZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25Qcml2YXRlS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uVG9rZW5cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAvL2ZhaWxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRBdXRoZW50aWNhdGVkVXNlcihudWxsKVxyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgbG9nb3V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZXMubG9nb3V0KClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdXRoZW50aWNhdGVkVXNlcihudWxsKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcvJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcclxuICAgICAqIGlmIG5vdCByZWRpcmVjdHMgdG8gbG9naW4gYW5kIHN0b3JlIHRyYW5zaXRpb24gdG8gYmUgcmV0cmllZCBhZnRlciBzdWNjZXNmdWxsIGxvZ2luXHJcbiAgICAgKiBAcGFyYW0ge1RyYW5zaXRpb259IHRyYW5zaXRpb25cclxuICAgICAqL1xyXG4gICAgY2hlY2tBdXRoZW50aWNhdGVkT3JMb2dpbjogZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0KCdpc0F1dGhlbnRpY2F0ZWQnKSkge1xyXG4gICAgICAgICAgICAvLyBhYm9ydCB0cmFuc2l0aW9uXHJcbiAgICAgICAgICAgICQubm90aWZ5KCdZb3UgZG8gbm90IGhhdmUgYWNjZXNzIHRvIHNlY3VyZWQgYXJlYS4gUGxlYXNlIGxvZ2luJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24uYWJvcnQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHN0b3JlIHRyYW5zaXRpb25cclxuICAgICAgICAgICAgdGhpcy5zZXQoJ3RyYW5zaXRpb24nLCB0cmFuc2l0aW9uKVxyXG5cclxuICAgICAgICAgICAgLy9yZWRpcmVjdCB0byBsb2dpblxyXG4gICAgICAgICAgICB0aGlzLmdldCgncm91dGVyJykudHJhbnNpdGlvblRvKCdBdXRoTG9naW4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0QXV0aGVudGljYXRlZFVzZXI6IGZ1bmN0aW9uICh1c2VyLCBwcml2YXRlS2V5LCB0b2tlbikge1xyXG4gICAgICAgIHZhciByZXN1bHQ7XHJcblxyXG4gICAgICAgIGlmICh1c2VyICYmIHByaXZhdGVLZXkgJiYgdG9rZW4pIHtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyh7XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcixcclxuICAgICAgICAgICAgICAgIHByaXZhdGVLZXk6IHByaXZhdGVLZXksXHJcbiAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHtcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdXNlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIHByaXZhdGVLZXk6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB0b2tlbjogbnVsbFxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNhdmVzIHRvIHNlc3Npb25cclxuICAgICAgICB0aGlzLnNhdmVUb1Nlc3Npb24oKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0sXHJcblxyXG4gICAgc2F2ZVRvU2Vzc2lvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZXQoJ2F1dGgnLCB7XHJcbiAgICAgICAgICAgIHRva2VuOiB0aGlzLmdldCgndG9rZW4nKSxcclxuICAgICAgICAgICAgZW1haWw6IHRoaXMuZ2V0KCd1c2VyLmVtYWlsJyksXHJcbiAgICAgICAgICAgIHVzZXI6IHRoaXMuZ2V0KCd1c2VyLmlkJyksXHJcbiAgICAgICAgICAgIHByaXZhdGVLZXk6IHRoaXMuZ2V0KCdwcml2YXRlS2V5JylcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgbG9hZEZyb21TZXNzaW9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXQoJ2F1dGgnKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxufSlcclxuO1xyXG4iLCJTZXJ2aWNlLkF1dGhQcm9taXNlcyA9IEVtYmVyLk9iamVjdC5leHRlbmQoe1xyXG5cclxuICAgIHRva2VuOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uZmlnXHJcbiAgICAgKi9cclxuICAgIHN0b3JlOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uZmlnXHJcbiAgICAgKi9cclxuICAgIGNvZGVyOiBudWxsLFxyXG5cclxuICAgIF9hdXRoOiBmdW5jdGlvbiAoZW1haWwsIHByaXZhdGVLZXkpIHtcclxuICAgICAgICB2YXIgY29kZXIgPSB0aGlzLmNvZGVyO1xyXG4gICAgICAgIHZhciBzaWduYXR1cmUgPSBjb2Rlci5zaWduKGVtYWlsLCBwcml2YXRlS2V5KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLlJTVlBBamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnL2FwaS9hdXRoL2F1dGgnLFxyXG4gICAgICAgICAgICB0eXBlOiAncG9zdCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogc2lnbmF0dXJlXHJcbiAgICAgICAgICAgIH19KVxyXG4gICAgfSxcclxuXHJcbiAgICBfcmV0cmlldmVVc2VyOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgICAgcmV0dXJuIEVtYmVyLlJTVlAucmVqZWN0KCdVc2VyIGlkIG5vdCBzcGVjaWZpZWQnKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3N0b3JlJykuZmluZCgnVXNlcicsIGlkKVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IHJldHJpZXZlIHVzZXIgd2l0aCBpZCB7aWR9Jy5yZXBsYWNlKCd7aWR9JywgaWQpKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBfdXNlVG9rZW46IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIEVtYmVyLiQuYWpheFNldHVwKHtcclxuICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xyXG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtVmF1bHRpZXItVG9rZW4nLCB0b2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldCgndG9rZW4nLCB0b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIEVtYmVyLlJTVlAucmVzb2x2ZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBfcmVzZXRUb2tlbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIEVtYmVyLiQuYWpheFNldHVwKHtcclxuICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xyXG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtVmF1bHRpZXItVG9rZW4nLCAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldCgndG9rZW4nLCBudWxsKVxyXG5cclxuICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5yZXNvbHZlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIF91bmF1dGg6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMuUlNWUEFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICcvYXBpL2F1dGgvbG9nb3V0JyxcclxuICAgICAgICAgICAgdHlwZTogJ3Bvc3QnXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgdXNlcjogZnVuY3Rpb24gKHVzZXIsIHRva2VuKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlVG9rZW4odG9rZW4pXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JldHJpZXZlVXNlcih1c2VyKVxyXG4gICAgfSxcclxuXHJcbiAgICBsb2dvdXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5yZXNvbHZlKClcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fdW5hdXRoKCkpXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX3Jlc2V0VG9rZW4oKSlcclxuICAgIH0sXHJcblxyXG4gICAgbG9naW46IGZ1bmN0aW9uIChlbWFpbCwgcHJpdmF0ZUtleSkge1xyXG4gICAgICAgIHZhciB1c2VyO1xyXG4gICAgICAgIHZhciB0b2tlbjtcclxuICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5yZXNvbHZlKClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0aChlbWFpbCwgcHJpdmF0ZUtleSlcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG5cclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHVzZXIgPSByZXNwb25zZS51c2VyO1xyXG4gICAgICAgICAgICAgICAgdG9rZW4gPSByZXNwb25zZS50b2tlblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZVRva2VuKHRva2VuKVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpXHJcblxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXRyaWV2ZVVzZXIodXNlcilcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgfVxyXG5cclxuXHJcbn0pXHJcbjtcclxuIiwiUG8uTlMoJ1NlcnZpY2UnKTtcclxuXHJcblNlcnZpY2UuU2Vzc2lvbiA9IEVtYmVyLkNvcmVPYmplY3QuZXh0ZW5kKHtcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXdpbmRvdy5zZXNzaW9uU3RvcmFnZSkge1xyXG4gICAgICAgICAgICB0aHJvdyAnVmF1bHRpZXIgcmVxdWlyZXMgc2Vzc2lvblN0b3JhZ2UgdG8gYmUgc3VwcG9ydGVkIGJ5IGJyb3dzZXInXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwcmVmaXg6ICd2YXVsdGllci4nLFxyXG5cclxuICAgIHNldDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBFbWJlci4kKGRvY3VtZW50KS5zZXNzaW9uU3RvcmFnZSh0aGlzLnByZWZpeCArIGtleSwgdmFsdWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXQ6IGZ1bmN0aW9uIChrZXksIGRlZikge1xyXG4gICAgICAgIHZhciB2YWwgPSBFbWJlci4kKGRvY3VtZW50KS5zZXNzaW9uU3RvcmFnZSh0aGlzLnByZWZpeCArIGtleSk7XHJcbiAgICAgICAgaWYgKCAodHlwZW9mIHZhbD09J3VuZGVmaW5lZCcgfHwgdmFsPT09bnVsbCkgJiYgdHlwZW9mIGRlZiE9J3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH0sXHJcblxyXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIEVtYmVyLiQoZG9jdW1lbnQpLnNlc3Npb25TdG9yYWdlKHRoaXMucHJlZml4ICsga2V5LCBudWxsKTtcclxuICAgIH1cclxuXHJcbn0pO1xyXG4iLCJQby5OUygnU2VydmljZScpO1xuXG5TZXJ2aWNlLlN0b3JhZ2UgPSBFbWJlci5Db3JlT2JqZWN0LmV4dGVuZCh7XG5cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICB0aHJvdyAnVmF1bHRpZXIgcmVxdWlyZXMgbG9jYWxTdG9yYWdlIHRvIGJlIHN1cHBvcnRlZCBieSBicm93c2VyJ1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHByZWZpeDogJ3ZhdWx0aWVyLicsXG5cbiAgICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlLCB0dGwpIHtcbiAgICAgICAgdmFyIHR0bCA9IHR0bCB8fCAwO1xuICAgICAgICAkLmpTdG9yYWdlLnNldCh0aGlzLnByZWZpeCArIGtleSwgdmFsdWUpO1xuICAgICAgICAkLmpTdG9yYWdlLnNldFRUTCh0aGlzLnByZWZpeCArIGtleSwgdHRsKTtcbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbiAoa2V5LCBkZWYpIHtcbiAgICAgICAgdmFyIHZhbCA9ICQualN0b3JhZ2UuZ2V0KHRoaXMucHJlZml4ICsga2V5KTtcbiAgICAgICAgaWYgKCAodHlwZW9mIHZhbD09J3VuZGVmaW5lZCcgfHwgdmFsPT09bnVsbCkgJiYgdHlwZW9mIGRlZiE9J3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiAkLmpTdG9yYWdlLmRlbGV0ZUtleSh0aGlzLnByZWZpeCArIGtleSk7XG4gICAgfVxuXG59KTtcbiIsIlBvLk5TKCdTZXJ2aWNlJyk7XHJcblxyXG5TZXJ2aWNlLkNvZGVyID0gRW1iZXIuT2JqZWN0LmV4dGVuZCh7XHJcblxyXG4gICAgVGVzdGluZ0dlbmVyYXRvcjogRW1iZXIuT2JqZWN0LmV4dGVuZCh7XHJcblxyXG4gICAgICAgIGdldFByaXZhdGVLZXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJpdmF0ZVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFB1YmxpY0tleTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wdWJsaWNcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRLZXk6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLnByaXZhdGUgPSAkKCdkaXYudmx0LXRlc3QtcHJpdmF0ZS1rZXknKS50ZXh0KCkudHJpbSgpXHJcbiAgICAgICAgICAgIHRoaXMucHVibGljID0gJCgnZGl2LnZsdC10ZXN0LXB1YmxpYy1rZXknKS50ZXh0KCkudHJpbSgpXHJcblxyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KSxcclxuXHJcbiAgICBnZW5lcmF0ZUtleXM6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLmdldCgnY29uZmlnLkZUX0ZFQVRVUkVTLmRldl9zaGFyZWRfa2V5JykpIHtcclxuICAgICAgICAgICAgLy8gZGV2ZWxvcG1lbnQgZ2VuZXJhdG9yXHJcbiAgICAgICAgICAgIHZhciBnZW5lcmF0b3IgPSB0aGlzLlRlc3RpbmdHZW5lcmF0b3IuY3JlYXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcHJvZHVjdGlvbiBnZW5lcmF0b3JcclxuICAgICAgICAgICAgdmFyIGdlbmVyYXRvciA9IG5ldyBKU0VuY3J5cHQoe2RlZmF1bHRfa2V5X3NpemU6IDIwNDh9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBidWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICB7XHJcbiAgICAgICAgICAgICAgICBwcml2YXRlS2V5OiBnZW5lcmF0b3IuZ2V0UHJpdmF0ZUtleSgpLFxyXG4gICAgICAgICAgICAgICAgcHVibGljS2V5OiBnZW5lcmF0b3IuZ2V0UHVibGljS2V5KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGdlbmVyYXRvci5nZXRLZXkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soYnVpbGQoKSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ2VuZXJhdG9yLmdldEtleSgpXHJcbiAgICAgICAgICAgIHJldHVybiBidWlsZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc2lnbjogZnVuY3Rpb24gKHZhbHVlLCBwcml2YXRlS2V5KSB7XHJcbiAgICAgICAgdmFyIHJzYSA9IG5ldyBSU0FLZXkoKTtcclxuICAgICAgICByc2EucmVhZFByaXZhdGVLZXlGcm9tUEVNU3RyaW5nKHByaXZhdGVLZXkpO1xyXG4gICAgICAgIHZhciBzaWduYXR1cmUgPSBoZXgyYjY0KHJzYS5zaWduU3RyaW5nKHZhbHVlLCAnc2hhMScpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNpZ25hdHVyZTtcclxuICAgIH0sXHJcblxyXG4gICAgZW5jcnlwdFJTQTogZnVuY3Rpb24gKHZhbHVlLCBwdWJsaWNLZXkpIHtcclxuICAgICAgICB2YXIgZGVjb2RlciA9IG5ldyBKU0VuY3J5cHQoKTtcclxuICAgICAgICBkZWNvZGVyLnNldFB1YmxpY0tleShwdWJsaWNLZXkpXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRlY29kZXIuZW5jcnlwdCh2YWx1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9LFxyXG5cclxuICAgIGVuY3J5cHRXb3Jrc3BhY2VLZXk6IGZ1bmN0aW9uKHZhbHVlLCBwdWJsaWNLZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbmNyeXB0UlNBKHZhbHVlLCBwdWJsaWNLZXkpO1xyXG4gICAgfSxcclxuXHJcbiAgICBkZWNyeXB0UlNBOiBmdW5jdGlvbiAodmFsdWUsIHByaXZhdGVLZXkpIHtcclxuICAgICAgICB2YXIgZGVjb2RlciA9IG5ldyBKU0VuY3J5cHQoKTtcclxuICAgICAgICBkZWNvZGVyLnNldFByaXZhdGVLZXkocHJpdmF0ZUtleSk7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRlY29kZXIuZGVjcnlwdCh2YWx1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9LFxyXG5cclxuICAgIGRlY3J5cHRXb3Jrc3BhY2VLZXk6IGZ1bmN0aW9uKHZhbHVlLCBwcml2YXRlS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjcnlwdFJTQSh2YWx1ZSwgcHJpdmF0ZUtleSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdlbmVyYXRlV29ya3NwYWNlS2V5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IDMyO1xyXG4gICAgICAgIHZhciB0ZXh0ID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dCArIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjU1KSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgZGVjcnlwdEFFUzogZnVuY3Rpb24gKHZhbHVlLCBwYXNzUGhyYXNlKSB7XHJcbiAgICAgICAgcmV0dXJuIENyeXB0b0pTLkFFUy5kZWNyeXB0KHZhbHVlLCBwYXNzUGhyYXNlKS50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGVuY3J5cHRBRVM6IGZ1bmN0aW9uICh2YWx1ZSwgcGFzc1BocmFzZSkge1xyXG4gICAgICAgIHJldHVybiBDcnlwdG9KUy5BRVMuZW5jcnlwdCh2YWx1ZSwgcGFzc1BocmFzZSkudG9TdHJpbmcoKVxyXG4gICAgfSxcclxuXHJcbiAgICBkZWNyeXB0V29ya3NwYWNlRGF0YTogZnVuY3Rpb24oZGF0YSwgd29ya3NwYWNlS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjcnlwdEFFUyhkYXRhLCB3b3Jrc3BhY2VLZXkpXHJcbiAgICB9LFxyXG5cclxuICAgIGVuY3J5cHRXb3Jrc3BhY2VEYXRhOiBmdW5jdGlvbihkYXRhLCB3b3Jrc3BhY2VLZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbmNyeXB0QUVTKGRhdGEsIHdvcmtzcGFjZUtleSlcclxuICAgIH1cclxuXHJcblxyXG5cclxufSk7XHJcbiIsIlBvLk5TKCdTZXJ2aWNlJyk7XHJcblxyXG5TZXJ2aWNlLkludml0YXRpb25zID0gRW1iZXIuT2JqZWN0LmV4dGVuZCh7XHJcblxyXG4gICAgU0VTU0lPTl9LRVk6ICdpbnZpdGF0aW9ucycsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAREkgc2VydmljZTpzZXNzaW9uXHJcbiAgICAgKi9cclxuICAgIHNlc3Npb246IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIEBESSBzZXJ2aWNlOmF1dGhcclxuICAgICAqL1xyXG4gICAgYXV0aDogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogQERJIHN0b3JlOm1haW5cclxuICAgICAqL1xyXG4gICAgc3RvcmU6IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIEBESSByb3V0ZXI6bWFpblxyXG4gICAgICovXHJcbiAgICByb3V0ZXI6IG51bGwsXHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX3N1cGVyKCk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBfbWVtYmVyUHJvbWlzZTogZnVuY3Rpb24gKHdvcmtzcGFjZSwgZW1haWxPcklkLCBzZW5kLCByZXNlbmQpIHtcclxuICAgICAgICB2YXIgaWQgPSBlbWFpbE9ySWQuaW5kZXhPZignQCcpIDwgMCA/IHBhcnNlSW50KGVtYWlsT3JJZCkgOiBudWxsO1xyXG5cclxuICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgICAgLy8gZG8gZ2V0IC0gcmVzZW5kIGludml0YXRpb25cclxuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLlJTVlBBamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9hcGkvbWVtYmVycy8nICsgaWQgKyAnLycsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnZ2V0J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBkbyBwb3N0IC0gaW52aXRlIC0gc2VuZCBpbnZpdGF0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiBVdGlscy5SU1ZQQWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL21lbWJlcnMvJyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2U6IFV0aWxzLkUucmVjb3JkSWQod29ya3NwYWNlKSxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxPcklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbmQ6IHNlbmQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZW5kOiByZXNlbmRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9LFxyXG5cclxuICAgIF9pbnZpdGVQcm9taXNlOiBmdW5jdGlvbiAobWVtYmVyLCByb2xlLCBwYXJhbXMpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgbWVtYmVyOiBtZW1iZXIuaWQsXHJcbiAgICAgICAgICAgIGxldmVsOiByb2xlLFxyXG4gICAgICAgICAgICB0b193b3Jrc3BhY2U6IFV0aWxzLkUucmVjb3JkSWQocGFyYW1zLnRvX3dvcmtzcGFjZSksXHJcbiAgICAgICAgICAgIHRvX3ZhdWx0OiBVdGlscy5FLnJlY29yZElkKHBhcmFtcy50b192YXVsdCksXHJcbiAgICAgICAgICAgIHRvX2NhcmQ6IFV0aWxzLkUucmVjb3JkSWQocGFyYW1zLnRvX2NhcmQpXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gIFV0aWxzLlJTVlBBamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnL2FwaS9yb2xlcy8nLFxyXG4gICAgICAgICAgICB0eXBlOiAncG9zdCcsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIGludml0ZTogZnVuY3Rpb24gKHdvcmtzcGFjZSwgZW1haWxPcklkLCByb2xlLCBwYXJhbXMsIHNlbmQsIHJlc2VuZCkge1xyXG4gICAgICAgIHNlbmQgPSBQby5GLm9wdGlvbmFsKHNlbmQsIGZhbHNlKTtcclxuICAgICAgICByZXNlbmQgPSBQby5GLm9wdGlvbmFsKHJlc2VuZCwgZmFsc2UpO1xyXG5cclxuICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5yZXNvbHZlKClcclxuICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lbWJlclByb21pc2Uod29ya3NwYWNlLCBlbWFpbE9ySWQsIHNlbmQsIHJlc2VuZCk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpXHJcblxyXG4gICAgICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChtZW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW52aXRlUHJvbWlzZShtZW1iZXIsIHJvbGUsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfSxcclxuXHJcbiAgICBfc3RvcmVJbnZpdGF0aW9uVG9TZXNzaW9uOiBmdW5jdGlvbiAoaWQsIGhhc2gsIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEVtYmVyLlJTVlAuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbnZpdGF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgICAgICAgaGFzaDogaGFzaFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy90b2RvOiB2YWxpZGF0ZSBpbnZpdGF0aW9uIGhlcmUsIG9uIGVycm9yIHJlamVjdCB3aXRoIGFwcHJvcHJpZXQgc3RhdHVzIGVycm9yXHJcblxyXG4gICAgICAgICAgICB2YXIgaW52aXRhdGlvbnMgPSB0aGlzLmdldCgnc2Vzc2lvbicpLmdldCh0aGlzLlNFU1NJT05fS0VZLCB7fSk7XHJcbiAgICAgICAgICAgIGludml0YXRpb25zW2lkXSA9IGludml0YXRpb247XHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zZXQodGhpcy5TRVNTSU9OX0tFWSwgaW52aXRhdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgcmVzb2x2ZShpbnZpdGF0aW9uKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfSxcclxuXHJcbiAgICBoYXNJbnZpdGF0aW9uc0luU2Vzc2lvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbnZpdGF0aW9ucyA9IHRoaXMuc2Vzc2lvbi5nZXQodGhpcy5TRVNTSU9OX0tFWSwgbnVsbCk7XHJcbiAgICAgICAgcmV0dXJuIGludml0YXRpb25zICE9PSBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICBhY2NlcHRJbnZpdGF0aW9uc0luU2Vzc2lvbjogZnVuY3Rpb24gKGludml0YXRpb25zKSB7XHJcbiAgICAgICAgaWYgKGludml0YXRpb25zKSB7XHJcbiAgICAgICAgICAgIGludml0YXRpb25zID0gRW1iZXIuUlNWUC5yZXNvbHZlKGludml0YXRpb25zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnZpdGF0aW9ucyA9IHRoaXMuZmV0Y2hJbnZpdGF0aW9uc0luU2Vzc2lvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHByb21pc2UgPSBpbnZpdGF0aW9uc1xyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoaW52aXRhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaW52aXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaW52aXRhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGludml0YXRpb24uc2V0KCdzdGF0dXMnLCAyMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goaW52aXRhdGlvbi5zYXZlUmVjb3JkKCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5hbGwocHJvbWlzZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgIH0sXHJcblxyXG4gICAgY2xlYXJJbnZpdGF0aW9uc0luU2Vzc2lvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZXQodGhpcy5TRVNTSU9OX0tFWSwgbnVsbCk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBfdmFsaWRhdGVJbnZpdGF0aW9uOiBmdW5jdGlvbiAoaWQsIGhhc2gpIHtcclxuICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5yZXNvbHZlKCk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZldGNoZXMgYWxsIGludml0YXRpb25zIHN0b3JlZCBpbiBzZXNzaW9uIGZyb20gc2VydmVyXHJcbiAgICAgKi9cclxuICAgIGZldGNoSW52aXRhdGlvbnNJblNlc3Npb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaW52aXRhdGlvbnMgPSB0aGlzLnNlc3Npb24uZ2V0KHRoaXMuU0VTU0lPTl9LRVksIHt9KTtcclxuICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLmdldCgnc3RvcmUnKTtcclxuXHJcbiAgICAgICAgZm9yIChpIGluIGludml0YXRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnZpdGF0aW9ucy5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChzdG9yZS5maW5kKCdJbnZpdGF0aW9uJywgaW52aXRhdGlvbnNbaV0uaGFzaCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5hbGwocHJvbWlzZXMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAgIEZ1bmN0aW9uIGVuY2Fwc3VsYXRlcyB1c2luZyBvZiB1cmwgaW52aXRhdGlvblxyXG4gICAgICpcclxuICAgICAqICAgdHJhbnNpdGlvbiBoYXMgdG8gYmUgYWJvcnRlZCBiZWZvcmUgdXNlXHJcbiAgICAgKlxyXG4gICAgICogICBXb3JrZmxvdyBwcm92aWRlZFxyXG4gICAgICpcclxuICAgICAqICAgLSBzdG9yZSBpbnZpdGF0aW9uIHRvIHNlc3Npb25cclxuICAgICAqICAgLSBpZiBhdXRoZW50aWNhdGVkIHJlZGlyZWN0cyB0byBsaXN0IG9mIGludml0YXRpb25zIHRvIGFjY2VwdFxyXG4gICAgICogICAtIGlmIG5vdCBhdXRoZW50aWNhdGVkLCByZWRpcmVjdHMgdG8gcGFnZSwgd2hlcmUgdXNlciBpcyByZXF1aXJlZCB0byBsb2dpbiBiZWZvcmUgdXNlIG9mIGludml0YXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaWRcclxuICAgICAqIEBwYXJhbSBoYXNoXHJcbiAgICAgKiBAcmV0dXJucyB7RW1iZXIuUlNWUC5Qcm9taXNlfVxyXG4gICAgICovXHJcbiAgICB1c2VJbnZpdGF0aW9uOiBmdW5jdGlvbiAoaWQsIGhhc2gpIHtcclxuICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5yZXNvbHZlKClcclxuXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWxpZGF0ZUludml0YXRpb24oaWQsIGhhc2gpO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpXHJcblxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmVJbnZpdGF0aW9uVG9TZXNzaW9uKGlkLCBoYXNoKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG5cclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCdhdXRoJykuZ2V0KCdpc0F1dGhlbnRpY2F0ZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgncm91dGVyJykudHJhbnNpdGlvblRvKCdJbnZpdGF0aW9uLmFjY2VwdCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3JvdXRlcicpLnRyYW5zaXRpb25UbygnSW52aXRhdGlvbi5hbm9ueW1vdXMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxufSk7XHJcbiIsIlZhdWx0aWVyLldvcmtzcGFjZUtleSA9IFJMLk1vZGVsLmV4dGVuZChcbiAgICB7XG4gICAgICAgIHB1YmxpY19rZXk6IFJMLmF0dHIoJ3N0cmluZycpLFxuICAgICAgICB3b3Jrc3BhY2Vfa2V5OiBSTC5hdHRyKCdsb25ncycpLFxuICAgICAgICBzdGF0dXM6IFJMLmF0dHIoJ3N0cmluZycpLFxuICAgICAgICB3b3Jrc3BhY2U6IFJMLmF0dHIoJ29iamVjdCcpLFxuICAgICAgICB1c2VyOiBSTC5hdHRyKCdvYmplY3QnKVxuICAgIH0pO1xuXG4iLCJQby5OUygnU2VydmljZScpO1xuXG5TZXJ2aWNlLktleVRyYW5zZmVyID0gRW1iZXIuT2JqZWN0LmV4dGVuZCh7XG5cblxuICAgIC8qKlxuICAgICAqIEBESSBTZXJ2aWNlLkNvZGVyXG4gICAgICovXG4gICAgY29kZXI6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAREkgc2VydmljZTphdXRoXG4gICAgICovXG4gICAgYXV0aDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBESSBzdG9yZTptYWluXG4gICAgICovXG4gICAgc3RvcmU6IG51bGwsXG5cbiAgICBpbnRlcnZhbDogNjAwMDAsXG5cbiAgICBfcmVnaXN0ZXJlZFF1ZXJ5OiBudWxsLFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKCk7XG4gICAgfSxcblxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyKCk7XG4gICAgICAgIHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSxcblxuICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWdpc3RlcmVkUXVlcnkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdBbHJlYWR5IHJlZ2lzdGVyZWQnKVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5fcXVlcnkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJlZFF1ZXJ5ID0gc2V0SW50ZXJ2YWwocXVlcnksIHRoaXMuaW50ZXJ2YWwpXG4gICAgICAgIHF1ZXJ5KCk7XG4gICAgfSxcblxuICAgIHVucmVnaXN0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9yZWdpc3RlcmVkUXVlcnkpXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWRRdWVyeSA9IG51bGxcbiAgICB9LFxuXG4gICAgX3F1ZXJ5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldCgnYXV0aC5pc0F1dGhlbnRpY2F0ZWQnKSkge1xuICAgICAgICAgICAgdGhpcy5nZXQoJ3N0b3JlJylcbiAgICAgICAgICAgICAgICAuZmluZCgnV29ya3NwYWNlS2V5JylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobWVtYmVycykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXVxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKG1lbWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gb25seSBmb3IgZm9yZWlnbiBtZW1iZXJzaGlwc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlci5nZXQoJ3VzZXInKSAhPSB0aGlzLmdldCgnYXV0aC51c2VyLmlkJykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBlYWNoIG1lbWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3b3Jrc3BhY2VJZCA9IG1lbWJlci5nZXQoJ3dvcmtzcGFjZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3Jrc3BhY2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldCgnc3RvcmUnKS5maW5kKCdXb3Jrc3BhY2UnLCB3b3Jrc3BhY2VJZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh3b3Jrc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jcnlwdGVkS2V5ID0gd29ya3NwYWNlLmdldCgnbWVtYmVyc2hpcC53b3Jrc3BhY2Vfa2V5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNyeXB0ZWRLZXkgPSB0aGlzLmRlY3J5cHRXb3Jrc3BhY2VLZXkoZW5jcnlwdGVkS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLnRyYW5zZmVyS2V5VG9NZW1iZXIobWVtYmVyLCBkZWNyeXB0ZWRLZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdLZXl0cmFuc2ZlciBmYWlsZWQgZm9yIG1lbWJlciB7aWR9Jy5yZXBsYWNlKCd7aWR9JywgbWVtYmVyLmdldCgnaWQnKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignbWlzc2luZyB3b3Jrc3BhY2UgaWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZW5lcmF0ZVdvcmtzcGFjZUtleTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2NvZGVyJykuZ2VuZXJhdGVXb3Jrc3BhY2VLZXkoKTtcbiAgICB9LFxuXG4gICAgZGVjcnlwdFdvcmtzcGFjZUtleTogZnVuY3Rpb24gKGVuY3J5cHRlZEtleSkge1xuICAgICAgICB2YXIga2V5ID0gZW5jcnlwdGVkS2V5O1xuXG4gICAgICAgIHZhciBjb2RlciA9IHRoaXMuZ2V0KCdjb2RlcicpO1xuICAgICAgICB2YXIgcHJpdmF0ZUtleSA9IHRoaXMuZ2V0KCdhdXRoLnByaXZhdGVLZXknKTtcbiAgICAgICAga2V5ID0gY29kZXIuZGVjcnlwdFdvcmtzcGFjZUtleShrZXksIHByaXZhdGVLZXkpO1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGVjcnlwdCB3b3Jrc3BhY2Uga2V5JylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5XG4gICAgfSxcblxuXG4gICAgdHJhbnNmZXJLZXlUb01lbWJlcjogZnVuY3Rpb24gKG1lbWJlciwgZGVjcnlwdGVkS2V5KSB7XG4gICAgICAgIHZhciBpZCA9IFV0aWxzLkUucmVjb3JkSWQobWVtYmVyKTtcbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5nZXQoJ3N0b3JlJyk7XG4gICAgICAgIHZhciBjb2RlciA9IHRoaXMuZ2V0KCdjb2RlcicpO1xuICAgICAgICB2YXIgcHJvbWlzZSA9XG4gICAgICAgICAgICBzdG9yZS5maW5kKCdXb3Jrc3BhY2VLZXknLCBpZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobWVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwdWJsaWNLZXkgPSBtZW1iZXIuZ2V0KCdwdWJsaWNfa2V5JylcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdrID0gY29kZXIuZW5jcnlwdFdvcmtzcGFjZUtleShkZWNyeXB0ZWRLZXksIHB1YmxpY0tleSk7XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlci5zZXQoJ3dvcmtzcGFjZV9rZXknLCB3aylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbWJlci5zYXZlUmVjb3JkKClcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBwcm9taXNlXG4gICAgfVxuXG59KTtcblxuIiwiUG8uTlMoJ1NlcnZpY2UnKTtcblxuU2VydmljZS5DaGFuZ2VLZXkgPSBFbWJlci5PYmplY3QuZXh0ZW5kKHtcblxuICAgIC8qKlxuICAgICAqIEBESSBzZXJ2aWNlOmF1dGhcbiAgICAgKi9cbiAgICBhdXRoOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQERJIHN0b3JlOm1haW5cbiAgICAgKi9cbiAgICBzdG9yZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBESSBzZXJ2aWNlOmNvZGVyXG4gICAgICovXG5cbiAgICBjb2RlcjogbnVsbCxcblxuICAgIGdlbmVyYXRlS2V5czogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnYXV0aCcpLmdlbmVyYXRlS2V5cyhjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIGNoYW5nZUtleTogZnVuY3Rpb24gKGluY29taW5nUFBLKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLmdldCgnYXV0aC5pc0F1dGhlbnRpY2F0ZWQnKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ09ubHkgYXV0aGVudGljYXRlZCB1c2VyIGNhbiBjaGFuZ2UgaGlzIHByaXZhdGVrZXknKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFByaXZhdGVLZXkgPSB0aGlzLmdldCgnYXV0aC5wcml2YXRlS2V5Jyk7XG4gICAgICAgIHZhciBpbmNvbWluZ1ByaXZhdGVLZXkgPSBpbmNvbWluZ1BQSy5wcml2YXRlS2V5O1xuICAgICAgICB2YXIgaW5jb21pbmdQdWJsaWNLZXkgPSBpbmNvbWluZ1BQSy5wdWJsaWNLZXk7XG4gICAgICAgIHZhciBjdXJyZW50VXNlciA9IHRoaXMuZ2V0KCdhdXRoLnVzZXInKTtcbiAgICAgICAgdmFyIGNvZGVyID0gdGhpcy5nZXQoJ2NvZGVyJyk7XG5cbiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLmdldCgnc3RvcmUnKVxuICAgICAgICAgICAgLmZpbmQoJ1VzZXJLZXknLCBjdXJyZW50VXNlci5nZXQoJ2lkJykpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgICAgIC8vIHNldCB1c2VyIGRpcnR5LCBmb3JjZSB1cGRhdGVcbiAgICAgICAgICAgICAgICB1c2VyLnNldCgnaXNEaXJ0eScsIHRydWUpXG5cbiAgICAgICAgICAgICAgICAvLyBzZXQgcHVibGljIGtleSBmb3IgdXNlclxuICAgICAgICAgICAgICAgIHVzZXIuc2V0KCdwdWJsaWNfa2V5JywgaW5jb21pbmdQdWJsaWNLZXkpXG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYWxsIHdvcmtzcGFjZSBrZXlzXG4gICAgICAgICAgICAgICAgdXNlci5nZXQoJ21lbWJlcnNoaXAnKS5mb3JFYWNoKGZ1bmN0aW9uIChtZW1iZXIpIHtcblxuICAgICAgICAgICAgICAgICAgICAvL2RlY29kZSBjdXJyZW50IHdvcmtzcGFjZSBrZXlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmtzcGFjZUtleSA9IGNvZGVyLmRlY3J5cHRXb3Jrc3BhY2VLZXkoXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXIud29ya3NwYWNlX2tleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcml2YXRlS2V5XG4gICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICAvLyBlbmNvZGUgbmV3IHdvcmtzcGFjZSBrZXlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluY29taW5nV29ya3NwYWNlS2V5ID0gY29kZXIuZW5jcnlwdFdvcmtzcGFjZUtleShcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZUtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29taW5nUHVibGljS2V5XG4gICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICBtZW1iZXIud29ya3NwYWNlX2tleSA9IGluY29taW5nV29ya3NwYWNlS2V5XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZXMgbmV3IGtleXNcbiAgICAgICAgICAgICAgICAgICAgLnNhdmVSZWNvcmQoKVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gcmVsb2dpbiB3aXRoIG5ldyBjcmVkZW50aWFsc1xuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2F1dGgnKS5sb2dpbihjdXJyZW50VXNlci5nZXQoJ2VtYWlsJyksIGluY29taW5nUHJpdmF0ZUtleSlcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxuXG5cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG5cbn0pO1xuIiwiUG8uTlMoJ1NlcnZpY2UnKTtcblxuLyoqXG4gKiBTZXJ2aWNlIGlzIHJlc3BvbnNpYmxlIG9mIG5ldyB1c2VyIGVudmlyb25tZW50IGluaXRpYWxpemF0aW9uXG4gKiBlLmcuIHdoZW4gdXNlciByZWdpc3RlcnMgYW5kIGhhcyAgbm8gaW52aXRhdGlvbiBuZXcgd29ya3NwYWNlIGFuZCBkZWZhdWx0IHZhdWx0IGlzIGNyZWF0ZWRcbiAqXG4gKi9cblNlcnZpY2UuTmV3VXNlckluaXQgPSBFbWJlci5PYmplY3QuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBAREkgc2VydmljZTphdXRoXG4gICAgICovXG4gICAgYXV0aDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBESSBzZXJ2aWNlOmludml0YXRpb25zXG4gICAgICovXG4gICAgaW52aXRhdGlvbnM6IG51bGwsXG5cblxuICAgIC8qKlxuICAgICAqIEBESSBzZXJ2aWNlOnJvdXRlclxuICAgICAqL1xuICAgIHJvdXRlcjogbnVsbCxcblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyByb3V0ZSB0cmFuc2l0aW9uIGZ1bmN0aW9uIGFmdGVyIGluaXRpYWxpemF0aW9uXG4gICAgICogQHBhcmFtIHtWYXVsdGllci5WYXVsdH12YXVsdFxuICAgICAqIEBwYXJhbSB7VmF1bHRpZXIuV29ya3NwYWNlfXdvcmtzcGFjZVxuICAgICAqL1xuICAgIGNyZWF0ZVRyYW5zaXRpb25GdW5jdGlvbjogZnVuY3Rpb24gKHdvcmtzcGFjZSwgdmF1bHQpIHtcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuZ2V0KCdyb3V0ZXInKTtcbiAgICAgICAgaWYgKCF2YXVsdCB8fCAhd29ya3NwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJvdXRlci50cmFuc2l0aW9uVG8oJ2luZGV4JylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcm91dGVyLnRyYW5zaXRpb25UbygnVmF1bHQuaW5kZXgnLCB3b3Jrc3BhY2UsIHZhdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIGlmIGNvbmRpdGlvbiBtZXQgZnVuY3Rpb24gY3JlYXRlcyB3b3Jrc3BhY2UgYW5kIHZhdWx0IGZvciBuZXcgdXNlclxuICAgICAqXG4gICAgICogcmV0dXJucyBzdWNjZXNzIHByb21pc2Ugd2l0aCBkZXNpcmVkIHRyYW5zaXRpb24gZnVuY3Rpb24sXG4gICAgICogd2hpY2ggZXhlY3V0ZWQgdHJhbnNpdGlvbiByb3V0ZXIgdG8gcGFnZSBkZXNpcmVkIGJ5IGluaXRpYWxpemF0aW9uXG4gICAgICpcbiAgICAgKiByZXNvbHZlKHtcbiAgICAgKiAgICAgICAgICB0cmFuc2l0aW9uQWZ0ZXJSZWdpc3RlcjogZnVuY3Rpb24sXG4gICAgICogICAgICAgICAgY3JlYXRlZFdvcmtzcGFjZTogVmF1bHRpZXIuV29ya3NwYWNlXG4gICAgICogICAgICAgICAgY3JlYXRlZFZhdWx0OiBWYXVsdGllci5WYXVsdFxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbWJlci5SU1ZQLlByb21pc2V9XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZVVzZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGF1dGggPSB0aGlzLmdldCgnYXV0aCcpO1xuICAgICAgICB2YXIgaW52aXRhdGlvbnMgPSB0aGlzLmdldCgnaW52aXRhdGlvbnMnKVxuXG4gICAgICAgIGlmICghYXV0aC5nZXQoJ2lzQXV0aGVudGljYXRlZCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW4gY2FzZSB0aGVyZSBhcmUgaW52aXRhdGlvbnMgaW4gc2Vzc2lvbiBkbyBub3RoaW5nXG4gICAgICAgIGlmIChpbnZpdGF0aW9ucy5oYXNJbnZpdGF0aW9uc0luU2Vzc2lvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gRW1iZXIuUlNWUC5yZXNvbHZlKHRoaXMuY3JlYXRlVHJhbnNpdGlvbkZ1bmN0aW9uKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHJlcGFyZSB2YXJpYWJsZXMgYW5kIGNvcHl3cml0aW5nXG4gICAgICAgIHZhciBoZWxwZXJzID0gVXRpbHMuSGFuZGxlYmFyc0hlbHBlcnMuY3JlYXRlKCk7XG4gICAgICAgIHZhciBuaWNrbmFtZSA9IGhlbHBlcnMudWNmaXJzdChhdXRoLmdldCgndXNlci5uaWNrbmFtZScpKTtcbiAgICAgICAgdmFyIHdvcmtzcGFjZU5hbWUgPSAne25pY2tuYW1lfVxcJ3Mgd29ya3NwYWNlJztcbiAgICAgICAgdmFyIHdvcmtzcGFjZURlc2NyaXB0aW9uID0gJ3tuaWNrbmFtZX1cXCdzIGRlZmF1bHQgd29ya3NwYWNlIHRvIHN0b3JlIHZhdWx0cywgY2FyZHMgYW5kIHNlY3JldHMnO1xuICAgICAgICB2YXIgdmF1bHROYW1lID0gJ0RlZmF1bHQgdmF1bHQnO1xuICAgICAgICB2YXIgdmF1bHREZXNjcmlwdGlvbiA9ICd7bmlja25hbWV9XFwncyBkZWZhdWx0IHZhdWx0IHRvIHN0b3JlIGNhcmRzIGFuZCBzZWNyZXRzJztcblxuICAgICAgICAvLyBwcmVwYXJlIG9iamVjdHMgdG8gc2F2ZVxuICAgICAgICB2YXIgdyA9IG5ldyBWYXVsdGllci5Xb3Jrc3BhY2UoKVxuICAgICAgICB3LnNldFByb3BlcnRpZXMoe1xuICAgICAgICAgICAgbmFtZTogd29ya3NwYWNlTmFtZS5yZXBsYWNlKCd7bmlja25hbWV9Jywgbmlja25hbWUpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHdvcmtzcGFjZURlc2NyaXB0aW9uLnJlcGxhY2UoJ3tuaWNrbmFtZX0nLCBuaWNrbmFtZSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHYgPSBuZXcgVmF1bHRpZXIuVmF1bHQoKTtcbiAgICAgICAgdi5zZXRQcm9wZXJ0aWVzKHtcbiAgICAgICAgICAgIG5hbWU6IHZhdWx0TmFtZS5yZXBsYWNlKCd7bmlja25hbWV9Jywgbmlja25hbWUpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHZhdWx0RGVzY3JpcHRpb24ucmVwbGFjZSgne25pY2tuYW1lfScsIG5pY2tuYW1lKVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIHNhdmVzIHRoZSBvYmplY3RcbiAgICAgICAgdmFyIHByb21pc2UgPSBFbWJlci5SU1ZQLnJlc29sdmUoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3LnNhdmVSZWNvcmQoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2LnNldCgnd29ya3NwYWNlJywgdy5nZXQoJ2lkJykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHYuc2F2ZVJlY29yZCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVtYmVyLlJTVlAuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25BZnRlclJlZ2lzdGVyOiB0aGlzLmNyZWF0ZVRyYW5zaXRpb25GdW5jdGlvbih3LHYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBTdG9yZXMgZGVmYXVsdCB3b3Jrc3BhY2UgaWYgY3JlYXRlZCBieSBuZXd1c2VyaW5pdHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFdvcmtzcGFjZTogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogU3RvcmVzIGRlZmF1bHQgdmF1bHQgaWYgY3JlYXRlZCBieSBuZXd1c2VyaW5pdHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhdWx0OiB2XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcblxuICAgICAgICByZXR1cm4gcHJvbWlzZVxuICAgIH1cblxufSlcbjtcbiIsIi8qKlxuICogSGFuZGxlcyBjcmVhdGVkX2F0IHVwZGF0ZWRfYXQgYW5kIGRhdGVmb3JtYXRzXG4gKi9cblZhdWx0aWVyLkNyZWF0ZWRVcGRhdGVkTWl4aW4gPSBFbWJlci5NaXhpbi5jcmVhdGUoe1xuICAgIGNyZWF0ZWRfYXQ6IFJMLmF0dHIoJ2RhdGUnLCB7IHJlYWRPbmx5OiB0cnVlIH0pLFxuICAgIHVwZGF0ZWRfYXQ6IFJMLmF0dHIoJ2RhdGUnLCB7IHJlYWRPbmx5OiB0cnVlIH0pLFxuICAgIGNyZWF0ZWRfYnk6IFJMLmF0dHIoJ29iamVjdCcseyByZWFkT25seTogdHJ1ZSB9KSxcblxuICAgIHVwZGF0ZWRfYWdvOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB1ID0gdGhpcy5nZXQoJ3VwZGF0ZWRfYXQnKTtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ID0gbW9tZW50KHUpLmZyb21Ob3coKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH0ucHJvcGVydHkoJ3VwZGF0ZWRfYXQnKSxcblxuICAgIGNyZWF0ZWRfYWdvOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB1ID0gdGhpcy5nZXQoJ2NyZWF0ZWRfYXQnKTtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ID0gbW9tZW50KHUpLmZyb21Ob3coKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH0ucHJvcGVydHkoJ2NyZWF0ZWRfYXQnKVxufSk7XG5cblxuIiwiVmF1bHRpZXIuTXV0YWJsZU1vZGVsID0gVmF1bHRpZXIuTXV0YWJsZU1vZGVsIHx8IHt9XG5cblZhdWx0aWVyLk11dGFibGVNb2RlbC5NaXhpbiA9IEVtYmVyLk1peGluLmNyZWF0ZSh7XG5cbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgdmFyIHR5cGVGaWVsZCA9IHRoaXMuZ2V0KCdtdXRhYmxlTW9kZWxUeXBlRmllbGQnKTtcbiAgICAgICAgaWYgKCF0eXBlRmllbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbXV0YWJsZU1vZGVsVHlwZUZpZWxkIG11c3QgYmUgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWFwcGluZyA9IHRoaXMuZ2V0KCdtdXRhYmxlTW9kZWxNYXBwaW5nJyk7XG4gICAgICAgIGlmICghbWFwcGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtdXRhYmxlTW9kZWxNYXBwaW5nIGhhcyB0byBiZSBzcGVjaWZpZWQgJylcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkT2JzZXJ2ZXIodHlwZUZpZWxkLCB0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5TXV0YWJsZU1peGluKHRoaXMuZ2V0TXV0YWJsZVR5cGUoKSk7XG4gICAgICAgIH0pXG5cbiAgICB9LFxuXG4gICAgZ2V0TXV0YWJsZVR5cGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHR5cGVGaWVsZCA9IHRoaXMuZ2V0KCdtdXRhYmxlTW9kZWxUeXBlRmllbGQnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHR5cGVGaWVsZCk7XG4gICAgfSxcblxuICAgIGdldE11dGFibGVDbGFzczogZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSB0aGlzLmdldCgnbXV0YWJsZU1vZGVsTWFwcGluZycpO1xuICAgICAgICB2YXIgY2xzID0gbWFwcGluZ1t0eXBlXTtcbiAgICAgICAgaWYgKCFjbHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXV0YXRpb24gbWl4aW4gY2xhc3Mgbm90IGZvdW5kIGZvciB0eXBlIHt0eXBlfScucmVwbGFjZSgne3R5cGV9JywgdHlwZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbHM7XG4gICAgfSxcblxuICAgIGFwcGx5TXV0YWJsZU1peGluOiBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICB2YXIgY2xzTmFtZSA9IHRoaXMuZ2V0TXV0YWJsZUNsYXNzKHR5cGUpO1xuICAgICAgICB2YXIgY2xzID0gRW1iZXIuZ2V0KGNsc05hbWUpO1xuICAgICAgICBpZiAoIWNscylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGluc3RhbnRpYXRlIHNlY3JldCBjbGFzcyBtaXhpbiB7bWl4aW59IGZvciB0eXBlIHt0eXBlfSdcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgne3R5cGV9JywgdHlwZSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgne21peGlufScsIGNsc05hbWUpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHZhciBhcHBsaWVkID0gY2xzLmRldGVjdCh0aGlzKVxuICAgICAgICBpZiAoYXBwbGllZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXBwbHkgbWl4aW4ge21peGlufSwgYWxyZWFkeSBhcHBsaWVkIHthcHBsaWVkfSdcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgne21peGlufScsIGNsc05hbWUpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3thcHBsaWVkfScsIGFwcGxpZWRNaXhpbilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGNscy5hcHBseSh0aGlzKTtcbiAgICAgICAgY2xzLm1peGlucy5mb3JFYWNoKGZ1bmN0aW9uIChtaXhpbikge1xuICAgICAgICAgICAgaWYgKG1peGluLnByb3BlcnRpZXMuaW5pdCkge1xuICAgICAgICAgICAgICAgIG1peGluLnByb3BlcnRpZXMuaW5pdC5hcHBseSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5zZXQoJ211dGFibGVNaXhpbkFwcGxpZWQnLCBjbHNOYW1lKTtcblxuICAgIH1cblxufSlcbiIsIlZhdWx0aWVyLkVuY3J5cHRlZE1vZGVsID0gVmF1bHRpZXIuRW5jcnlwdGVkTW9kZWwgfHwge307XG5cbnZhciBnZXRFbmNyeXB0ZWREYXRhS2V5ID0gZnVuY3Rpb24gKGVuY3J5cHRlZEZpZWxkKSB7XG4gICAgcmV0dXJuICdfZGVjcnlwdGVkLWRhdGEtJyArIGVuY3J5cHRlZEZpZWxkO1xufVxuXG5WYXVsdGllci5FbmNyeXB0ZWRNb2RlbC5NaXhpbiA9IEVtYmVyLk1peGluLmNyZWF0ZSh7XG5cbiAgICBFbmNyeXB0ZWRNb2RlbE1peGVkSW46IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBAREkgc2VydmljZTp3b3Jrc3BhY2VrZXlcbiAgICAgKi9cbiAgICB3b3Jrc3BhY2VrZXk6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZW4gY29uc3RydWN0b3JcbiAgICAgKiBSZXRyaWV2ZXMgZGVwZW5kZW5jaWVzIGZyb20gY29udGFpbmVyXG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndvcmtzcGFjZWtleSA9IFZhdWx0aWVyLl9fY29udGFpbmVyX18ubG9va3VwKCdzZXJ2aWNlOndvcmtzcGFjZWtleScpO1xuICAgICAgICB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgIGlmICh0aGlzLmdldCgnaXNOZXcnKSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoJ2RlY3J5cHRlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICBtYXAgb2YgYWxsIGRlY3J5cHRlZCBmaWVsZHNcbiAgICAgQHByb3BlcnR5IGZpZWxkc1xuICAgICBAdHlwZSBFbWJlci5NYXBcbiAgICAgKi9cbiAgICBkZWNyeXB0ZWRGaWVsZHM6IEVtYmVyLmNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IEVtYmVyLk1hcC5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5lYWNoQ29tcHV0ZWRQcm9wZXJ0eShmdW5jdGlvbiAobmFtZSwgbWV0YSkge1xuICAgICAgICAgICAgaWYgKG1ldGEuaXNEZWNyeXB0ZWRGaWVsZCkge1xuICAgICAgICAgICAgICAgIG1hcC5zZXQobmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH0pLFxuXG4gICAgLyoqXG4gICAgICogbWFwIG9mIGFsbCBlbmNyeXB0ZWQgZmllbGRzXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIG9ubHkgc29sdXRpb24gaG93IHRvIHJldHJpZXZlIHByb3BlcnRpZXMgaW4gcnVudGltZSAoaW5jbHVkaW5nIG1peGVkIGluIGNvbXB1dGVkIHByb3BlcnRpZXMgb3ZlciBtaXhpbi5hcHBseSBtZXRob2QpXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZmllbGRzXG4gICAgICogQHR5cGUgRW1iZXIuTWFwXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIGVuY3J5cHRlZEZpZWxkczogRW1iZXIuY29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJvcHMgPSBFbWJlci5tZXRhKHRoaXMsIGZhbHNlKS5kZXNjcztcbiAgICAgICAgdmFyIG1hcCA9IEVtYmVyLk1hcC5jcmVhdGUoKTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBwcm9wcykge1xuICAgICAgICAgICAgdmFyIHAgPSBwcm9wc1trXTtcbiAgICAgICAgICAgIGlmIChwIGluc3RhbmNlb2YgRW1iZXIuQ29tcHV0ZWRQcm9wZXJ0eSAmJiBwLl9tZXRhICYmIHAuX21ldGEuaXNEZWNyeXB0ZWRGaWVsZCkge1xuICAgICAgICAgICAgICAgIG1hcC5zZXQocC5fbWV0YS5lbmNyeXB0ZWRGaWVsZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9KSxcblxuXG4gICAgLyoqXG4gICAgIG1hcCBvZiBhbGwgZGlydHkgZW5jcnlwdGVkIGZpZWxkc1xuICAgICBAcHJvcGVydHkgZmllbGRzXG4gICAgIEB0eXBlIEVtYmVyLk1hcFxuICAgICAqL1xuICAgIGdldERpcnR5RW5jcnlwdGVkRmllbGRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSBFbWJlci5NYXAuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuZ2V0KCdlbmNyeXB0ZWRGaWVsZHMnKS5mb3JFYWNoKGZ1bmN0aW9uIChlbmNyeXB0ZWRGaWVsZCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldERlY3J5cHRlZERhdGEoZW5jcnlwdGVkRmllbGQpO1xuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5pc0RpcnR5KSB7XG4gICAgICAgICAgICAgICAgbWFwLnNldChlbmNyeXB0ZWRGaWVsZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfSxcblxuICAgIGFyZURlY3J5cHRlZERhdGFEaXJ0eTogZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgdmFyIGRhdGFLZXlzID0gRW1iZXIua2V5cyhkZWNyeXB0ZWREYXRhWydkYXRhJ10pO1xuICAgICAgICB2YXIgY2xlYW5EYXRhS2V5cyA9IEVtYmVyLmtleXMoZGVjcnlwdGVkRGF0YVsnY2xlYW5EYXRhJ10pO1xuICAgICAgICBpZiAoZGF0YUtleXMubGVuZ3RoICE9PSBjbGVhbkRhdGFLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGRhdGFLZXlzW2ldO1xuICAgICAgICAgICAgaWYgKEVtYmVyLmdldChkZWNyeXB0ZWREYXRhLCAnZGF0YS4nICsga2V5KSAhPSBFbWJlci5nZXQoZGVjcnlwdGVkRGF0YSwgJ2NsZWFuRGF0YS4nICsga2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgc2V0RGVjcnlwdGVkRGF0YTogZnVuY3Rpb24gKGVuY3J5cHRlZEZpZWxkLCBkYXRhLCBpbml0aWFsKSB7XG4gICAgICAgIHZhciBrZXkgPSBnZXRFbmNyeXB0ZWREYXRhS2V5KGVuY3J5cHRlZEZpZWxkKTtcbiAgICAgICAgdmFyIGRhdGEgPSBkYXRhIHx8IHt9O1xuXG4gICAgICAgIHZhciBkZWNyeXB0ZWREYXRhID0ge1xuICAgICAgICAgICAgY2xlYW5EYXRhOiBkYXRhLmNsZWFuRGF0YSB8fCB7fSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBpc0RpcnR5OiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5pdGlhbCkge1xuICAgICAgICAgICAgZGVjcnlwdGVkRGF0YS5jbGVhbkRhdGEgPSBFbWJlci5tZXJnZSh7fSwgZGF0YSlcbiAgICAgICAgICAgIGRlY3J5cHRlZERhdGEuaXNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVjcnlwdGVkRGF0YVsnaXNEaXJ0eSddID0gdGhpcy5hcmVEZWNyeXB0ZWREYXRhRGlydHkoZGVjcnlwdGVkRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldChrZXksIGRlY3J5cHRlZERhdGEpO1xuICAgIH0sXG5cbiAgICBjbGVhckRlY3J5cHRlZERhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nZXQoJ2VuY3J5cHRlZEZpZWxkcycpLmZvckVhY2goZnVuY3Rpb24gKGVuY3J5cHRlZEZpZWxkKSB7XG4gICAgICAgICAgICB0aGlzLnNldERlY3J5cHRlZERhdGEoZW5jcnlwdGVkRmllbGQpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICBnZXREZWNyeXB0ZWREYXRhOiBmdW5jdGlvbiAoZW5jcnlwdGVkRmllbGQpIHtcbiAgICAgICAgdmFyIGtleSA9IGdldEVuY3J5cHRlZERhdGFLZXkoZW5jcnlwdGVkRmllbGQpO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0KGtleSk7XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXREZWNyeXB0ZWREYXRhKGVuY3J5cHRlZEZpZWxkKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRlY3J5cHRGaWVsZDogZnVuY3Rpb24gKGVuY3J5cHRlZEZpZWxkKSB7XG4gICAgICAgIHZhciBlbmNyeXB0ZWREYXRhID0gdGhpcy5nZXQoZW5jcnlwdGVkRmllbGQpO1xuICAgICAgICB2YXIgZGF0YTtcblxuICAgICAgICBpZiAoZW5jcnlwdGVkRGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMud29ya3NwYWNla2V5LmRlY3J5cHRXb3Jrc3BhY2VEYXRhKGVuY3J5cHRlZERhdGEpIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGF0YSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXREZWNyeXB0ZWREYXRhKGVuY3J5cHRlZEZpZWxkLCBkYXRhLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgZGVjcnlwdEZpZWxkczogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdldCgnZW5jcnlwdGVkRmllbGRzJykuZm9yRWFjaChmdW5jdGlvbiAoZW5jcnlwdGVkRmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVjcnlwdEZpZWxkKGVuY3J5cHRlZEZpZWxkKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKVxuICAgIH0sXG5cbiAgICBlbmNyeXB0RmllbGQ6IGZ1bmN0aW9uIChlbmNyeXB0ZWRGaWVsZCkge1xuICAgICAgICB2YXIgZGVjcnlwdGVkRGF0YSA9IHRoaXMuZ2V0RGVjcnlwdGVkRGF0YShlbmNyeXB0ZWRGaWVsZCk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy53b3Jrc3BhY2VrZXkuZW5jcnlwdFdvcmtzcGFjZURhdGEoZGVjcnlwdGVkRGF0YVsnZGF0YSddKTtcbiAgICAgICAgdGhpcy5zZXQoZW5jcnlwdGVkRmllbGQsIGRhdGEpO1xuICAgIH0sXG5cbiAgICBkZXNlcmlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlc2VyaWFsaXplZCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGRlc2VyaWFsaXplZC5jbGVhckRlY3J5cHRlZERhdGEoKTtcblxuICAgICAgICB0aGlzLnNldCgnZGVjcnlwdGVkJywgZmFsc2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVzZXJpYWxpemVkLmRlY3J5cHRGaWVsZHMoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0KCdkZWNyeXB0ZWQnLCB0cnVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoJ2RlY3J5cHRlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NlY3JldCBkZWNyeXB0aW9uIGZhaWxlZCcpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVzZXJpYWxpemVkO1xuICAgIH0sXG5cbiAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZ2V0RGlydHlFbmNyeXB0ZWRGaWVsZHMoKS5mb3JFYWNoKGZ1bmN0aW9uIChlbmNyeXB0ZWRGaWVsZCkge1xuICAgICAgICAgICAgdGhpcy5lbmNyeXB0RmllbGQoZW5jcnlwdGVkRmllbGQpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG59KVxuXG4vKipcbiAqIEVhY2ggZmllbGQgdG8gYmUgYXV0b21hdGljYWxseSBkZWNyeXB0ZWQvZW5jcnlwdGVkIHNob3VsZCBiZSBtYXJrZWQgYnkgdGhpcyBtb2RlbCBhdHRyaWJ1dGUgZGVjb3JhdG9yXG4gKiBAcGFyYW0gZW5jcnlwdGVkRmllbGQge1N0cmluZ30gc291cmNlIGVuY3J5cHRlZCBmaWVsZCBvdXQgb2Ygd2hpY2ggZGVjcnlwdGVkIGZpZWxkIHdpbGwgYmUgZGVjcnlwdGVkXG4gKiBAcGFyYW0gZGVjcnlwdGVkRmllbGQge1N0cmluZ30gbmFtZSBvZiBkZWNyeXB0ZWQgZmllbGQgdG8gYmUgY29udGFpbmVkIGluIGRlY3J5cHRlZCB7fSBvdXQgb2YgZW5jcnlwdGVkIGZpZWxkXG4gKi9cblZhdWx0aWVyLkVuY3J5cHRlZE1vZGVsLmRlY3J5cHRlZEZpZWxkID0gZnVuY3Rpb24gKGVuY3J5cHRlZEZpZWxkLCBkZWNyeXB0ZWRGaWVsZCkge1xuICAgIHJldHVybiBFbWJlci5jb21wdXRlZChmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoIVZhdWx0aWVyLkVuY3J5cHRlZE1vZGVsLk1peGluLmRldGVjdCh0aGlzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG1vZGVscyB3aXRoIG1peGluIFZhdWx0aWVyLkVuY3J5cHRlZE1vZGVsTWl4aW4gY2FuIGhhdmUgZGVjcnlwdGVkRmllbGQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlY3J5cHRlZEZpZWxkIGlzIG9wdGlvbmFsLCBpZiBlbmNyeXB0ZWQgc3RvcmVkIGtleSBkaWZmZXJzIGZyb20gZmllbGQgbmFtZVxuICAgICAgICBpZiAoZGVjcnlwdGVkRmllbGQpIHtcbiAgICAgICAgICAgIGtleSA9IGRlY3J5cHRlZEZpZWxkXG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXRyaWV2ZSBkZWNyeXB0ZWQgZGF0YSBmcm9tIGNhY2hlXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXREZWNyeXB0ZWREYXRhKGVuY3J5cHRlZEZpZWxkKTtcblxuICAgICAgICAvLyBHZXR0ZXJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVtYmVyLmdldChkYXRhLCAnZGF0YS4nICsga2V5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldHRlclxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIEVtYmVyLnNldChkYXRhLCAnZGF0YS4nICsga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBFbWJlci5zZXQoZGF0YSwgJ2lzRGlydHknLCB0aGlzLmFyZURlY3J5cHRlZERhdGFEaXJ0eShkYXRhKSk7XG4gICAgICAgICAgICB0aGlzLnNldCgnaXNEaXJ0eScsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuXG4gICAgfSkucHJvcGVydHkoZ2V0RW5jcnlwdGVkRGF0YUtleShlbmNyeXB0ZWRGaWVsZCkpXG4gICAgICAgIC5tZXRhKHtcbiAgICAgICAgICAgIGVuY3J5cHRlZEZpZWxkOiBlbmNyeXB0ZWRGaWVsZCxcbiAgICAgICAgICAgIGlzRGVjcnlwdGVkRmllbGQ6IHRydWVcbiAgICAgICAgfSlcbn1cbiIsIlZhdWx0aWVyLlJvbGxiYWNrTWl4aW4gPSBFbWJlci5NaXhpbi5jcmVhdGUoe1xuXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgIHRoaXMub24oJ2RpZExvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlQ2xlYW5WYWx1ZXMoKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5vbignZGlkVXBkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZUNsZWFuVmFsdWVzKCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMub24oJ2RpZENyZWF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmVDbGVhblZhbHVlcygpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMuc3RvcmVDbGVhblZhbHVlcygpO1xuICAgIH0sXG5cbiAgICBjbGVhblZhbHVlczoge30sXG5cbiAgICBzdG9yZUNsZWFuVmFsdWVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0KCdjbGVhblZhbHVlcycsIHt9KTtcbiAgICAgICAgRW1iZXIuZ2V0KHRoaXMuY29uc3RydWN0b3IsICdmaWVsZHMnKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICAgICAgdGhpcy5zZXQoJ2NsZWFuVmFsdWVzLicgKyBmaWVsZCwgdGhpcy5nZXQoZmllbGQpKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgcm9sbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0KCdpc1NhdmluZycpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IHJvbGxiYWNrLiBSZWNvcmQgaXMgaW4gc3RhdGUgaXNTYXZpbmcuJylcbiAgICAgICAgfVxuICAgICAgICBFbWJlci5nZXQodGhpcy5jb25zdHJ1Y3RvciwgJ2ZpZWxkcycpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgICB0aGlzLnNldChmaWVsZCwgdGhpcy5nZXQoJ2NsZWFuVmFsdWVzLicgKyBmaWVsZCkpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnNldCgnaXNEaXJ0eScsIGZhbHNlKTtcbiAgICB9XG5cbn0pO1xuIiwiVmF1bHRpZXIuSlNPTlNlcmlhbGl6ZXIgPSBSRVNUbGVzcy5KU09OU2VyaWFsaXplci5leHRlbmQoe1xuICAgIC8vIFZhdWx0aWVyIHBvc3RzIGFyZSBuYXRpdmUganNvbnMgd2l0aG91dCByb290XG4gICAgc2VyaWFsaXplOiBmdW5jdGlvbiAocmVzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMubm9uRW1iZWRkZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXBwbHkodGhpcywgW3Jlc291cmNlLCBvcHRpb25zXSk7XG4gICAgfSxcblxuICAgIGtleUZvclJlc291cmNlTmFtZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWVcbiAgICB9LFxuXG4gICAgLy8gVmF1bHRpZXIgZG9lcyBub3QgdXNlIGNhbWVsaXphdGlvbnNcbiAgICBhdHRyaWJ1dGVOYW1lRm9yS2V5OiBmdW5jdGlvbiAoa2xhc3MsIGtleSkge1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbn0pO1xuXG5WYXVsdGllci5SRVNUQWRhcHRlciA9IFJMLlJFU1RBZGFwdGVyLmV4dGVuZCh7XG4gICAgdXJsOiAnLycsXG4gICAgbmFtZXNwYWNlOiAnYXBpJyxcblxuICAgIHNlcmlhbGl6ZXI6IFZhdWx0aWVyLkpTT05TZXJpYWxpemVyLmNyZWF0ZSgpLFxuXG4gICAgYnVpbGRVcmw6IGZ1bmN0aW9uIChtb2RlbCwga2V5KSB7XG4gICAgICAgIHZhciByZXNvdXJjZVBhdGggPSB0aGlzLnJlc291cmNlUGF0aChFbWJlci5nZXQobW9kZWwuY29uc3RydWN0b3IsICdyZXNvdXJjZU5hbWUnKSk7XG4gICAgICAgIHZhciByZXNvdXJjZUxpc3RGb3JtYXQgPSBFbWJlci5nZXQobW9kZWwuY29uc3RydWN0b3IsICdyZXNvdXJjZUxpc3RGb3JtYXQnKTtcbiAgICAgICAgdmFyIHJlc291cmNlRGV0YWlsRm9ybWF0ID0gIEVtYmVyLmdldChtb2RlbC5jb25zdHJ1Y3RvciwgJ3Jlc291cmNlRGV0YWlsRm9ybWF0Jyk7XG4gICAgICAgIHZhciByZXNvdXJjZUZvcm1hdFxuICAgICAgICB2YXIgcm9vdFBhdGggPSB0aGlzLmdldCgncm9vdFBhdGgnKTtcbiAgICAgICAgdmFyIHByaW1hcnlLZXlOYW1lID0gRW1iZXIuZ2V0KG1vZGVsLmNvbnN0cnVjdG9yLCAncHJpbWFyeUtleScpO1xuICAgICAgICB2YXIgZGF0YVR5cGUgPSAnJ1xuICAgICAgICB2YXIgdXJsO1xuICAgICAgICB2YXIgaWQgPSAnJztcblxuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBpZCA9IGtleTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlbC5nZXQocHJpbWFyeUtleU5hbWUpKSB7XG4gICAgICAgICAgICBpZCA9IG1vZGVsLmdldChwcmltYXJ5S2V5TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nZXQoJ3VzZUNvbnRlbnRUeXBlRXh0ZW5zaW9uJykgJiYgZGF0YVR5cGUpIHtcbiAgICAgICAgICAgIHZhciBkYXRhVHlwZSA9IHRoaXMuZ2V0KCdzZXJpYWxpemVyLmRhdGFUeXBlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc291cmNlTGlzdEZvcm1hdCkge1xuICAgICAgICAgICAgcmVzb3VyY2VMaXN0Rm9ybWF0ID0gJ3tyb290UGF0aH0ve3Jlc291cmNlUGF0aH0ve2RhdGFUeXBlfSdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVzb3VyY2VEZXRhaWxGb3JtYXQpIHtcbiAgICAgICAgICAgIHJlc291cmNlRGV0YWlsRm9ybWF0ID0gJ3tyb290UGF0aH0ve3Jlc291cmNlUGF0aH0ve2lkfS97ZGF0YVR5cGV9J1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb3VyY2VGb3JtYXQgPSBpZCA/IHJlc291cmNlRGV0YWlsRm9ybWF0IDogcmVzb3VyY2VMaXN0Rm9ybWF0XG5cbiAgICAgICAgdmFyIHVybCA9IHJlc291cmNlRm9ybWF0XG4gICAgICAgICAgICAucmVwbGFjZSgne3Jvb3RQYXRofScscm9vdFBhdGgpXG4gICAgICAgICAgICAucmVwbGFjZSgne3Jlc291cmNlUGF0aH0nLCByZXNvdXJjZVBhdGgpXG4gICAgICAgICAgICAucmVwbGFjZSgne2lkfScsIGlkKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3tkYXRhVHlwZX0nLCBkYXRhVHlwZSlcblxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbn0pLmNyZWF0ZSgpXG5cblZhdWx0aWVyLlJFU1RBZGFwdGVyLnJlZ2lzdGVyVHJhbnNmb3JtKCdvYmplY3QnLCB7XG4gICAgZGVzZXJpYWxpemU6IGZ1bmN0aW9uIChuYXRpdmUpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZTtcbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogZnVuY3Rpb24gKGRlc2VyaWFsaXplZCkge1xuICAgICAgICByZXR1cm4gZGVzZXJpYWxpemVkXG4gICAgfVxufSk7XG5cblZhdWx0aWVyLkNsaWVudCA9IFJMLkNsaWVudC5jcmVhdGUoe1xuICAgIGFkYXB0ZXI6IFZhdWx0aWVyLlJFU1RBZGFwdGVyLFxuXG4gICAgY3JlYXRlUmVjb3JkOiBmdW5jdGlvbiAoY2xzLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBWYXVsdGllcltjbHNdLmNyZWF0ZShkYXRhKTtcbiAgICB9LFxuXG4gICAgZmluZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbW9kZWwgPSBhcmd1bWVudHNbMF07XG4gICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIHJldHVybiBWYXVsdGllclttb2RlbF0uZmV0Y2gocGFyYW1zKVxuICAgIH1cblxufSk7XG5cblxuIiwiVmF1bHRpZXIuVXNlciA9IFJMLk1vZGVsLmV4dGVuZChcclxuICAgIFZhdWx0aWVyLkNyZWF0ZWRVcGRhdGVkTWl4aW4sXHJcbiAgICBWYXVsdGllci5Sb2xsYmFja01peGluLFxyXG4gICAge1xyXG4gICAgICAgIGVtYWlsOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBuaWNrbmFtZTogUkwuYXR0cignc3RyaW5nJyksXHJcbiAgICAgICAgcHVibGljX2tleTogUkwuYXR0cignc3RyaW5nJyksXHJcblxyXG4gICAgICAgIHNhdmVSZWNvcmQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGVtYWlsID0gdGhpcy5nZXQoJ2VtYWlsJyk7XHJcbiAgICAgICAgICAgIGlmIChlbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ2VtYWlsJywgZW1haWwudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5WYXVsdGllci5Vc2VyS2V5ID0gUkwuTW9kZWwuZXh0ZW5kKHtcclxuICAgICAgICBwdWJsaWNfa2V5OiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBtZW1iZXJzaGlwOiBSTC5hdHRyKCdvYmplY3QnKVxyXG4gICAgfSk7XHJcblxyXG5WYXVsdGllci5Vc2VyS2V5LnJlb3BlbkNsYXNzKHtcclxuICAgIHJlc291cmNlRGV0YWlsRm9ybWF0OiAne3Jvb3RQYXRofS91c2Vycy97aWR9L2tleS8nXHJcbn0pXHJcblxyXG4iLCJWYXVsdGllci5Xb3Jrc3BhY2UgPSBSTC5Nb2RlbC5leHRlbmQoXHJcbiAgICBWYXVsdGllci5DcmVhdGVkVXBkYXRlZE1peGluLFxyXG4gICAgVmF1bHRpZXIuUm9sbGJhY2tNaXhpbixcclxuICAgIHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KCd3b3Jrc3BhY2VrZXknLCBWYXVsdGllci5fX2NvbnRhaW5lcl9fLmxvb2t1cCgnc2VydmljZTp3b3Jrc3BhY2VrZXknKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBESSBzZXJ2aWNlOndvcmtzcGFjZWtleVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHdvcmtzcGFjZWtleTogbnVsbCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTWFuYWdlZCBieSBTZXJ2aWNlLldvcmtzcGFjZUtleSwgVHJ1ZSB3aGVuIGtleSBjYW5ub3QgYmUgZGVjcnlwdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAga2V5RXJyb3I6IGZhbHNlLFxyXG5cclxuICAgICAgICBuYW1lOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBzbHVnOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogUkwuYXR0cignc3RyaW5nJyksXHJcbiAgICAgICAgcGVybXM6IFJMLmF0dHIoJ29iamVjdCcsIHsgcmVhZE9ubHk6IHRydWUgfSksXHJcbiAgICAgICAgbWVtYmVyc2hpcDogUkwuYXR0cignb2JqZWN0JywgeyByZWFkT25seTogdHJ1ZSB9KSxcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgaWYgdXNlciBnaXZlbiBieSBtZW1iZXJzaGlwIGhhcyB3b3Jrc3BhY2VrZXlcclxuICAgICAgICAgKi9cclxuICAgICAgICBoYXNWYWxpZEtleTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ21lbWJlcnNoaXAuc3RhdHVzJykgPT0gVmF1bHRpZXIuTWVtYmVyLnByb3RvKCkuc3RhdHVzZXNbJ01FTUJFUiddLnZhbHVlO1xyXG4gICAgICAgIH0ucHJvcGVydHkoJ21lbWJlcnNoaXAuc3RhdHVzJyksXHJcblxyXG5cclxuICAgICAgICBzYXZlUmVjb3JkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpc05ldyA9IHRoaXMuZ2V0KCdpc05ldycpO1xyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIHZhciB3b3Jrc3BhY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFmdGVyIHNhdmUsIGFwcHJvdmUgd29ya3NwYWNlXHJcbiAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd3b3Jrc3BhY2VrZXknKS50cmFuc2ZlcktleVRvQ3JlYXRlZFdvcmtzcGFjZSh3b3Jrc3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3Jrc3BhY2UucmVsb2FkUmVjb3JkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuKVxyXG47XHJcblxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5WYXVsdGllci5NZW1iZXIgPSBSTC5Nb2RlbC5leHRlbmQoXHJcbiAgICBWYXVsdGllci5DcmVhdGVkVXBkYXRlZE1peGluLFxyXG4gICAge1xyXG4gICAgICAgIHN0YXR1czogUkwuYXR0cignbnVtYmVyJyksXHJcbiAgICAgICAgZW1haWw6IFJMLmF0dHIoJ3N0cmluZycpLFxyXG4gICAgICAgIG5pY2tuYW1lOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICB1c2VyOiBSTC5hdHRyKCdvYmplY3QnKSxcclxuICAgICAgICB3b3Jrc3BhY2U6IFJMLmF0dHIoJ29iamVjdCcpLFxyXG5cclxuICAgICAgICBzdGF0dXNlczogbmV3IFV0aWxzLkNvbnN0YW50TGlzdCh7XHJcbiAgICAgICAgICAgICdJTlZJVEVEJzoge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDEwMCxcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdJTlZJVEVEJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnTUVNQkVSX1dJVEhPVVRfV09SS1NQQUNFX0tFWSc6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnTUVNQkVSX1dJVEhPVVRfV09SS1NQQUNFX0tFWSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ01FTUJFUic6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAzMDAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnTUVNQkVSJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4iLCJWYXVsdGllci5JbnZpdGF0aW9uID0gUkwuTW9kZWwuZXh0ZW5kKFxuICAgIFZhdWx0aWVyLkNyZWF0ZWRVcGRhdGVkTWl4aW4sXG4gICAge1xuICAgICAgICBpbnZpdGF0aW9uX2VtYWlsOiBSTC5hdHRyKCdzdHJpbmcnKSxcbiAgICAgICAgaW52aXRhdGlvbl9oYXNoOiBSTC5hdHRyKCdzdHJpbmcnKSxcbiAgICAgICAgc3RhdHVzOiBSTC5hdHRyKCdudW1iZXInKSxcbiAgICAgICAgcm9sZXM6IFJMLmhhc01hbnkoJ1ZhdWx0aWVyLkludml0YXRpb25Sb2xlJylcbiAgICB9KVxuXG5WYXVsdGllci5JbnZpdGF0aW9uLnJlb3BlbkNsYXNzKHtcbiAgICBwcmltYXJ5S2V5OiAnaW52aXRhdGlvbl9oYXNoJ1xufSk7XG5cblZhdWx0aWVyLkludml0YXRpb25Sb2xlID0gUkwuTW9kZWwuZXh0ZW5kKFxuICAgIFZhdWx0aWVyLkNyZWF0ZWRVcGRhdGVkTWl4aW4sXG4gICAge1xuICAgICAgICB0b19uYW1lOiBSTC5hdHRyKCdzdHJpbmcnKSxcbiAgICAgICAgdG9fdHlwZTogUkwuYXR0cignbnVtYmVyJyksXG5cbiAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIFJvbGUgPSBWYXVsdGllci5Sb2xlLnByb3RvKCk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0KCd0b190eXBlJyk7XG4gICAgICAgICAgICB2YXIgdG9fbmFtZSA9IHRoaXMuZ2V0KCd0b19uYW1lJyk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBSb2xlLnR5cGVzWydUT19XT1JLU1BBQ0UnXS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnSW52aXRlZCB0byB3b3Jrc3BhY2UgXCJ7dG9fbmFtZX1cIicucmVwbGFjZSgne3RvX25hbWV9JywgdG9fbmFtZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGUgPT0gUm9sZS50eXBlc1snVE9fVkFVTFQnXS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnSW52aXRlZCB0byB2YXVsdCBcInt0b19uYW1lfVwiJy5yZXBsYWNlKCd7dG9fbmFtZX0nLCB0b19uYW1lKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZSA9PSBSb2xlLnR5cGVzWydUT19DQVJEJ10udmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0ludml0ZWQgdG8gY2FyZCBcInt0b19uYW1lfVwiJy5yZXBsYWNlKCd7dG9fbmFtZX0nLCB0b19uYW1lKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0ucHJvcGVydHkoJ3RvX25hbWUnLCAndG9fdHlwZScpXG5cblxuICAgIH0pXG4iLCJWYXVsdGllci5Sb2xlID0gUkwuTW9kZWwuZXh0ZW5kKFxyXG4gICAgVmF1bHRpZXIuQ3JlYXRlZFVwZGF0ZWRNaXhpbixcclxuICAgIFZhdWx0aWVyLlJvbGxiYWNrTWl4aW4sXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGF1dGg6IG51bGwsXHJcblxyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldCgnYXV0aCcsIFZhdWx0aWVyLl9fY29udGFpbmVyX18ubG9va3VwKCdzZXJ2aWNlOmF1dGgnKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgIGxldmVsOiBSTC5hdHRyKCdudW1iZXInKSxcclxuICAgICAgICBtZW1iZXI6IFJMLmF0dHIoJ29iamVjdCcpLFxyXG4gICAgICAgIHRvX3dvcmtzcGFjZTogUkwuYXR0cignb2JqZWN0JyksXHJcbiAgICAgICAgdG9fdmF1bHQ6IFJMLmF0dHIoJ29iamVjdCcpLFxyXG4gICAgICAgIHRvX2NhcmQ6IFJMLmF0dHIoJ29iamVjdCcpLFxyXG5cclxuICAgICAgICByb2xlczogbmV3IFV0aWxzLkNvbnN0YW50TGlzdCh7XHJcbiAgICAgICAgICAgICdDUkVBVEUnOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogNTAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnQ3JlYXRlIG5ldycsXHJcbiAgICAgICAgICAgICAgICBkZXNjOidDYW4gcmVhZCB0aGlzIG9iamVjdC4gQ2FuIGNyZWF0ZSBuZXcgY2hpbGQgb2JqZWN0cy4gQ2FuIG1vZGlmeSwgZGVsZXRlLCBpbnZpdGUgYW5kIGdyYW50IHBlcm1pc3Npb25zIHRvIGNyZWF0ZWQgb2JqZWN0cydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ1JFQUQnOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMTAwLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogJ0NhbiByZWFkIHRoaXMgb2JqZWN0IGFuZCBhbGwgY2hpbGQgb2JqZWN0cycsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnVmlldyBvbmx5J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnV1JJVEUnOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogJ01hbmFnZScsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiAnQ2FuIGNyZWF0ZSwgbW9kaWZ5LCBkZWxldGUsIGludml0ZSBhbmQgZ3JhbnQgcGVybWlzc2lvbnMgdG8gdGhpcyBvYmplY3QgYW5kIGFsbCBjaGlsZCBvYmplY3RzJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSksXHJcblxyXG4gICAgICAgIHR5cGVzOiBuZXcgVXRpbHMuQ29uc3RhbnRMaXN0KHtcclxuICAgICAgICAgICAgJ1RPX1dPUktTUEFDRSc6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAxMDAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnVE9fV09SS1NQQUNFJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnVE9fVkFVTFQnOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogJ1RPX1ZBVUxUJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnVE9fQ0FSRCc6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAzMDAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnVE9fQ0FSRCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLFxyXG5cclxuICAgICAgICBpc0N1cnJlbnRVc2VyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGF1dGggPSB0aGlzLmdldCgnYXV0aCcpO1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBhdXRoLmdldCgndXNlci5pZCcpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgnbWVtYmVyLnVzZXInKSA9PSBpZDtcclxuICAgICAgICB9LnByb3BlcnR5KCdtZW1iZXIudXNlcicpLFxyXG5cclxuICAgICAgICBpc01lbWJlciA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ21lbWJlci5zdGF0dXMnKSA9PSBWYXVsdGllci5NZW1iZXIucHJvdG8oKS5zdGF0dXNlc1snTUVNQkVSJ10udmFsdWU7XHJcbiAgICAgICAgfS5wcm9wZXJ0eSgnbWVtYmVyLnN0YXR1cycpLFxyXG5cclxuICAgICAgICBpc0ludml0ZWQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdtZW1iZXIuc3RhdHVzJykgPT0gVmF1bHRpZXIuTWVtYmVyLnByb3RvKCkuc3RhdHVzZXNbJ0lOVklURUQnXS52YWx1ZTtcclxuICAgICAgICB9LnByb3BlcnR5KCdtZW1iZXIuc3RhdHVzJyksXHJcblxyXG4gICAgICAgIGlzTWVtYmVyV2l0aG91dEtleXMgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdtZW1iZXIuc3RhdHVzJykgPT0gVmF1bHRpZXIuTWVtYmVyLnByb3RvKCkuc3RhdHVzZXNbJ01FTUJFUl9XSVRIT1VUX1dPUktTUEFDRV9LRVknXS52YWx1ZTtcclxuICAgICAgICB9LnByb3BlcnR5KCdtZW1iZXIuc3RhdHVzJyksXHJcblxyXG4gICAgICAgIHByaW50YWJsZURlc2M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5yb2xlcy5nZXRCeVZhbHVlKHRoaXMuZ2V0KCdsZXZlbCcpKTtcclxuICAgICAgICAgICAgaWYgKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5kZXNjXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1Vua25vd24gcm9sZSBsZXZlbCdcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9LnByb3BlcnR5KCdsZXZlbCcpLFxyXG5cclxuICAgICAgICBwcmludGFibGVOYW1lOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMucm9sZXMuZ2V0QnlWYWx1ZSh0aGlzLmdldCgnbGV2ZWwnKSk7XHJcbiAgICAgICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWwudGV4dFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdVbmtub3duIHJvbGUgbGV2ZWwnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LnByb3BlcnR5KCdsZXZlbCcpXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuIiwiVmF1bHRpZXIuVmF1bHQgPSBSTC5Nb2RlbC5leHRlbmQoXHJcbiAgICBWYXVsdGllci5DcmVhdGVkVXBkYXRlZE1peGluLFxyXG4gICAgVmF1bHRpZXIuUm9sbGJhY2tNaXhpbixcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBzbHVnOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICB3b3Jrc3BhY2U6IFJMLmF0dHIoJ251bWJlcicpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBwZXJtczogUkwuYXR0cignb2JqZWN0JylcclxuXHJcbiAgICB9KTtcclxuXHJcbiIsIlZhdWx0aWVyLkNhcmQgPSBSTC5Nb2RlbC5leHRlbmQoXHJcbiAgICBWYXVsdGllci5DcmVhdGVkVXBkYXRlZE1peGluLFxyXG4gICAgVmF1bHRpZXIuUm9sbGJhY2tNaXhpbixcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBzbHVnOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogUkwuYXR0cignc3RyaW5nJyksXHJcbiAgICAgICAgdmF1bHQ6IFJMLmF0dHIoJ251bWJlcicpLFxyXG4gICAgICAgIHBlcm1zOiBSTC5hdHRyKCdvYmplY3QnKVxyXG4gICAgfSk7XHJcbiIsInZhciBkZWNyeXB0ZWRGaWVsZCA9IFZhdWx0aWVyLkVuY3J5cHRlZE1vZGVsLmRlY3J5cHRlZEZpZWxkO1xyXG5cclxuVmF1bHRpZXIuU2VjcmV0ID0gUkwuTW9kZWwuZXh0ZW5kKFxyXG4gICAgVmF1bHRpZXIuQ3JlYXRlZFVwZGF0ZWRNaXhpbixcclxuICAgIFZhdWx0aWVyLkVuY3J5cHRlZE1vZGVsLk1peGluLFxyXG4gICAgVmF1bHRpZXIuTXV0YWJsZU1vZGVsLk1peGluLFxyXG4gICAge1xyXG4gICAgICAgIG11dGFibGVNb2RlbFR5cGVGaWVsZDogJ3R5cGUnLFxyXG4gICAgICAgIG11dGFibGVNb2RlbE1hcHBpbmc6IHtcclxuICAgICAgICAgICAgMTAwOiAnVmF1bHRpZXIuU2VjcmV0Tm90ZU1peGluJyxcclxuICAgICAgICAgICAgMjAwOiAnVmF1bHRpZXIuU2VjcmV0UGFzc3dvcmRNaXhpbicsXHJcbiAgICAgICAgICAgIDMwMDogJ1ZhdWx0aWVyLlNlY3JldEZpbGVNaXhpbidcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB0eXBlczogbmV3IFV0aWxzLkNvbnN0YW50TGlzdCh7XHJcbiAgICAgICAgICAgICdOT1RFJzoge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDEwMCxcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdOT1RFJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnUEFTU1dPUkQnOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogJ1BBU1NXT1JEJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnRklMRSc6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAzMDAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnRklMRSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLFxyXG5cclxuICAgICAgICB0eXBlOiBSTC5hdHRyKCdudW1iZXInKSxcclxuICAgICAgICBkYXRhOiBSTC5hdHRyKCdzdHJpbmcnKSxcclxuICAgICAgICBibG9iX21ldGE6IFJMLmF0dHIoJ3N0cmluZycpLFxyXG4gICAgICAgIGNhcmQ6IFJMLmF0dHIoJ251bWJlcicpLFxyXG4gICAgICAgIHBlcm1zOiBSTC5hdHRyKCdvYmplY3QnKSxcclxuICAgICAgICBuYW1lOiBSTC5hdHRyKCdzdHJpbmcnKVxyXG5cclxuICAgIH0pO1xyXG5cclxuVmF1bHRpZXIuU2VjcmV0Tm90ZU1peGluID0gRW1iZXIuTWl4aW4uY3JlYXRlKHtcclxuICAgIG5vdGU6IGRlY3J5cHRlZEZpZWxkKCdkYXRhJywgJ25vdGUnKSxcclxuXHJcbiAgICBpc05vdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3R5cGUnKSA9PSB0aGlzLnR5cGVzWydOT1RFJ10udmFsdWU7XHJcbiAgICB9LnByb3BlcnR5KCd0eXBlJylcclxuXHJcbn0pXHJcblxyXG5WYXVsdGllci5TZWNyZXRQYXNzd29yZE1peGluID0gRW1iZXIuTWl4aW4uY3JlYXRlKHtcclxuICAgIHBhc3N3b3JkOiBkZWNyeXB0ZWRGaWVsZCgnZGF0YScsICdwYXNzd29yZCcpLFxyXG4gICAgdXNlcm5hbWU6IGRlY3J5cHRlZEZpZWxkKCdkYXRhJywgJ3VzZXJuYW1lJyksXHJcbiAgICB1cmw6IGRlY3J5cHRlZEZpZWxkKCdkYXRhJywgJ3VybCcpLFxyXG4gICAgbm90ZTogZGVjcnlwdGVkRmllbGQoJ2RhdGEnLCAnbm90ZScpLFxyXG5cclxuICAgIGlzUGFzc3dvcmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3R5cGUnKSA9PSB0aGlzLnR5cGVzWydQQVNTV09SRCddLnZhbHVlO1xyXG4gICAgfS5wcm9wZXJ0eSgndHlwZScpXHJcbn0pXHJcblxyXG5WYXVsdGllci5TZWNyZXRGaWxlTWl4aW4gPSBFbWJlci5NaXhpbi5jcmVhdGUoe1xyXG4gICAgLyoqXHJcbiAgICAgKiBibG9iX21ldGEgZW5jcnlwdGVkIGF0dHJzXHJcbiAgICAgKi9cclxuICAgIGZpbGVuYW1lOiBkZWNyeXB0ZWRGaWVsZCgnYmxvYl9tZXRhJywgJ2ZpbGVuYW1lJyksXHJcbiAgICBmaWxlc2l6ZTogZGVjcnlwdGVkRmllbGQoJ2Jsb2JfbWV0YScsICdmaWxlc2l6ZScpLFxyXG4gICAgZmlsZXR5cGU6IGRlY3J5cHRlZEZpZWxkKCdibG9iX21ldGEnLCAnZmlsZXR5cGUnKSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIGRhdGEgZW5jcnlwdGVkIGF0dHJzXHJcbiAgICAgKi9cclxuICAgIHBhc3N3b3JkOiBkZWNyeXB0ZWRGaWVsZCgnZGF0YScsICdwYXNzd29yZCcpLFxyXG4gICAgdXNlcm5hbWU6IGRlY3J5cHRlZEZpZWxkKCdkYXRhJywgJ3VzZXJuYW1lJyksXHJcbiAgICB1cmw6IGRlY3J5cHRlZEZpZWxkKCdkYXRhJywgJ3VybCcpLFxyXG4gICAgbm90ZTogZGVjcnlwdGVkRmllbGQoJ2RhdGEnLCAnbm90ZScpLFxyXG5cclxuICAgIGJsb2I6IG51bGwsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAREkgc3RvcmU6bWFpblxyXG4gICAgICovXHJcbiAgICBzdG9yZTogbnVsbCxcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXQoJ3N0b3JlJywgVmF1bHRpZXIuX19jb250YWluZXJfXy5sb29rdXAoJ3N0b3JlOm1haW4nKSlcclxuICAgICAgICB0aGlzLm9uKCdkaWRMb2FkJywgdGhpcywgdGhpcy5lbXB0eUJsb2IpXHJcbiAgICAgICAgdGhpcy5vbignZGlkUmVsb2FkJywgdGhpcywgdGhpcy5lbXB0eUJsb2IpXHJcbiAgICAgICAgdGhpcy5lbXB0eUJsb2IoKTtcclxuICAgIH0sXHJcblxyXG4gICAgaXNGaWxlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd0eXBlJykgPT0gdGhpcy50eXBlc1snRklMRSddLnZhbHVlO1xyXG4gICAgfS5wcm9wZXJ0eSgndHlwZScpLFxyXG5cclxuICAgIGVtcHR5QmxvYjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2V0KCdibG9iJywgbmV3IFZhdWx0aWVyLlNlY3JldEJsb2Ioe1xyXG4gICAgICAgICAgICBpZDogdGhpcy5nZXQoJ2lkJylcclxuICAgICAgICB9KSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBsb2FkQmxvYjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBibG9iID0gdGhpcy5nZXQoJ2Jsb2InKTtcclxuICAgICAgICBpZiAoIWJsb2IuZ2V0KCdpc05ldycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFbWJlci5SU1ZQLnJlc29sdmUoYmxvYilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuZ2V0KCdzdG9yZScpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnU2VjcmV0QmxvYicsIHRoaXMuZ2V0KCdpZCcpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCgnYmxvYicsIGJsb2IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9iO1xyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzYXZlUmVjb3JkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGJsb2IgPSB0aGlzLmdldCgnYmxvYicpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIC5fc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBibG9iLnNldCgnaWQnLCB0aGlzLmdldCgnaWQnKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBibG9iLnNhdmVSZWNvcmQoKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLmVtcHR5QmxvYi5iaW5kKHRoaXMpKVxyXG4gICAgfVxyXG5cclxufSlcclxuXHJcblZhdWx0aWVyLlNlY3JldEJsb2IgPSBSTC5Nb2RlbC5leHRlbmQoXHJcbiAgICBWYXVsdGllci5FbmNyeXB0ZWRNb2RlbC5NaXhpbixcclxuICAgIHtcclxuICAgICAgICBibG9iX21ldGE6IFJMLmF0dHIoJ3N0cmluZycpLFxyXG4gICAgICAgIGJsb2JfZGF0YTogUkwuYXR0cignc3RyaW5nJyksXHJcblxyXG4gICAgICAgIGZpbGVuYW1lOiBkZWNyeXB0ZWRGaWVsZCgnYmxvYl9tZXRhJywgJ2ZpbGVuYW1lJyksXHJcbiAgICAgICAgZmlsZXNpemU6IGRlY3J5cHRlZEZpZWxkKCdibG9iX21ldGEnLCAnZmlsZXNpemUnKSxcclxuICAgICAgICBmaWxldHlwZTogZGVjcnlwdGVkRmllbGQoJ2Jsb2JfbWV0YScsICdmaWxldHlwZScpLFxyXG4gICAgICAgIGZpbGVkYXRhOiBkZWNyeXB0ZWRGaWVsZCgnYmxvYl9kYXRhJywgJ2ZpbGVkYXRhJyksXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBESSBzZXJ2aWNlOndvcmtzcGFjZWtleVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHdvcmtzcGFjZWtleTogbnVsbCxcclxuXHJcbiAgICAgICAgc2VyaWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXHJcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYmxvYl9kYXRhJywgbmV3IEJsb2IoW2RhdGFbJ2Jsb2JfZGF0YSddXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ30pKVxyXG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Jsb2JfbWV0YScsIGRhdGFbJ2Jsb2JfbWV0YSddKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1EYXRhXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2F2ZVJlY29yZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoJ2lzRGlydHknKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3NlY3JldF9ibG9icy8nICsgdGhpcy5nZXQoJ2lkJykgKyAnLycsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BVVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zZXJpYWxpemUoKSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFV0aWxzLlJTVlBBamF4KHBhcmFtcylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBFbWJlci5SU1ZQLnJlc29sdmUodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cblZhdWx0aWVyLkxvc3RLZXkgPSBSTC5Nb2RlbC5leHRlbmQoXG4gICAgVmF1bHRpZXIuQ3JlYXRlZFVwZGF0ZWRNaXhpbixcbiAgICB7XG4gICAgICAgIGVtYWlsOiBSTC5hdHRyKCdzdHJpbmcnKSxcbiAgICAgICAgcmVjb3Zlcl90eXBlOiBSTC5hdHRyKCdpbnRlZ2VyJyksXG4gICAgICAgIGhhc2g6IFJMLmF0dHIoJ3N0cmluZycpLFxuICAgICAgICBwdWJsaWNfa2V5OiBSTC5hdHRyKCdrZXknKSxcbiAgICAgICAgbWVtYmVyc2hpcHM6IFJMLmhhc01hbnkoJ1ZhdWx0aWVyLkxvc3RLZXlNZW1iZXJzaGlwcycpLFxuICAgICAgICByZWNvdmVyVHlwZTogbmV3IFV0aWxzLkNvbnN0YW50TGlzdCh7XG4gICAgICAgICAgICAnUkVCVUlMRCc6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnUkVCVUlMRCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnRElTQUJMRSc6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogMixcbiAgICAgICAgICAgICAgICB0ZXh0OiAnRElTQUJMRSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KTtcblxuVmF1bHRpZXIuTG9zdEtleU1lbWJlcnNoaXBzID0gUkwuTW9kZWwuZXh0ZW5kKHtcbiAgICB3b3Jrc3BhY2VfbmFtZTogUkwuYXR0cignc3RyaW5nJyksXG4gICAgaXNfcmVjb3ZlcmFibGU6IFJMLmF0dHIoJ2Jvb2xlYW4nKVxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=