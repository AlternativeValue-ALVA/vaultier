Ember.TEMPLATES["Settings/ChangeKey"]=Ember.Handlebars.template(function(e,s,n,a,t){function l(e,s){var a="";return s.buffer.push('\n\n    <p>\n        Your public and private keypair has been generated.\n        Please follow steps to finish procedure\n    </p>\n\n\n    <div class="bottom-15 top-30">\n        <h4>\n            <div class="label label-header">1</div>\n            Save private key key to your computer\n        </h4>\n    </div>\n\n    <div class="top-15 padding-15 panel panel-default">\n\n        <div class="col-md-5 col-md-offset-1">\n            <b>\n                Your private key\n            </b>\n            <br/>\n                <span class="help-block">\n                    Used instead of password. Please save the key.\n                </span>\n        </div>\n        <div class="col-md-4">\n            <button\n                '),s.buffer.push(d(n.action.call(e,"savePrivateKey",{hash:{target:"view"},hashTypes:{target:"ID"},hashContexts:{target:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push("\n                "),s.buffer.push(d(n["bind-attr"].call(e,{hash:{"class":":btn view.privateKeySaved:btn-default:btn-primary"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:s}))),s.buffer.push('\n                    >\n                Save private key\n            </button>\n        </div>\n        <div class="clearfix"></div>\n    </div>\n\n    <div class="bottom-15  top-30">\n        <h4>\n            <div class="label label-header">2</div>\n            Send your public key to server\n        </h4>\n    </div>\n\n    <div class="top-15 padding-15 panel panel-default">\n\n        <div class="col-md-5 col-md-offset-1">\n            <b>\n                Your public key\n            </b>\n            <br/>\n                <span class="help-block">\n                    Will be sent to server and cyphers is going to be rebuilt\n                </span>\n        </div>\n        <div class="col-md-4">\n            <button\n                '),s.buffer.push(d(n["bind-attr"].call(e,{hash:{disabled:"view.publicButtonDisabled"},hashTypes:{disabled:"ID"},hashContexts:{disabled:e},contexts:[],types:[],data:s}))),s.buffer.push("\n                "),s.buffer.push(d(n["bind-attr"].call(e,{hash:{"class":":btn view.privateKeySaved:btn-primary:btn-default"},hashTypes:{"class":"STRING"},hashContexts:{"class":e},contexts:[],types:[],data:s}))),s.buffer.push("\n                "),s.buffer.push(d(n.action.call(e,"savePublicKey",{hash:{target:"view"},hashTypes:{target:"ID"},hashContexts:{target:e},contexts:[e],types:["ID"],data:s}))),s.buffer.push('\n                    class="btn btn-default">\n                Submit public key\n            </button>\n        </div>\n        <div class="clearfix"></div>\n    </div>\n\n\n\n'),a}function i(e,s){s.buffer.push('\n    <div class=" text-center top-30">\n        <h4>Please wait while generating your keys...</h4>\n\n        <div class="vlt-preloader vlt-preloader-small">\n        </div>\n    </div>\n')}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),t=t||{};var r,d=this.escapeExpression,p=this;r=n["if"].call(s,"view.keys",{hash:{},hashTypes:{},hashContexts:{},inverse:p.program(3,i,t),fn:p.program(1,l,t),contexts:[s],types:["ID"],data:t}),t.buffer.push(r||0===r?r:"")});
Ember.TEMPLATES["Settings/SettingsIndex"]=Ember.Handlebars.template(function(s,e,n,t,a){function i(s,e){var t,a,i,l="";return e.buffer.push("\n                            "),a=n["link-to"]||s&&s["link-to"],i={hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(2,r,e),contexts:[s],types:["STRING"],data:e},t=a?a.call(s,"Settings.personal",i):v.call(s,"link-to","Settings.personal",i),(t||0===t)&&e.buffer.push(t),e.buffer.push("\n                        "),l}function r(s,e){e.buffer.push("\n                                My profile\n                            ")}function l(s,e){var t,a,i,r="";return e.buffer.push("\n                            "),a=n["link-to"]||s&&s["link-to"],i={hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(5,h,e),contexts:[s],types:["STRING"],data:e},t=a?a.call(s,"Settings.keys",i):v.call(s,"link-to","Settings.keys",i),(t||0===t)&&e.buffer.push(t),e.buffer.push("\n                        "),r}function h(s,e){e.buffer.push("\n                                Private key\n                            ")}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var o,p,u,f="",c=this,v=n.helperMissing,b=this.escapeExpression;return a.buffer.push('<div class="container">\n    <div class="vlt-page vlt-page-plain">\n        <div class="row">\n            <div class="top-50">\n                <div class="col-md-3">\n                    <ul class="nav nav-pills nav-stacked">\n                        '),o=n.view.call(e,"view.TabView",{hash:{tab:"personal"},hashTypes:{tab:"STRING"},hashContexts:{tab:e},inverse:c.noop,fn:c.program(1,i,a),contexts:[e],types:["ID"],data:a}),(o||0===o)&&a.buffer.push(o),a.buffer.push("\n\n                        "),o=n.view.call(e,"view.TabView",{hash:{tab:"keys"},hashTypes:{tab:"STRING"},hashContexts:{tab:e},inverse:c.noop,fn:c.program(4,l,a),contexts:[e],types:["ID"],data:a}),(o||0===o)&&a.buffer.push(o),a.buffer.push('\n                    </ul>\n                </div>\n\n                <div class="col-md-9">\n                    '),a.buffer.push(b((p=n.outlet||e&&e.outlet,u={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:a},p?p.call(e,"Settings",u):v.call(e,"outlet","Settings",u)))),a.buffer.push('\n                </div>\n            </div>\n        </div>\n        <div class="clearfix"></div>\n    </div>\n</div>\n\n\n'),f});
Ember.TEMPLATES["Settings/SettingsPersonal"]=Ember.Handlebars.template(function(e,s,a,n,l){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,Ember.Handlebars.helpers),l=l||{};var t,r="",o=this.escapeExpression;return l.buffer.push('<div class="vlt-dialog">\n    <form>\n        <div class="vlt-dialog-content">\n            <div class="vlt-dialog-header">\n                <h2>Personal settings</h2>\n            </div>\n            <div class="vlt-dialog-body">\n\n                <div class="col-md-8 col-md-offset-2">\n\n                    <div class="form-group" '),l.buffer.push(o(a["bind-attr"].call(s,{hash:{"class":"content.errors.email:has-error"},hashTypes:{"class":"STRING"},hashContexts:{"class":s},contexts:[],types:[],data:l}))),l.buffer.push('>\n                        <label for="register-form-email" class="control-label">Email *</label>\n\n                        '),l.buffer.push(o(a.view.call(s,"Ember.TextField",{hash:{elementId:"register-form-email",valueBinding:"content.email","class":"form-control",placeholder:"Please enter valid email address"},hashTypes:{elementId:"STRING",valueBinding:"STRING","class":"STRING",placeholder:"STRING"},hashContexts:{elementId:s,valueBinding:s,"class":s,placeholder:s},contexts:[s],types:["ID"],data:l}))),l.buffer.push('\n                        <span class="error">\n                            '),t=a._triageMustache.call(s,"content.errors.email",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:l}),(t||0===t)&&l.buffer.push(t),l.buffer.push('\n                        </span>\n                    </div>\n\n                    <div class="form-group" '),l.buffer.push(o(a["bind-attr"].call(s,{hash:{"class":"content.errors.nickname:has-error"},hashTypes:{"class":"STRING"},hashContexts:{"class":s},contexts:[],types:[],data:l}))),l.buffer.push('>\n                        <label for="register-form-nickname" class="control-label">Your nickname *</label>\n\n                        '),l.buffer.push(o(a.view.call(s,"Ember.TextField",{hash:{elementId:"register-form-nickname",valueBinding:"content.nickname","class":"form-control",placeholder:"Please enter your nickname"},hashTypes:{elementId:"STRING",valueBinding:"STRING","class":"STRING",placeholder:"STRING"},hashContexts:{elementId:s,valueBinding:s,"class":s,placeholder:s},contexts:[s],types:["ID"],data:l}))),l.buffer.push('\n                        <span class="error">\n                            '),t=a._triageMustache.call(s,"content.errors.nickname",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:l}),(t||0===t)&&l.buffer.push(t),l.buffer.push('\n                        </span>\n                    </div>\n\n                </div>\n\n                <div class="clearfix"></div>\n\n            </div>\n            <div class="vlt-dialog-footer">\n                <a '),l.buffer.push(o(a.action.call(s,"save",{hash:{},hashTypes:{},hashContexts:{},contexts:[s],types:["ID"],data:l}))),l.buffer.push(' class="btn btn-primary">Save changes</a>\n            </div>\n\n        </div>\n    </form>\n</div>\n\n'),r});
Ember.TEMPLATES["Settings/SettingsKeys"]=Ember.Handlebars.template(function(e,s,n,a,t){function r(e,s){var a="";return s.buffer.push('\n                    <div class="vlt-dialog-body">\n                        <div class="text-center">\n                            If you want to generate new private key.\n                            Click the generate button and\n                            you will go throught generate process\n                            <br/>\n                            <br/>\n                            <a '),s.buffer.push(c(n.action.call(e,"generate",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}))),s.buffer.push(' class="btn btn-primary">Generate new private key</a>\n                        </div>\n                    </div>\n                '),a}function h(e,s){var a,t,r="";return s.buffer.push("\n                    "),s.buffer.push(c((a=n["change-key"]||e&&e["change-key"],t={hash:{action:"save"},hashTypes:{action:"STRING"},hashContexts:{action:e},contexts:[],types:[],data:s},a?a.call(e,t):p.call(e,"change-key",t)))),s.buffer.push("\n                "),r}function i(e,s){var a="";return s.buffer.push('\n                    <div class="top-30 bottom-30">\n\n                        <div class=" alert alert-success">\n                            <b>\n                                Your private key has been successfully changed.\n                            </b>\n                        </div>\n\n                        <div class=" bottom-30 text-center top-30">\n                            <span class="help-block">\n                                From now use new private key generated. Please be sure you have saved your private key.\n                            </span>\n\n                            <a class="btn btn-default" '),s.buffer.push(c(n.action.call(e,"savePrivateKey",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:s}))),s.buffer.push('>Save your new private key</a>\n                        </div>\n\n                        <div class="clearfix"></div>\n                    </div>\n\n                '),a}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),t=t||{};var o,l="",c=this.escapeExpression,p=n.helperMissing,u=this;return t.buffer.push('<div class="vlt-dialog">\n    <div class="vlt-dialog-content">\n        <div class="vlt-dialog-header">\n            <h2>Private key</h2>\n        </div>\n        <div class="vlt-dialog-body">\n\n            <div class="col-md-8 col-md-offset-2">\n                '),o=n["if"].call(s,"stepInfo",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,r,t),contexts:[s],types:["ID"],data:t}),(o||0===o)&&t.buffer.push(o),t.buffer.push("\n\n                "),o=n["if"].call(s,"stepKeys",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(3,h,t),contexts:[s],types:["ID"],data:t}),(o||0===o)&&t.buffer.push(o),t.buffer.push("\n\n                "),o=n["if"].call(s,"stepSuccess",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(5,i,t),contexts:[s],types:["ID"],data:t}),(o||0===o)&&t.buffer.push(o),t.buffer.push('\n\n\n            </div>\n            <div class="clearfix"></div>\n        </div>\n    </div>\n</div>\n'),l});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNoYW5nZUtleS5qcyIsIlNldHRpbmdzSW5kZXguanMiLCJTZXR0aW5nc1BlcnNvbmFsLmpzIiwiU2V0dGluZ3NLZXlzLmpzIl0sIm5hbWVzIjpbIkVtYmVyIiwiVEVNUExBVEVTIiwiSGFuZGxlYmFycyIsInRlbXBsYXRlIiwiZGVwdGgwIiwiaGVscGVycyIsInBhcnRpYWxzIiwiZGF0YSIsInByb2dyYW0xIiwiYnVmZmVyIiwicHVzaCIsImVzY2FwZUV4cHJlc3Npb24iLCJhY3Rpb24iLCJjYWxsIiwiaGFzaCIsInRhcmdldCIsImhhc2hUeXBlcyIsImhhc2hDb250ZXh0cyIsImNvbnRleHRzIiwidHlwZXMiLCJjbGFzcyIsImRpc2FibGVkIiwicHJvZ3JhbTMiLCJ0aGlzIiwiY29tcGlsZXJJbmZvIiwibWVyZ2UiLCJzdGFjazEiLCJzZWxmIiwiaW52ZXJzZSIsInByb2dyYW0iLCJmbiIsImhlbHBlciIsIm9wdGlvbnMiLCJub29wIiwicHJvZ3JhbTIiLCJoZWxwZXJNaXNzaW5nIiwicHJvZ3JhbTQiLCJwcm9ncmFtNSIsInZpZXciLCJ0YWIiLCJvdXRsZXQiLCJlbGVtZW50SWQiLCJ2YWx1ZUJpbmRpbmciLCJwbGFjZWhvbGRlciIsIl90cmlhZ2VNdXN0YWNoZSJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU1DLFVBQVUsc0JBQXdCRCxNQUFNRSxXQUFXQyxTQUFTLFNBQW1CRCxFQUFXRSxFQUFPQyxFQUFRQyxFQUFTQyxHQUt4SCxRQUFTQyxHQUFTSixFQUFPRyxHQUV2QixHQUFJRSxHQUFTLEVBc0JiLE9BckJBRixHQUFLRSxPQUFPQyxLQUFLLG91QkFDakJILEVBQUtFLE9BQU9DLEtBQUtDLEVBQWlCTixFQUFRTyxPQUFPQyxLQUFLVCxFQUFRLGtCQUFtQlUsTUFDL0VDLE9BQVUsUUFDVkMsV0FBV0QsT0FBVSxNQUFNRSxjQUFjRixPQUFVWCxHQUFRYyxVQUFVZCxHQUFRZSxPQUFPLE1BQU1aLEtBQUtBLE1BQ2pHQSxFQUFLRSxPQUFPQyxLQUFLLHNC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Q1ZEIiwiZmlsZSI6InNldHRpbmdzLnRwbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIkVtYmVyLlRFTVBMQVRFU1tcIlNldHRpbmdzL0NoYW5nZUtleVwiXSA9IEVtYmVyLkhhbmRsZWJhcnMudGVtcGxhdGUoZnVuY3Rpb24gYW5vbnltb3VzKEhhbmRsZWJhcnMsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xudGhpcy5jb21waWxlckluZm8gPSBbNCwnPj0gMS4wLjAnXTtcbmhlbHBlcnMgPSB0aGlzLm1lcmdlKGhlbHBlcnMsIEVtYmVyLkhhbmRsZWJhcnMuaGVscGVycyk7IGRhdGEgPSBkYXRhIHx8IHt9O1xuICB2YXIgc3RhY2sxLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgc2VsZj10aGlzO1xuXG5mdW5jdGlvbiBwcm9ncmFtMShkZXB0aDAsZGF0YSkge1xuICBcbiAgdmFyIGJ1ZmZlciA9ICcnO1xuICBkYXRhLmJ1ZmZlci5wdXNoKFwiXFxuXFxuICAgIDxwPlxcbiAgICAgICAgWW91ciBwdWJsaWMgYW5kIHByaXZhdGUga2V5cGFpciBoYXMgYmVlbiBnZW5lcmF0ZWQuXFxuICAgICAgICBQbGVhc2UgZm9sbG93IHN0ZXBzIHRvIGZpbmlzaCBwcm9jZWR1cmVcXG4gICAgPC9wPlxcblxcblxcbiAgICA8ZGl2IGNsYXNzPVxcXCJib3R0b20tMTUgdG9wLTMwXFxcIj5cXG4gICAgICAgIDxoND5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsYWJlbCBsYWJlbC1oZWFkZXJcXFwiPjE8L2Rpdj5cXG4gICAgICAgICAgICBTYXZlIHByaXZhdGUga2V5IGtleSB0byB5b3VyIGNvbXB1dGVyXFxuICAgICAgICA8L2g0PlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwidG9wLTE1IHBhZGRpbmctMTUgcGFuZWwgcGFuZWwtZGVmYXVsdFxcXCI+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtNSBjb2wtbWQtb2Zmc2V0LTFcXFwiPlxcbiAgICAgICAgICAgIDxiPlxcbiAgICAgICAgICAgICAgICBZb3VyIHByaXZhdGUga2V5XFxuICAgICAgICAgICAgPC9iPlxcbiAgICAgICAgICAgIDxici8+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFVzZWQgaW5zdGVhZCBvZiBwYXNzd29yZC4gUGxlYXNlIHNhdmUgdGhlIGtleS5cXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtNFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvblxcbiAgICAgICAgICAgICAgICBcIik7XG4gIGRhdGEuYnVmZmVyLnB1c2goZXNjYXBlRXhwcmVzc2lvbihoZWxwZXJzLmFjdGlvbi5jYWxsKGRlcHRoMCwgXCJzYXZlUHJpdmF0ZUtleVwiLCB7aGFzaDp7XG4gICAgJ3RhcmdldCc6IChcInZpZXdcIilcbiAgfSxoYXNoVHlwZXM6eyd0YXJnZXQnOiBcIklEXCJ9LGhhc2hDb250ZXh0czp7J3RhcmdldCc6IGRlcHRoMH0sY29udGV4dHM6W2RlcHRoMF0sdHlwZXM6W1wiSURcIl0sZGF0YTpkYXRhfSkpKTtcbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICBcIik7XG4gIGRhdGEuYnVmZmVyLnB1c2goZXNjYXBlRXhwcmVzc2lvbihoZWxwZXJzWydiaW5kLWF0dHInXS5jYWxsKGRlcHRoMCwge2hhc2g6e1xuICAgICdjbGFzcyc6IChcIjpidG4gdmlldy5wcml2YXRlS2V5U2F2ZWQ6YnRuLWRlZmF1bHQ6YnRuLXByaW1hcnlcIilcbiAgfSxoYXNoVHlwZXM6eydjbGFzcyc6IFwiU1RSSU5HXCJ9LGhhc2hDb250ZXh0czp7J2NsYXNzJzogZGVwdGgwfSxjb250ZXh0czpbXSx0eXBlczpbXSxkYXRhOmRhdGF9KSkpO1xuICBkYXRhLmJ1ZmZlci5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgIFNhdmUgcHJpdmF0ZSBrZXlcXG4gICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPjwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYm90dG9tLTE1ICB0b3AtMzBcXFwiPlxcbiAgICAgICAgPGg0PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxhYmVsIGxhYmVsLWhlYWRlclxcXCI+MjwvZGl2PlxcbiAgICAgICAgICAgIFNlbmQgeW91ciBwdWJsaWMga2V5IHRvIHNlcnZlclxcbiAgICAgICAgPC9oND5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcInRvcC0xNSBwYWRkaW5nLTE1IHBhbmVsIHBhbmVsLWRlZmF1bHRcXFwiPlxcblxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTUgY29sLW1kLW9mZnNldC0xXFxcIj5cXG4gICAgICAgICAgICA8Yj5cXG4gICAgICAgICAgICAgICAgWW91ciBwdWJsaWMga2V5XFxuICAgICAgICAgICAgPC9iPlxcbiAgICAgICAgICAgIDxici8+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFdpbGwgYmUgc2VudCB0byBzZXJ2ZXIgYW5kIGN5cGhlcnMgaXMgZ29pbmcgdG8gYmUgcmVidWlsdFxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC00XFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uXFxuICAgICAgICAgICAgICAgIFwiKTtcbiAgZGF0YS5idWZmZXIucHVzaChlc2NhcGVFeHByZXNzaW9uKGhlbHBlcnNbJ2JpbmQtYXR0ciddLmNhbGwoZGVwdGgwLCB7aGFzaDp7XG4gICAgJ2Rpc2FibGVkJzogKFwidmlldy5wdWJsaWNCdXR0b25EaXNhYmxlZFwiKVxuICB9LGhhc2hUeXBlczp7J2Rpc2FibGVkJzogXCJJRFwifSxoYXNoQ29udGV4dHM6eydkaXNhYmxlZCc6IGRlcHRoMH0sY29udGV4dHM6W10sdHlwZXM6W10sZGF0YTpkYXRhfSkpKTtcbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICBcIik7XG4gIGRhdGEuYnVmZmVyLnB1c2goZXNjYXBlRXhwcmVzc2lvbihoZWxwZXJzWydiaW5kLWF0dHInXS5jYWxsKGRlcHRoMCwge2hhc2g6e1xuICAgICdjbGFzcyc6IChcIjpidG4gdmlldy5wcml2YXRlS2V5U2F2ZWQ6YnRuLXByaW1hcnk6YnRuLWRlZmF1bHRcIilcbiAgfSxoYXNoVHlwZXM6eydjbGFzcyc6IFwiU1RSSU5HXCJ9LGhhc2hDb250ZXh0czp7J2NsYXNzJzogZGVwdGgwfSxjb250ZXh0czpbXSx0eXBlczpbXSxkYXRhOmRhdGF9KSkpO1xuICBkYXRhLmJ1ZmZlci5wdXNoKFwiXFxuICAgICAgICAgICAgICAgIFwiKTtcbiAgZGF0YS5idWZmZXIucHVzaChlc2NhcGVFeHByZXNzaW9uKGhlbHBlcnMuYWN0aW9uLmNhbGwoZGVwdGgwLCBcInNhdmVQdWJsaWNLZXlcIiwge2hhc2g6e1xuICAgICd0YXJnZXQnOiAoXCJ2aWV3XCIpXG4gIH0saGFzaFR5cGVzOnsndGFyZ2V0JzogXCJJRFwifSxoYXNoQ29udGV4dHM6eyd0YXJnZXQnOiBkZXB0aDB9LGNvbnRleHRzOltkZXB0aDBdLHR5cGVzOltcIklEXCJdLGRhdGE6ZGF0YX0pKSk7XG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPlxcbiAgICAgICAgICAgICAgICBTdWJtaXQgcHVibGljIGtleVxcbiAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+PC9kaXY+XFxuICAgIDwvZGl2PlxcblxcblxcblxcblwiKTtcbiAgcmV0dXJuIGJ1ZmZlcjtcbiAgfVxuXG5mdW5jdGlvbiBwcm9ncmFtMyhkZXB0aDAsZGF0YSkge1xuICBcbiAgXG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwiIHRleHQtY2VudGVyIHRvcC0zMFxcXCI+XFxuICAgICAgICA8aDQ+UGxlYXNlIHdhaXQgd2hpbGUgZ2VuZXJhdGluZyB5b3VyIGtleXMuLi48L2g0PlxcblxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidmx0LXByZWxvYWRlciB2bHQtcHJlbG9hZGVyLXNtYWxsXFxcIj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cIik7XG4gIH1cblxuICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCBcInZpZXcua2V5c1wiLCB7aGFzaDp7fSxoYXNoVHlwZXM6e30saGFzaENvbnRleHRzOnt9LGludmVyc2U6c2VsZi5wcm9ncmFtKDMsIHByb2dyYW0zLCBkYXRhKSxmbjpzZWxmLnByb2dyYW0oMSwgcHJvZ3JhbTEsIGRhdGEpLGNvbnRleHRzOltkZXB0aDBdLHR5cGVzOltcIklEXCJdLGRhdGE6ZGF0YX0pO1xuICBpZihzdGFjazEgfHwgc3RhY2sxID09PSAwKSB7IGRhdGEuYnVmZmVyLnB1c2goc3RhY2sxKTsgfVxuICBlbHNlIHsgZGF0YS5idWZmZXIucHVzaCgnJyk7IH1cbiAgXG59KTsiLCJFbWJlci5URU1QTEFURVNbXCJTZXR0aW5ncy9TZXR0aW5nc0luZGV4XCJdID0gRW1iZXIuSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiBhbm9ueW1vdXMoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG50aGlzLmNvbXBpbGVySW5mbyA9IFs0LCc+PSAxLjAuMCddO1xuaGVscGVycyA9IHRoaXMubWVyZ2UoaGVscGVycywgRW1iZXIuSGFuZGxlYmFycy5oZWxwZXJzKTsgZGF0YSA9IGRhdGEgfHwge307XG4gIHZhciBidWZmZXIgPSAnJywgc3RhY2sxLCBoZWxwZXIsIG9wdGlvbnMsIHNlbGY9dGhpcywgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xuXG5mdW5jdGlvbiBwcm9ncmFtMShkZXB0aDAsZGF0YSkge1xuICBcbiAgdmFyIGJ1ZmZlciA9ICcnLCBzdGFjazEsIGhlbHBlciwgb3B0aW9ucztcbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIik7XG4gIHN0YWNrMSA9IChoZWxwZXIgPSBoZWxwZXJzWydsaW5rLXRvJ10gfHwgKGRlcHRoMCAmJiBkZXB0aDBbJ2xpbmstdG8nXSksb3B0aW9ucz17aGFzaDp7fSxoYXNoVHlwZXM6e30saGFzaENvbnRleHRzOnt9LGludmVyc2U6c2VsZi5ub29wLGZuOnNlbGYucHJvZ3JhbSgyLCBwcm9ncmFtMiwgZGF0YSksY29udGV4dHM6W2RlcHRoMF0sdHlwZXM6W1wiU1RSSU5HXCJdLGRhdGE6ZGF0YX0saGVscGVyID8gaGVscGVyLmNhbGwoZGVwdGgwLCBcIlNldHRpbmdzLnBlcnNvbmFsXCIsIG9wdGlvbnMpIDogaGVscGVyTWlzc2luZy5jYWxsKGRlcHRoMCwgXCJsaW5rLXRvXCIsIFwiU2V0dGluZ3MucGVyc29uYWxcIiwgb3B0aW9ucykpO1xuICBpZihzdGFjazEgfHwgc3RhY2sxID09PSAwKSB7IGRhdGEuYnVmZmVyLnB1c2goc3RhY2sxKTsgfVxuICBkYXRhLmJ1ZmZlci5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIpO1xuICByZXR1cm4gYnVmZmVyO1xuICB9XG5mdW5jdGlvbiBwcm9ncmFtMihkZXB0aDAsZGF0YSkge1xuICBcbiAgXG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE15IHByb2ZpbGVcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIpO1xuICB9XG5cbmZ1bmN0aW9uIHByb2dyYW00KGRlcHRoMCxkYXRhKSB7XG4gIFxuICB2YXIgYnVmZmVyID0gJycsIHN0YWNrMSwgaGVscGVyLCBvcHRpb25zO1xuICBkYXRhLmJ1ZmZlci5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKTtcbiAgc3RhY2sxID0gKGhlbHBlciA9IGhlbHBlcnNbJ2xpbmstdG8nXSB8fCAoZGVwdGgwICYmIGRlcHRoMFsnbGluay10byddKSxvcHRpb25zPXtoYXNoOnt9LGhhc2hUeXBlczp7fSxoYXNoQ29udGV4dHM6e30saW52ZXJzZTpzZWxmLm5vb3AsZm46c2VsZi5wcm9ncmFtKDUsIHByb2dyYW01LCBkYXRhKSxjb250ZXh0czpbZGVwdGgwXSx0eXBlczpbXCJTVFJJTkdcIl0sZGF0YTpkYXRhfSxoZWxwZXIgPyBoZWxwZXIuY2FsbChkZXB0aDAsIFwiU2V0dGluZ3Mua2V5c1wiLCBvcHRpb25zKSA6IGhlbHBlck1pc3NpbmcuY2FsbChkZXB0aDAsIFwibGluay10b1wiLCBcIlNldHRpbmdzLmtleXNcIiwgb3B0aW9ucykpO1xuICBpZihzdGFjazEgfHwgc3RhY2sxID09PSAwKSB7IGRhdGEuYnVmZmVyLnB1c2goc3RhY2sxKTsgfVxuICBkYXRhLmJ1ZmZlci5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIpO1xuICByZXR1cm4gYnVmZmVyO1xuICB9XG5mdW5jdGlvbiBwcm9ncmFtNShkZXB0aDAsZGF0YSkge1xuICBcbiAgXG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByaXZhdGUga2V5XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKTtcbiAgfVxuXG4gIGRhdGEuYnVmZmVyLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJjb250YWluZXJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ2bHQtcGFnZSB2bHQtcGFnZS1wbGFpblxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRvcC01MFxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0zXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2IG5hdi1waWxscyBuYXYtc3RhY2tlZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIpO1xuICBzdGFjazEgPSBoZWxwZXJzLnZpZXcuY2FsbChkZXB0aDAsIFwidmlldy5UYWJWaWV3XCIsIHtoYXNoOntcbiAgICAndGFiJzogKFwicGVyc29uYWxcIilcbiAgfSxoYXNoVHlwZXM6eyd0YWInOiBcIlNUUklOR1wifSxoYXNoQ29udGV4dHM6eyd0YWInOiBkZXB0aDB9LGludmVyc2U6c2VsZi5ub29wLGZuOnNlbGYucHJvZ3JhbSgxLCBwcm9ncmFtMSwgZGF0YSksY29udGV4dHM6W2RlcHRoMF0sdHlwZXM6W1wiSURcIl0sZGF0YTpkYXRhfSk7XG4gIGlmKHN0YWNrMSB8fCBzdGFjazEgPT09IDApIHsgZGF0YS5idWZmZXIucHVzaChzdGFjazEpOyB9XG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIik7XG4gIHN0YWNrMSA9IGhlbHBlcnMudmlldy5jYWxsKGRlcHRoMCwgXCJ2aWV3LlRhYlZpZXdcIiwge2hhc2g6e1xuICAgICd0YWInOiAoXCJrZXlzXCIpXG4gIH0saGFzaFR5cGVzOnsndGFiJzogXCJTVFJJTkdcIn0saGFzaENvbnRleHRzOnsndGFiJzogZGVwdGgwfSxpbnZlcnNlOnNlbGYubm9vcCxmbjpzZWxmLnByb2dyYW0oNCwgcHJvZ3JhbTQsIGRhdGEpLGNvbnRleHRzOltkZXB0aDBdLHR5cGVzOltcIklEXCJdLGRhdGE6ZGF0YX0pO1xuICBpZihzdGFjazEgfHwgc3RhY2sxID09PSAwKSB7IGRhdGEuYnVmZmVyLnB1c2goc3RhY2sxKTsgfVxuICBkYXRhLmJ1ZmZlci5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCIpO1xuICBkYXRhLmJ1ZmZlci5wdXNoKGVzY2FwZUV4cHJlc3Npb24oKGhlbHBlciA9IGhlbHBlcnMub3V0bGV0IHx8IChkZXB0aDAgJiYgZGVwdGgwLm91dGxldCksb3B0aW9ucz17aGFzaDp7fSxoYXNoVHlwZXM6e30saGFzaENvbnRleHRzOnt9LGNvbnRleHRzOltkZXB0aDBdLHR5cGVzOltcIklEXCJdLGRhdGE6ZGF0YX0saGVscGVyID8gaGVscGVyLmNhbGwoZGVwdGgwLCBcIlNldHRpbmdzXCIsIG9wdGlvbnMpIDogaGVscGVyTWlzc2luZy5jYWxsKGRlcHRoMCwgXCJvdXRsZXRcIiwgXCJTZXR0aW5nc1wiLCBvcHRpb25zKSkpKTtcbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPjwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cXG5cXG5cIik7XG4gIHJldHVybiBidWZmZXI7XG4gIFxufSk7IiwiRW1iZXIuVEVNUExBVEVTW1wiU2V0dGluZ3MvU2V0dGluZ3NQZXJzb25hbFwiXSA9IEVtYmVyLkhhbmRsZWJhcnMudGVtcGxhdGUoZnVuY3Rpb24gYW5vbnltb3VzKEhhbmRsZWJhcnMsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xudGhpcy5jb21waWxlckluZm8gPSBbNCwnPj0gMS4wLjAnXTtcbmhlbHBlcnMgPSB0aGlzLm1lcmdlKGhlbHBlcnMsIEVtYmVyLkhhbmRsZWJhcnMuaGVscGVycyk7IGRhdGEgPSBkYXRhIHx8IHt9O1xuICB2YXIgYnVmZmVyID0gJycsIHN0YWNrMSwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XG5cblxuICBkYXRhLmJ1ZmZlci5wdXNoKFwiPGRpdiBjbGFzcz1cXFwidmx0LWRpYWxvZ1xcXCI+XFxuICAgIDxmb3JtPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidmx0LWRpYWxvZy1jb250ZW50XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ2bHQtZGlhbG9nLWhlYWRlclxcXCI+XFxuICAgICAgICAgICAgICAgIDxoMj5QZXJzb25hbCBzZXR0aW5nczwvaDI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidmx0LWRpYWxvZy1ib2R5XFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTggY29sLW1kLW9mZnNldC0yXFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIFwiKTtcbiAgZGF0YS5idWZmZXIucHVzaChlc2NhcGVFeHByZXNzaW9uKGhlbHBlcnNbJ2JpbmQtYXR0ciddLmNhbGwoZGVwdGgwLCB7aGFzaDp7XG4gICAgJ2NsYXNzJzogKFwiY29udGVudC5lcnJvcnMuZW1haWw6aGFzLWVycm9yXCIpXG4gIH0saGFzaFR5cGVzOnsnY2xhc3MnOiBcIlNUUklOR1wifSxoYXNoQ29udGV4dHM6eydjbGFzcyc6IGRlcHRoMH0sY29udGV4dHM6W10sdHlwZXM6W10sZGF0YTpkYXRhfSkpKTtcbiAgZGF0YS5idWZmZXIucHVzaChcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJyZWdpc3Rlci1mb3JtLWVtYWlsXFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+RW1haWwgKjwvbGFiZWw+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIpO1xuICBkYXRhLmJ1ZmZlci5wdXNoKGVzY2FwZUV4cHJlc3Npb24oaGVscGVycy52aWV3LmNhbGwoZGVwdGgwLCBcIkVtYmVyLlRleHRGaWVsZFwiLCB7aGFzaDp7XG4gICAgJ2VsZW1lbnRJZCc6IChcInJlZ2lzdGVyLWZvcm0tZW1haWxcIiksXG4gICAgJ3ZhbHVlQmluZGluZyc6IChcImNvbnRlbnQuZW1haWxcIiksXG4gICAgJ2NsYXNzJzogKFwiZm9ybS1jb250cm9sXCIpLFxuICAgICdwbGFjZWhvbGRlcic6IChcIlBsZWFzZSBlbnRlciB2YWxpZCBlbWFpbCBhZGRyZXNzXCIpXG4gIH0saGFzaFR5cGVzOnsnZWxlbWVudElkJzogXCJTVFJJTkdcIiwndmFsdWVCaW5kaW5nJzogXCJTVFJJTkdcIiwnY2xhc3MnOiBcIlNUUklOR1wiLCdwbGFjZWhvbGRlcic6IFwiU1RSSU5HXCJ9LGhhc2hDb250ZXh0czp7J2VsZW1lbnRJZCc6IGRlcHRoMCwndmFsdWVCaW5kaW5nJzogZGVwdGgwLCdjbGFzcyc6IGRlcHRoMCwncGxhY2Vob2xkZXInOiBkZXB0aDB9LGNvbnRleHRzOltkZXB0aDBdLHR5cGVzOltcIklEXCJdLGRhdGE6ZGF0YX0pKSk7XG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZXJyb3JcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIik7XG4gIHN0YWNrMSA9IGhlbHBlcnMuX3RyaWFnZU11c3RhY2hlLmNhbGwoZGVwdGgwLCBcImNvbnRlbnQuZXJyb3JzLmVtYWlsXCIsIHtoYXNoOnt9LGhhc2hUeXBlczp7fSxoYXNoQ29udGV4dHM6e30sY29udGV4dHM6W2RlcHRoMF0sdHlwZXM6W1wiSURcIl0sZGF0YTpkYXRhfSk7XG4gIGlmKHN0YWNrMSB8fCBzdGFjazEgPT09IDApIHsgZGF0YS5idWZmZXIucHVzaChzdGFjazEpOyB9XG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIFwiKTtcbiAgZGF0YS5idWZmZXIucHVzaChlc2NhcGVFeHByZXNzaW9uKGhlbHBlcnNbJ2JpbmQtYXR0ciddLmNhbGwoZGVwdGgwLCB7aGFzaDp7XG4gICAgJ2NsYXNzJzogKFwiY29udGVudC5lcnJvcnMubmlja25hbWU6aGFzLWVycm9yXCIpXG4gIH0saGFzaFR5cGVzOnsnY2xhc3MnOiBcIlNUUklOR1wifSxoYXNoQ29udGV4dHM6eydjbGFzcyc6IGRlcHRoMH0sY29udGV4dHM6W10sdHlwZXM6W10sZGF0YTpkYXRhfSkpKTtcbiAgZGF0YS5idWZmZXIucHVzaChcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJyZWdpc3Rlci1mb3JtLW5pY2tuYW1lXFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+WW91ciBuaWNrbmFtZSAqPC9sYWJlbD5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIik7XG4gIGRhdGEuYnVmZmVyLnB1c2goZXNjYXBlRXhwcmVzc2lvbihoZWxwZXJzLnZpZXcuY2FsbChkZXB0aDAsIFwiRW1iZXIuVGV4dEZpZWxkXCIsIHtoYXNoOntcbiAgICAnZWxlbWVudElkJzogKFwicmVnaXN0ZXItZm9ybS1uaWNrbmFtZVwiKSxcbiAgICAndmFsdWVCaW5kaW5nJzogKFwiY29udGVudC5uaWNrbmFtZVwiKSxcbiAgICAnY2xhc3MnOiAoXCJmb3JtLWNvbnRyb2xcIiksXG4gICAgJ3BsYWNlaG9sZGVyJzogKFwiUGxlYXNlIGVudGVyIHlvdXIgbmlja25hbWVcIilcbiAgfSxoYXNoVHlwZXM6eydlbGVtZW50SWQnOiBcIlNUUklOR1wiLCd2YWx1ZUJpbmRpbmcnOiBcIlNUUklOR1wiLCdjbGFzcyc6IFwiU1RSSU5HXCIsJ3BsYWNlaG9sZGVyJzogXCJTVFJJTkdcIn0saGFzaENvbnRleHRzOnsnZWxlbWVudElkJzogZGVwdGgwLCd2YWx1ZUJpbmRpbmcnOiBkZXB0aDAsJ2NsYXNzJzogZGVwdGgwLCdwbGFjZWhvbGRlcic6IGRlcHRoMH0sY29udGV4dHM6W2RlcHRoMF0sdHlwZXM6W1wiSURcIl0sZGF0YTpkYXRhfSkpKTtcbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJlcnJvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKTtcbiAgc3RhY2sxID0gaGVscGVycy5fdHJpYWdlTXVzdGFjaGUuY2FsbChkZXB0aDAsIFwiY29udGVudC5lcnJvcnMubmlja25hbWVcIiwge2hhc2g6e30saGFzaFR5cGVzOnt9LGhhc2hDb250ZXh0czp7fSxjb250ZXh0czpbZGVwdGgwXSx0eXBlczpbXCJJRFwiXSxkYXRhOmRhdGF9KTtcbiAgaWYoc3RhY2sxIHx8IHN0YWNrMSA9PT0gMCkgeyBkYXRhLmJ1ZmZlci5wdXNoKHN0YWNrMSk7IH1cbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPjwvZGl2PlxcblxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInZsdC1kaWFsb2ctZm9vdGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGEgXCIpO1xuICBkYXRhLmJ1ZmZlci5wdXNoKGVzY2FwZUV4cHJlc3Npb24oaGVscGVycy5hY3Rpb24uY2FsbChkZXB0aDAsIFwic2F2ZVwiLCB7aGFzaDp7fSxoYXNoVHlwZXM6e30saGFzaENvbnRleHRzOnt9LGNvbnRleHRzOltkZXB0aDBdLHR5cGVzOltcIklEXCJdLGRhdGE6ZGF0YX0pKSk7XG4gIGRhdGEuYnVmZmVyLnB1c2goXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+U2F2ZSBjaGFuZ2VzPC9hPlxcbiAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZm9ybT5cXG48L2Rpdj5cXG5cXG5cIik7XG4gIHJldHVybiBidWZmZXI7XG4gIFxufSk7IiwiRW1iZXIuVEVNUExBVEVTW1wiU2V0dGluZ3MvU2V0dGluZ3NLZXlzXCJdID0gRW1iZXIuSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiBhbm9ueW1vdXMoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG50aGlzLmNvbXBpbGVySW5mbyA9IFs0LCc+PSAxLjAuMCddO1xuaGVscGVycyA9IHRoaXMubWVyZ2UoaGVscGVycywgRW1iZXIuSGFuZGxlYmFycy5oZWxwZXJzKTsgZGF0YSA9IGRhdGEgfHwge307XG4gIHZhciBidWZmZXIgPSAnJywgc3RhY2sxLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIHNlbGY9dGhpcztcblxuZnVuY3Rpb24gcHJvZ3JhbTEoZGVwdGgwLGRhdGEpIHtcbiAgXG4gIHZhciBidWZmZXIgPSAnJztcbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidmx0LWRpYWxvZy1ib2R5XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHlvdSB3YW50IHRvIGdlbmVyYXRlIG5ldyBwcml2YXRlIGtleS5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2xpY2sgdGhlIGdlbmVyYXRlIGJ1dHRvbiBhbmRcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeW91IHdpbGwgZ28gdGhyb3VnaHQgZ2VuZXJhdGUgcHJvY2Vzc1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBcIik7XG4gIGRhdGEuYnVmZmVyLnB1c2goZXNjYXBlRXhwcmVzc2lvbihoZWxwZXJzLmFjdGlvbi5jYWxsKGRlcHRoMCwgXCJnZW5lcmF0ZVwiLCB7aGFzaDp7fSxoYXNoVHlwZXM6e30saGFzaENvbnRleHRzOnt9LGNvbnRleHRzOltkZXB0aDBdLHR5cGVzOltcIklEXCJdLGRhdGE6ZGF0YX0pKSk7XG4gIGRhdGEuYnVmZmVyLnB1c2goXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+R2VuZXJhdGUgbmV3IHByaXZhdGUga2V5PC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiKTtcbiAgcmV0dXJuIGJ1ZmZlcjtcbiAgfVxuXG5mdW5jdGlvbiBwcm9ncmFtMyhkZXB0aDAsZGF0YSkge1xuICBcbiAgdmFyIGJ1ZmZlciA9ICcnLCBoZWxwZXIsIG9wdGlvbnM7XG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiKTtcbiAgZGF0YS5idWZmZXIucHVzaChlc2NhcGVFeHByZXNzaW9uKChoZWxwZXIgPSBoZWxwZXJzWydjaGFuZ2Uta2V5J10gfHwgKGRlcHRoMCAmJiBkZXB0aDBbJ2NoYW5nZS1rZXknXSksb3B0aW9ucz17aGFzaDp7XG4gICAgJ2FjdGlvbic6IChcInNhdmVcIilcbiAgfSxoYXNoVHlwZXM6eydhY3Rpb24nOiBcIlNUUklOR1wifSxoYXNoQ29udGV4dHM6eydhY3Rpb24nOiBkZXB0aDB9LGNvbnRleHRzOltdLHR5cGVzOltdLGRhdGE6ZGF0YX0saGVscGVyID8gaGVscGVyLmNhbGwoZGVwdGgwLCBvcHRpb25zKSA6IGhlbHBlck1pc3NpbmcuY2FsbChkZXB0aDAsIFwiY2hhbmdlLWtleVwiLCBvcHRpb25zKSkpKTtcbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICBcIik7XG4gIHJldHVybiBidWZmZXI7XG4gIH1cblxuZnVuY3Rpb24gcHJvZ3JhbTUoZGVwdGgwLGRhdGEpIHtcbiAgXG4gIHZhciBidWZmZXIgPSAnJztcbiAgZGF0YS5idWZmZXIucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidG9wLTMwIGJvdHRvbS0zMFxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiIGFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFlvdXIgcHJpdmF0ZSBrZXkgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNoYW5nZWQuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCIgYm90dG9tLTMwIHRleHQtY2VudGVyIHRvcC0zMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZyb20gbm93IHVzZSBuZXcgcHJpdmF0ZSBrZXkgZ2VuZXJhdGVkLiBQbGVhc2UgYmUgc3VyZSB5b3UgaGF2ZSBzYXZlZCB5b3VyIHByaXZhdGUga2V5LlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIFwiKTtcbiAgZGF0YS5idWZmZXIucHVzaChlc2NhcGVFeHByZXNzaW9uKGhlbHBlcnMuYWN0aW9uLmNhbGwoZGVwdGgwLCBcInNhdmVQcml2YXRlS2V5XCIsIHtoYXNoOnt9LGhhc2hUeXBlczp7fSxoYXNoQ29udGV4dHM6e30sY29udGV4dHM6W2RlcHRoMF0sdHlwZXM6W1wiSURcIl0sZGF0YTpkYXRhfSkpKTtcbiAgZGF0YS5idWZmZXIucHVzaChcIj5TYXZlIHlvdXIgbmV3IHByaXZhdGUga2V5PC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4XFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICBcIik7XG4gIHJldHVybiBidWZmZXI7XG4gIH1cblxuICBkYXRhLmJ1ZmZlci5wdXNoKFwiPGRpdiBjbGFzcz1cXFwidmx0LWRpYWxvZ1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInZsdC1kaWFsb2ctY29udGVudFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ2bHQtZGlhbG9nLWhlYWRlclxcXCI+XFxuICAgICAgICAgICAgPGgyPlByaXZhdGUga2V5PC9oMj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidmx0LWRpYWxvZy1ib2R5XFxcIj5cXG5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtOCBjb2wtbWQtb2Zmc2V0LTJcXFwiPlxcbiAgICAgICAgICAgICAgICBcIik7XG4gIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIFwic3RlcEluZm9cIiwge2hhc2g6e30saGFzaFR5cGVzOnt9LGhhc2hDb250ZXh0czp7fSxpbnZlcnNlOnNlbGYubm9vcCxmbjpzZWxmLnByb2dyYW0oMSwgcHJvZ3JhbTEsIGRhdGEpLGNvbnRleHRzOltkZXB0aDBdLHR5cGVzOltcIklEXCJdLGRhdGE6ZGF0YX0pO1xuICBpZihzdGFjazEgfHwgc3RhY2sxID09PSAwKSB7IGRhdGEuYnVmZmVyLnB1c2goc3RhY2sxKTsgfVxuICBkYXRhLmJ1ZmZlci5wdXNoKFwiXFxuXFxuICAgICAgICAgICAgICAgIFwiKTtcbiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgXCJzdGVwS2V5c1wiLCB7aGFzaDp7fSxoYXNoVHlwZXM6e30saGFzaENvbnRleHRzOnt9LGludmVyc2U6c2VsZi5ub29wLGZuOnNlbGYucHJvZ3JhbSgzLCBwcm9ncmFtMywgZGF0YSksY29udGV4dHM6W2RlcHRoMF0sdHlwZXM6W1wiSURcIl0sZGF0YTpkYXRhfSk7XG4gIGlmKHN0YWNrMSB8fCBzdGFjazEgPT09IDApIHsgZGF0YS5idWZmZXIucHVzaChzdGFjazEpOyB9XG4gIGRhdGEuYnVmZmVyLnB1c2goXCJcXG5cXG4gICAgICAgICAgICAgICAgXCIpO1xuICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCBcInN0ZXBTdWNjZXNzXCIsIHtoYXNoOnt9LGhhc2hUeXBlczp7fSxoYXNoQ29udGV4dHM6e30saW52ZXJzZTpzZWxmLm5vb3AsZm46c2VsZi5wcm9ncmFtKDUsIHByb2dyYW01LCBkYXRhKSxjb250ZXh0czpbZGVwdGgwXSx0eXBlczpbXCJJRFwiXSxkYXRhOmRhdGF9KTtcbiAgaWYoc3RhY2sxIHx8IHN0YWNrMSA9PT0gMCkgeyBkYXRhLmJ1ZmZlci5wdXNoKHN0YWNrMSk7IH1cbiAgZGF0YS5idWZmZXIucHVzaChcIlxcblxcblxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4XFxcIj48L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4gIHJldHVybiBidWZmZXI7XG4gIFxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9